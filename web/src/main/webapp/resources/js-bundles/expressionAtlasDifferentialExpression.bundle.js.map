{"version":3,"sources":["webpack:///./expression-atlas-differential-expression/index.js","webpack:///./expression-atlas-differential-expression/src/differentialRenderer.js","webpack:///./expression-atlas-differential-expression/src/DifferentialRouter.jsx","webpack:///./expression-atlas-differential-expression/~/url/url.js","webpack:///./expression-atlas-differential-expression/~/url/~/punycode/punycode.js","webpack:///./expression-atlas-differential-expression/~/querystring/index.js","webpack:///./expression-atlas-differential-expression/~/querystring/decode.js","webpack:///./expression-atlas-differential-expression/~/querystring/encode.js","webpack:///./expression-atlas-differential-expression/src/DifferentialResults.jsx","webpack:///./expression-atlas-differential-expression/~/display-levels-button/index.js","webpack:///./expression-atlas-differential-expression/~/display-levels-button/src/DisplayLevelsButton.jsx","webpack:///./expression-atlas-differential-expression/~/legend/index.js","webpack:///./expression-atlas-differential-expression/~/legend/src/LegendDifferential.jsx","webpack:///./expression-atlas-differential-expression/~/legend/src/LegendRow.jsx","webpack:///./expression-atlas-differential-expression/~/legend/src/gxaGradient.css?ef3a","webpack:///./expression-atlas-differential-expression/~/legend/src/gxaGradient.css","webpack:///./expression-atlas-differential-expression/~/help-tooltips/index.js","webpack:///./expression-atlas-differential-expression/~/help-tooltips/src/helpTooltipsModule.js","webpack:///./expression-atlas-differential-expression/~/help-tooltips/src/gxaHelpTooltip.css?b003","webpack:///./expression-atlas-differential-expression/~/help-tooltips/src/gxaHelpTooltip.css","webpack:///./expression-atlas-differential-expression/~/legend/src/gxaLegend.css?dee3","webpack:///./expression-atlas-differential-expression/~/legend/src/gxaLegend.css","webpack:///./expression-atlas-differential-expression/~/legend/src/LegendBaseline.jsx","webpack:///./expression-atlas-differential-expression/~/number-format/index.js","webpack:///./expression-atlas-differential-expression/~/number-format/src/NumberFormat.jsx","webpack:///./expression-atlas-differential-expression/~/cell-differential/index.js","webpack:///./expression-atlas-differential-expression/~/cell-differential/src/CellDifferential.jsx","webpack:///./expression-atlas-differential-expression/~/react-dom/server.js","webpack:///./expression-atlas-differential-expression/~/cell-differential/src/gxaShowHideCell.css?4c85","webpack:///./expression-atlas-differential-expression/~/cell-differential/src/gxaShowHideCell.css","webpack:///./expression-atlas-differential-expression/~/cell-differential/src/gxaDifferentialCellTooltip.css?b3ec","webpack:///./expression-atlas-differential-expression/~/cell-differential/src/gxaDifferentialCellTooltip.css","webpack:///./expression-atlas-differential-expression/src/DifferentialDownloadButton.jsx","webpack:///./expression-atlas-differential-expression/src/DifferentialDownloadButton.css?508c","webpack:///./expression-atlas-differential-expression/src/DifferentialDownloadButton.css","webpack:///./expression-atlas-differential-expression/~/contrast-tooltips/index.js","webpack:///./expression-atlas-differential-expression/~/contrast-tooltips/src/contrastTooltipModule.js","webpack:///./expression-atlas-differential-expression/~/contrast-tooltips/src/ContrastTooltip.jsx","webpack:///./expression-atlas-differential-expression/~/contrast-tooltips/src/gxaContrastTooltip.css?46a9","webpack:///./expression-atlas-differential-expression/~/contrast-tooltips/src/gxaContrastTooltip.css","webpack:///./expression-atlas-differential-expression/~/atlas-feedback/index.js","webpack:///./expression-atlas-differential-expression/~/atlas-feedback/src/Feedback.jsx","webpack:///./expression-atlas-differential-expression/~/atlas-feedback/assets/emojione.sprites.png","webpack:///./expression-atlas-differential-expression/~/atlas-feedback/src/gxaFeedback.css?05b6","webpack:///./expression-atlas-differential-expression/~/atlas-feedback/src/gxaFeedback.css","webpack:///./expression-atlas-differential-expression/~/react-ebi-species/index.js","webpack:///./expression-atlas-differential-expression/~/react-ebi-species/src/SpeciesIcon.jsx","webpack:///./expression-atlas-differential-expression/~/react-ebi-species/src/ebi-visual-species.css?b6f1","webpack:///./expression-atlas-differential-expression/~/react-ebi-species/src/ebi-visual-species.css","webpack:///./expression-atlas-differential-expression/~/react-ebi-species/src/mapping.js","webpack:///./expression-atlas-differential-expression/~/react-ebi-species/src/renderer.js","webpack:///./expression-atlas-differential-expression/src/DifferentialResults.css?bc1a","webpack:///./expression-atlas-differential-expression/src/DifferentialResults.css","webpack:///./expression-atlas-differential-expression/src/DifferentialFacetsTree.jsx","webpack:///./expression-atlas-differential-expression/src/DifferentialFacetsTree.css?8d66","webpack:///./expression-atlas-differential-expression/src/DifferentialFacetsTree.css","webpack:///./expression-atlas-differential-expression/src/urlManager.js"],"names":["module","exports","require","React","ReactDOM","DifferentialRouter","atlasHostUrl","hostUrl","window","location","protocol","host","geneQuery","conditionQuery","species","target","render","createElement","document","getElementById","$","ajaxSetup","traditional","Url","Results","Facets","UrlManager","RequiredString","PropTypes","string","isRequired","createClass","propTypes","getInitialState","facetsTreeData","results","legend","maxDownLevel","minDownLevel","minUpLevel","maxUpLevel","querySelect","componentDidMount","_loadInitialData","addEventListener","setState","parseDifferentialUrlParameter","_addElementToObjectOfArrays","obj","arrayName","element","push","_removeElementFromObjectOfArrays","splice","indexOf","length","_setChecked","facetName","facetItemName","checked","newQuerySelect","JSON","parse","stringify","state","differentialPush","_filteredResults","query","filter","_resultMatchesQuery","result","Object","keys","every","some","_equalsToOrIncludes","facetItem","value","constructor","Array","includes","_prepareFacetTreeData","filteredResults","map","facet","facetItems","allFilteredResultsMatchThisFacetItem","name","querySelectAfterSwitchingThisFacetItem","resultIdsAfterSwitchingThisFacetItem","id","sort","currentResultIds","sameResultsAfterSwitchingThisItem","noResultsAfterSwitchingThisItem","disabled","props","differentialFacetsUrlObject","differentialResultsUrlObject","pathname","queryParams","organism","onAjaxFailure","jqXHR","textStatus","errorThrown","console","log","ajax","url","format","dataType","success","kingdom","facetsResponse","_transformFacetsResponseToArray","_pruneFacetsTreeBasedOnResultsThatCameIn","resultsResponse","error","punycode","urlParse","resolve","urlResolve","resolveObject","urlResolveObject","urlFormat","slashes","auth","port","hostname","hash","search","path","href","protocolPattern","portPattern","delims","unwise","concat","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","parseQueryString","slashesDenoteHost","isObject","u","prototype","isString","TypeError","rest","trim","proto","exec","lowerProto","toLowerCase","substr","match","hostEnd","i","hec","atSign","lastIndexOf","slice","decodeURIComponent","parseHost","ipv6Hostname","hostparts","split","l","part","newpart","j","k","charCodeAt","validParts","notHost","bit","unshift","join","domainArray","newOut","s","encode","p","h","ae","esc","encodeURIComponent","escape","qm","call","replace","charAt","source","relative","rel","forEach","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","isNullOrUndefined","authInHost","isNull","last","hasTrailingSlash","up","isAbsolute","arg","root","freeExports","nodeType","freeModule","freeGlobal","global","self","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","Math","stringFromCharCode","String","fromCharCode","key","type","RangeError","array","fn","mapDomain","parts","labels","encoded","ucs2decode","output","counter","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","out","n","bias","basic","index","oldi","w","t","baseMinusT","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","test","toASCII","define","hasOwnProperty","prop","qs","sep","eq","options","regexp","maxKeys","len","x","idx","kstr","vstr","v","isArray","stringifyPrimitive","isFinite","undefined","ks","DisplayLevelsButton","Legend","LegendDifferential","CellDifferential","DifferentialDownloadButton","ContrastTooltips","AtlasFeedback","EbiSpeciesIcon","Icon","OptionalString","RequiredBool","bool","DifferentialResults","arrayOf","shape","experimentType","numReplicates","regulation","factors","bioentityIdentifier","experimentAccession","experimentName","contrastId","comparison","foldChange","colour","displayLevels","googleAnalyticsCallback","ga","_toggleDisplayLevels","newDisplayLevels","differentialResultRows","diffResult","feedbackSmileys","browser","msie","marginTop","score","comment","display","verticalAlign","paddingLeft","width","DifferentialResultRow","atlasBaseUrl","_linkToComparisonPage","toString","infinity","findDOMNode","refs","ready","hideText","showText","onClickCallback","func","fontSize","_buttonText","_updateButtonText","button","label","style","componentDidUpdate","LegendBaseline","LegendRow","HelpTooltips","atlasBaseURL","isNaN","legendHelp","lowValueColour","highValueColour","lowExpressionLevel","oneOfType","highExpressionLevel","BACKGROUND_IMAGE_TEMPLATE","backgroundImage","LT_IE10_FILTER_TEMPLATE","lt_ie10_filter","buildHelpAnchor","class","title","text","getHelpFileName","pageName","initTooltips","parentElementId","anchor","helpSelector","append","click","e","preventDefault","tooltip","tooltipClass","content","callback","tooltipHelpHtmlId","parent","attr","get","response","status","xhr","tooltipContent","statusText","NumberFormat","minExpressionLevel","maxExpressionLevel","isMultiExperiment","dataHelpLoc","baselineExpression","formatBaselineExpression","expressionLevel","numberExpressionLevel","formatScientificNotation","toExponential","scientificNotationString","formatParts","mantissa","exponent","scientificNotation","ReactDOMServer","number","pValue","tStat","_hasValue","_getStyle","backgroundColor","_initTooltip","buildHeatmapCellTooltip","tStatistic","renderToStaticMarkup","thisProps","open","event","ui","css","RequiredNumber","OptionalNumber","DownloadDifferentialButton","tStatistics","_convertJsonToTsv","arrayResults","headers","diffResults","tsv","el","_downloadDifferentialProfiles","downloadProfilesLink","downloadImgSrcURL","tsvString","uri","encodeURI","fileName","$downloadProfilesLink","ContrastTooltip","initTooltip","contextRoot","accessKey","hide","show","close","remove","data","html","renderToString","experimentDescription","contrastDescription","testReplicates","referenceReplicates","properties","fail","contrastPropertyType","propertyName","referenceValue","testValue","propertyRow","property","isFactor","whiteSpace","fontWeight","color","textAlign","padding","margin","LocalStorageMixin","TimerMixin","ReactCSSTransitionGroup","BootstrapButton","BootstrapFormGroup","BootstrapFormControl","EmojiSpritesFile","Emoji","FeedbackPersistence","createFeedbackComponent","FeedbackUIComponent","displayName","mixins","collectionCallback","created","Date","toISOString","shownTimes","_shouldShow","timeDiff","abs","getTime","diffDays","ceil","_hide","_complete","userResponse","optionalUserComment","it","previousState","FeedbackBox","onComplete","onRequestHide","askingWhyTheResultsWereNotUseful","feedbackMessage","setTimeout","_submitNegativeAnswer","bind","_updateStateWithFormAnswer","_submitAnswer","_submitPositiveAnswer","optionalMessage","apply","arguments","float","Smiley","emoji","selected","_onClick","_emojifyOptions","convertShortnames","convertUnicode","convertAscii","styles","height","emojify","FeedbackSmileys","_interactionHappened","_smileyClicked","newScore","_submit","ar","mapping","colourOverride","colourPerGroup","objectOf","getDefaultProps","mammals","plants","other","_lookUpIcon","group","iconSymbol","groupAndIcon","mountNode","colourPerKingdom","DifferentialFacetsTree","facets","setChecked","Facet","_prettifyFacetName","className","FacetItem","QueryString","pushQueryIntoBrowserHistory","currentUrlObject","newUrlQueryParams","ds","newUrlObject","history","replaceState","pushState","getQuerySelectFromLocation","currentURL","differentialSelectParam"],"mappings":";;;;;;;;;;;AAAAA,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,yCAAR,CAAjB,C;;;;;;;;;;;;ACAA,KAAMC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;AACA,KAAME,WAAW,mBAAAF,CAAQ,qBAAR,CAAjB;;AAEA;;AAEA,KAAMG,qBAAqB,mBAAAH,CAAQ,oCAAR,CAA3B;;AAEA;;AAEAF,QAAOC,OAAP,GAAiB,gBAAkK;AAAA,kCAAvJK,YAAuJ;AAAA,SAAxIC,OAAwI,qCAA9HC,OAAOC,QAAP,CAAgBC,QAAhB,GAA2B,IAA3B,GAAkCF,OAAOC,QAAP,CAAgBE,IAA4E;AAAA,SAAtEC,SAAsE,QAAtEA,SAAsE;AAAA,SAA3DC,cAA2D,QAA3DA,cAA2D;AAAA,SAA3CC,OAA2C,QAA3CA,OAA2C;AAAA,4BAAlCC,MAAkC;AAAA,SAAlCA,MAAkC,+BAAzB,oBAAyB;;AAC/KX,cAASY,MAAT,CACIb,MAAMc,aAAN,CAAoBZ,kBAApB,EAAwC,EAACE,SAASA,OAAV,EAAmBK,WAAWA,SAA9B,EAAyCC,gBAAgBA,cAAzD,EAAyEC,SAASA,OAAlF,EAAxC,CADJ,EAEII,SAASC,cAAT,CAAwBJ,MAAxB,CAFJ;AAIH,EALD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTA,KAAMZ,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;;AAEA,KAAMkB,IAAI,mBAAAlB,CAAQ,kBAAR,CAAV;AACAkB,GAAEC,SAAF,CAAY,EAAEC,aAAY,IAAd,EAAZ;;AAEA,KAAMC,MAAM,mBAAArB,CAAQ,eAAR,CAAZ;;AAEA;;AAEA,KAAMsB,UAAS,mBAAAtB,CAAQ,qCAAR,CAAf;AACA,KAAMuB,SAAS,mBAAAvB,CAAQ,wCAAR,CAAf;AACA,KAAMwB,aAAa,mBAAAxB,CAAQ,2BAAR,CAAnB;;AAEA;;AAEA;;;;;;AAMA,KAAMyB,iBAAiBxB,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAA9C;;AAEA,KAAMzB,qBAAqBF,MAAM4B,WAAN,CAAkB;AAAA;;AACzCC,gBAAW;AACPzB,kBAASoB,cADF;AAEPf,oBAAWe,cAFJ;AAGPd,yBAAiBc,cAHV;AAIPb,kBAASa;AAJF,MAD8B;;AAQzCM,oBARyC,6BAQtB;AACf,gBAAO;AACHC,6BAAgB,EADb;AAEHC,sBAAS,EAFN;AAGHC,qBAAQ;AACJC,+BAAc,CADV;AAEJC,+BAAc,CAFV;AAGJC,6BAAY,CAHR;AAIJC,6BAAY;AAJR,cAHL;AASHC,0BAAa;AATV,UAAP;AAWH,MApBwC;AAsBzCC,sBAtByC,+BAsBpB;AAAA;;AACjB,cAAKC,gBAAL;AACA;AACAnC,gBAAOoC,gBAAP,CACI,UADJ,EAEI,YAAM;AAAE,mBAAKC,QAAL,CAAc,EAACJ,aAAaf,WAAWoB,6BAAX,EAAd,EAAd;AAA2E,UAFvF,EAGI,KAHJ;AAIH,MA7BwC;AA+BzCC,gCA/ByC,uCA+BZC,GA/BY,EA+BPC,SA/BO,EA+BIC,OA/BJ,EA+Ba;AAClD,aAAI,CAACF,IAAIC,SAAJ,CAAL,EAAqB;AACjBD,iBAAIC,SAAJ,IAAiB,EAAjB;AACH;AACDD,aAAIC,SAAJ,EAAeE,IAAf,CAAoBD,OAApB;AACH,MApCwC;AAsCzCE,qCAtCyC,4CAsCPJ,GAtCO,EAsCFC,SAtCE,EAsCSC,OAtCT,EAsCkB;AACvD,gBAAOF,IAAIC,SAAJ,EAAeI,MAAf,CAAsBL,IAAIC,SAAJ,EAAeK,OAAf,CAAuBJ,OAAvB,CAAtB,EAAuD,CAAvD,CAAP;AACA,aAAIF,IAAIC,SAAJ,EAAeM,MAAf,KAA0B,CAA9B,EAAiC;AAC7B,oBAAOP,IAAIC,SAAJ,CAAP;AACH;AACJ,MA3CwC;AA6CzCO,gBA7CyC,uBA6C5BC,SA7C4B,EA6CjBC,aA7CiB,EA6CFC,OA7CE,EA6CO;AAC5C;AACA,aAAIC,iBAAiBC,KAAKC,KAAL,CAAWD,KAAKE,SAAL,CAAe,KAAKC,KAAL,CAAWvB,WAA1B,CAAX,CAArB;AACA,aAAIkB,OAAJ,EAAa;AACT,kBAAKZ,2BAAL,CAAiCa,cAAjC,EAAiDH,SAAjD,EAA4DC,aAA5D;AACH,UAFD,MAEO;AACH,kBAAKN,gCAAL,CAAsCQ,cAAtC,EAAsDH,SAAtD,EAAiEC,aAAjE;AACH;;AAED;AACAhC,oBAAWuC,gBAAX,CAA4BL,cAA5B,EAA4C,KAA5C;AACA,cAAKf,QAAL,CAAc;AACVJ,0BAAamB;AADH,UAAd;AAGH,MA3DwC;AA6DzCM,qBA7DyC,8BA6DS;AAAA;;AAAA,aAAhCC,KAAgC,yDAAxB,KAAKH,KAAL,CAAWvB,WAAa;;AAC9C,gBAAO,KAAKuB,KAAL,CAAW7B,OAAX,CAAmBiC,MAAnB,CAA0B;AAAA,oBAC7B,OAAKC,mBAAL,CAAyBC,MAAzB,EAAiCH,KAAjC,CAD6B;AAAA,UAA1B,CAAP;AAGH,MAjEwC;AAmEzCE,wBAnEyC,+BAmEpBC,MAnEoB,EAmEZH,KAnEY,EAmEL;AAAA;;AAChC,aAAII,OAAOC,IAAP,CAAYL,KAAZ,EAAmBZ,MAAnB,KAA8B,CAAlC,EAAqC;AACjC,oBAAO,KAAP;AACH,UAFD,MAEO;AACH,oBAAOgB,OAAOC,IAAP,CAAYL,KAAZ,EAAmBM,KAAnB,CAAyB;AAAA,wBAC5BN,MAAMV,SAAN,EAAiBiB,IAAjB,CAAsB;AAAA,4BAClB,OAAKC,mBAAL,CAAyBL,OAAOb,SAAP,CAAzB,EAA4CmB,SAA5C,CADkB;AAAA,kBAAtB,CAD4B;AAAA,cAAzB,CAAP;AAKH;AACJ,MA7EwC;AA+EzCD,wBA/EyC,+BA+EpB3B,GA/EoB,EA+Ef6B,KA/Ee,EA+ER;AAC7B,aAAI,CAAC,CAAC7B,GAAN,EAAW;AACP,iBAAIA,IAAI8B,WAAJ,KAAoBC,KAAxB,EAA+B;AAC3B,wBAAO/B,IAAIgC,QAAJ,CAAaH,KAAb,CAAP;AACH,cAFD,MAGK;AACD,wBAAO7B,QAAQ6B,KAAf;AACH;AACJ,UAPD,MAOO;AACH,oBAAO,KAAP;AACH;AACJ,MA1FwC;;;AA4FzC;AACA;AACAI,0BA9FyC,iCA8FlBC,eA9FkB,EA8FD;AAAA;;AACpC,gBAAO,KAAKlB,KAAL,CAAW9B,cAAX,CAA0BiD,GAA1B,CAA8B;AAAA,oBAAU;AAC3C1B,4BAAW2B,MAAM3B,SAD0B;AAE3C4B,6BAAYD,MAAMC,UAAN,CAAiBF,GAAjB,CAAqB,qBAAa;;AAE1C,yBAAIG,uCAAuCJ,gBAAgBT,KAAhB,CAAsB;AAAA,gCAAU,OAAKE,mBAAL,CAAyBL,OAAOc,MAAM3B,SAAb,CAAzB,EAAkDmB,UAAUW,IAA5D,CAAV;AAAA,sBAAtB,CAA3C;;AAEA,yBAAIC,yCAAyC3B,KAAKC,KAAL,CAAWD,KAAKE,SAAL,CAAe,OAAKC,KAAL,CAAWvB,WAA1B,CAAX,CAA7C;AACA,yBAAI,OAAKkC,mBAAL,CAAyBa,uCAAuCJ,MAAM3B,SAA7C,CAAzB,EAAkFmB,UAAUW,IAA5F,CAAJ,EAAuG;AACnG,gCAAKnC,gCAAL,CAAsCoC,sCAAtC,EAA8EJ,MAAM3B,SAApF,EAA+FmB,UAAUW,IAAzG;AACH,sBAFD,MAEO;AACH,gCAAKxC,2BAAL,CAAiCyC,sCAAjC,EAAyEJ,MAAM3B,SAA/E,EAA0FmB,UAAUW,IAApG;AACH;AACD,yBAAIE,uCAAuC,OAAKvB,gBAAL,CAAsBsB,sCAAtB,EAA8DL,GAA9D,CAAkE;AAAA,gCAAUb,OAAOoB,EAAjB;AAAA,sBAAlE,EAAuFC,IAAvF,EAA3C;AACA,yBAAIC,mBAAmBV,gBAAgBC,GAAhB,CAAoB;AAAA,gCAAUb,OAAOoB,EAAjB;AAAA,sBAApB,EAAyCC,IAAzC,EAAvB;;AAEA,yBAAIE,oCAAoChC,KAAKE,SAAL,CAAe0B,oCAAf,MAAyD5B,KAAKE,SAAL,CAAe6B,gBAAf,CAAjG;AACA,yBAAIE,kCAAkCL,qCAAqClC,MAArC,KAAgD,CAAtF;;AAEA,4BAAO;AACHgC,+BAAMX,UAAUW,IADb;AAEHV,gCAAOD,UAAUC,KAFd;AAGHlB,kCAAS,OAAKgB,mBAAL,CAAyB,OAAKX,KAAL,CAAWvB,WAAX,CAAuB2C,MAAM3B,SAA7B,CAAzB,EAAkEmB,UAAUW,IAA5E,KACAM,qCAAqCP,oCAJ3C;AAKHS,mCAAUD,mCAAmCD;AAL1C,sBAAP;AAOH,kBAvBW;AAF+B,cAAV;AAAA,UAA9B,CAAP;AA2BH,MA1HwC;AA4HzC7E,WA5HyC,oBA4H/B;AACN,aAAIkE,kBAAkB,KAAKhB,gBAAL,EAAtB;;AAEA,gBACI;AAAA;AAAA;AACI;AAAA;AAAA,mBAAK,WAAU,cAAf,EAA8B,IAAG,mCAAjC;AACKK,wBAAOC,IAAP,CAAY,KAAKR,KAAL,CAAW9B,cAAvB,EAAuCqB,MAAvC,GACK,oBAAC,MAAD;AACI,6BAAU,KAAK0B,qBAAL,CAA2BC,eAA3B,CADd;AAEI,iCAAc,KAAK1B;AAFvB,mBADL,GAKK;AANV,cADJ;AAUI;AAAA;AAAA,mBAAK,WAAU,eAAf,EAA+B,IAAG,oCAAlC;AACK,sBAAKQ,KAAL,CAAW7B,OAAX,IAAsB,KAAK6B,KAAL,CAAW7B,OAAX,CAAmBoB,MAAzC,GACK,oBAAC,OAAD;AACE,8BAAW2B,eADb;AAEE,8BAAW,KAAKc,KAAL,CAAWzF;AAFxB,oBAGM,KAAKyD,KAAL,CAAW5B,MAHjB,EADL,GAMK;AAAA;AAAA,uBAAK,KAAI,yBAAT;AACI,kDAAK,KAAK,KAAK4D,KAAL,CAAWzF,OAAX,GAAqB,mCAA/B;AADJ;AAPV;AAVJ,UADJ;AAyBH,MAxJwC;AA0JzCoC,qBA1JyC,8BA0JrB;AAAA;;AAChB,aAAIsD,8BAA8B1E,IAAIuC,KAAJ,CAAU,KAAKkC,KAAL,CAAWzF,OAArB,CAAlC;AAAA,aACI2F,+BAA+B3E,IAAIuC,KAAJ,CAAU,KAAKkC,KAAL,CAAWzF,OAArB,CADnC;;AAGA0F,qCAA4BE,QAA5B,GAAuC,mCAAvC;AACAD,sCAA6BC,QAA7B,GAAwC,oCAAxC;;AAEA,aAAIC,cAAc,EAACxF,WAAW,KAAKoF,KAAL,CAAWpF,SAAvB,EAAkCC,gBAAgB,KAAKmF,KAAL,CAAWnF,cAA7D,EAA6EwF,UAAU,KAAKL,KAAL,CAAWlF,OAAlG,EAAlB;AACAmF,qCAA4B9B,KAA5B,GAAoCiC,WAApC;AACAF,sCAA6B/B,KAA7B,GAAqCiC,WAArC;;AAEA,aAAIE,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAQC,UAAR,EAAoBC,WAApB,EAAoC;AACpDC,qBAAQC,GAAR,CAAY,OAAZ;AACAD,qBAAQC,GAAR,CAAY,aAAaH,UAAzB;AACAE,qBAAQC,GAAR,CAAY,mBAAmBF,WAA/B;AACH,UAJD;;AAMArF,WAAEwF,IAAF,CAAO;AACHC,kBAAKtF,IAAIuF,MAAJ,CAAWb,2BAAX,CADF;AAEHc,uBAAU,MAFP;AAGHC,sBAAS,iCAAkB;AACvB5F,mBAAEwF,IAAF,CAAO;AACHC,0BAAKtF,IAAIuF,MAAJ,CAAWZ,4BAAX,CADF;AAEHa,+BAAU,MAFP;AAGHC,8BAAS,kCAAmB;;AAExB;AACA,6BAAIvE,cAAcf,WAAWoB,6BAAX,EAAlB;AACA,6BAAI,CAACL,YAAYwE,OAAjB,EAA0B;AACtBxE,yCAAYwE,OAAZ,GAAsBC,eAAeD,OAAf,CAAuB9B,GAAvB,CAA2B;AAAA,wCAC7CP,UAAUW,IADmC;AAAA,8BAA3B,CAAtB;AAGH;AACD7D,oCAAWuC,gBAAX,CAA4BxB,WAA5B,EAAyC,IAAzC;;AAEA,6BAAIP,iBAAiB,OAAKiF,+BAAL,CAAqCD,cAArC,CAArB;;AAEA,gCAAKrE,QAAL,CAAc;AACVX,6CAAgB,OAAKkF,wCAAL,CAA8ClF,cAA9C,EAA8DmF,gBAAgBlF,OAA9E,CADN;AAEVM,0CAAaA,WAFH;AAGVN,sCAASkF,gBAAgBlF,OAHf;AAIVC,qCAAQ;AACJE,+CAAc+E,gBAAgB/E,YAD1B;AAEJC,6CAAY8E,gBAAgB9E,UAFxB;AAGJF,+CAAagF,gBAAgBhF,YAHzB;AAIJG,6CAAY6E,gBAAgB7E;AAJxB;AAJE,0BAAd;AAYH,sBA5BE;AA6BH8E,4BAAOhB;AA7BJ,kBAAP;AA+BH,cAnCE;AAoCHgB,oBAAOhB;AApCJ,UAAP;AAsCH,MAjNwC;AAmNzCa,oCAnNyC,2CAmNRD,cAnNQ,EAmNQ;AAC7C,gBAAO3C,OAAOC,IAAP,CAAY0C,cAAZ,EAA4B/B,GAA5B,CAAgC,qBAAa;AAChD,oBAAO;AACH1B,4BAAWA,SADR;AAEH4B,6BAAY6B,eAAezD,SAAf,EAA0B0B,GAA1B,CAA8B,qBAAa;AACnD,4BAAO;AACHI,+BAAMX,UAAUW,IADb;AAEHV,gCAAOD,UAAUC,KAFd;AAGHkB,mCAAU,KAHP;AAIHpC,kCAAS;AAJN,sBAAP;AAMH,kBAPW;AAFT,cAAP;AAWH,UAZM,CAAP;AAaH,MAjOwC;AAmOzCyD,6CAnOyC,oDAmOClF,cAnOD,EAmOiBC,OAnOjB,EAmO0B;AAC/D,gBAAOD,eAAeiD,GAAf,CAAmB;AAAA,oBACtB;AACI1B,4BAAW2B,MAAM3B,SADrB;AAEI4B,6BACID,MAAMC,UAAN,CAAiBjB,MAAjB,CAAwB;AAAA,4BACpBjC,QAAQuC,IAAR,CAAa,kBAAU;AACnB,6BAAIJ,OAAOc,MAAM3B,SAAb,EAAwBqB,WAAxB,KAAwCC,KAA5C,EAAmD;AAC/C,oCAAOT,OAAOc,MAAM3B,SAAb,EAAwBH,OAAxB,CAAgCsB,UAAUW,IAA1C,IAAkD,CAAC,CAA1D;AACH,0BAFD,MAEO;AACH,oCAAOjB,OAAOc,MAAM3B,SAAb,MAA4BmB,UAAUW,IAA7C;AACH;AACJ,sBAND,CADoB;AAAA,kBAAxB;AAHR,cADsB;AAAA,UAAnB,EAcJnB,MAdI,CAcG;AAAA,oBAASgB,MAAMC,UAAN,CAAiB9B,MAAjB,GAA0B,CAAnC;AAAA,UAdH,CAAP;AAeH;AAnPwC,EAAlB,CAA3B;;AAsPA;;AAEAvD,QAAOC,OAAP,GAAiBI,kBAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;AC/QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAIkH,WAAW,mBAAArH,CAAQ,oBAAR,CAAf;;AAEAD,SAAQ6D,KAAR,GAAgB0D,QAAhB;AACAvH,SAAQwH,OAAR,GAAkBC,UAAlB;AACAzH,SAAQ0H,aAAR,GAAwBC,gBAAxB;AACA3H,SAAQ6G,MAAR,GAAiBe,SAAjB;;AAEA5H,SAAQsB,GAAR,GAAcA,GAAd;;AAEA,UAASA,GAAT,GAAe;AACb,QAAKb,QAAL,GAAgB,IAAhB;AACA,QAAKoH,OAAL,GAAe,IAAf;AACA,QAAKC,IAAL,GAAY,IAAZ;AACA,QAAKpH,IAAL,GAAY,IAAZ;AACA,QAAKqH,IAAL,GAAY,IAAZ;AACA,QAAKC,QAAL,GAAgB,IAAhB;AACA,QAAKC,IAAL,GAAY,IAAZ;AACA,QAAKC,MAAL,GAAc,IAAd;AACA,QAAKhE,KAAL,GAAa,IAAb;AACA,QAAKgC,QAAL,GAAgB,IAAhB;AACA,QAAKiC,IAAL,GAAY,IAAZ;AACA,QAAKC,IAAL,GAAY,IAAZ;AACD;;AAED;;AAEA;AACA;AACA,KAAIC,kBAAkB,mBAAtB;AAAA,KACIC,cAAc,UADlB;;;AAGI;AACA;AACAC,UAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,IAAtC,CALb;;;AAOI;AACAC,UAAS,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,IAAhB,EAAsB,GAAtB,EAA2B,GAA3B,EAAgCC,MAAhC,CAAuCF,MAAvC,CARb;;;AAUI;AACAG,cAAa,CAAC,IAAD,EAAOD,MAAP,CAAcD,MAAd,CAXjB;;AAYI;AACA;AACA;AACA;AACAG,gBAAe,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,GAAhB,EAAqB,GAArB,EAA0BF,MAA1B,CAAiCC,UAAjC,CAhBnB;AAAA,KAiBIE,kBAAkB,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAjBtB;AAAA,KAkBIC,iBAAiB,GAlBrB;AAAA,KAmBIC,sBAAsB,uBAnB1B;AAAA,KAoBIC,oBAAoB,6BApBxB;;AAqBI;AACAC,kBAAiB;AACf,iBAAc,IADC;AAEf,kBAAe;AAFA,EAtBrB;;AA0BI;AACAC,oBAAmB;AACjB,iBAAc,IADG;AAEjB,kBAAe;AAFE,EA3BvB;;AA+BI;AACAC,mBAAkB;AAChB,WAAQ,IADQ;AAEhB,YAAS,IAFO;AAGhB,UAAO,IAHS;AAIhB,aAAU,IAJM;AAKhB,WAAQ,IALQ;AAMhB,YAAS,IANO;AAOhB,aAAU,IAPM;AAQhB,WAAQ,IARQ;AAShB,cAAW,IATK;AAUhB,YAAS;AAVO,EAhCtB;AAAA,KA4CIC,cAAc,mBAAAlJ,CAAQ,uBAAR,CA5ClB;;AA8CA,UAASsH,QAAT,CAAkBX,GAAlB,EAAuBwC,gBAAvB,EAAyCC,iBAAzC,EAA4D;AAC1D,OAAIzC,OAAO0C,SAAS1C,GAAT,CAAP,IAAwBA,eAAetF,GAA3C,EAAgD,OAAOsF,GAAP;;AAEhD,OAAI2C,IAAI,IAAIjI,GAAJ,EAAR;AACAiI,KAAE1F,KAAF,CAAQ+C,GAAR,EAAawC,gBAAb,EAA+BC,iBAA/B;AACA,UAAOE,CAAP;AACD;;AAEDjI,KAAIkI,SAAJ,CAAc3F,KAAd,GAAsB,UAAS+C,GAAT,EAAcwC,gBAAd,EAAgCC,iBAAhC,EAAmD;AACvE,OAAI,CAACI,SAAS7C,GAAT,CAAL,EAAoB;AAClB,WAAM,IAAI8C,SAAJ,CAAc,mDAAkD9C,GAAlD,yCAAkDA,GAAlD,EAAd,CAAN;AACD;;AAED,OAAI+C,OAAO/C,GAAX;;AAEA;AACA;AACA+C,UAAOA,KAAKC,IAAL,EAAP;;AAEA,OAAIC,QAAQxB,gBAAgByB,IAAhB,CAAqBH,IAArB,CAAZ;AACA,OAAIE,KAAJ,EAAW;AACTA,aAAQA,MAAM,CAAN,CAAR;AACA,SAAIE,aAAaF,MAAMG,WAAN,EAAjB;AACA,UAAKvJ,QAAL,GAAgBsJ,UAAhB;AACAJ,YAAOA,KAAKM,MAAL,CAAYJ,MAAMvG,MAAlB,CAAP;AACD;;AAED;AACA;AACA;AACA;AACA,OAAI+F,qBAAqBQ,KAArB,IAA8BF,KAAKO,KAAL,CAAW,sBAAX,CAAlC,EAAsE;AACpE,SAAIrC,UAAU8B,KAAKM,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,IAApC;AACA,SAAIpC,WAAW,EAAEgC,SAASZ,iBAAiBY,KAAjB,CAAX,CAAf,EAAoD;AAClDF,cAAOA,KAAKM,MAAL,CAAY,CAAZ,CAAP;AACA,YAAKpC,OAAL,GAAe,IAAf;AACD;AACF;;AAED,OAAI,CAACoB,iBAAiBY,KAAjB,CAAD,KACChC,WAAYgC,SAAS,CAACX,gBAAgBW,KAAhB,CADvB,CAAJ,EACqD;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAIM,UAAU,CAAC,CAAf;AACA,UAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIxB,gBAAgBtF,MAApC,EAA4C8G,GAA5C,EAAiD;AAC/C,WAAIC,MAAMV,KAAKtG,OAAL,CAAauF,gBAAgBwB,CAAhB,CAAb,CAAV;AACA,WAAIC,QAAQ,CAAC,CAAT,KAAeF,YAAY,CAAC,CAAb,IAAkBE,MAAMF,OAAvC,CAAJ,EACEA,UAAUE,GAAV;AACH;;AAED;AACA;AACA,SAAIvC,IAAJ,EAAUwC,MAAV;AACA,SAAIH,YAAY,CAAC,CAAjB,EAAoB;AAClB;AACAG,gBAASX,KAAKY,WAAL,CAAiB,GAAjB,CAAT;AACD,MAHD,MAGO;AACL;AACA;AACAD,gBAASX,KAAKY,WAAL,CAAiB,GAAjB,EAAsBJ,OAAtB,CAAT;AACD;;AAED;AACA;AACA,SAAIG,WAAW,CAAC,CAAhB,EAAmB;AACjBxC,cAAO6B,KAAKa,KAAL,CAAW,CAAX,EAAcF,MAAd,CAAP;AACAX,cAAOA,KAAKa,KAAL,CAAWF,SAAS,CAApB,CAAP;AACA,YAAKxC,IAAL,GAAY2C,mBAAmB3C,IAAnB,CAAZ;AACD;;AAED;AACAqC,eAAU,CAAC,CAAX;AACA,UAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIzB,aAAarF,MAAjC,EAAyC8G,GAAzC,EAA8C;AAC5C,WAAIC,MAAMV,KAAKtG,OAAL,CAAasF,aAAayB,CAAb,CAAb,CAAV;AACA,WAAIC,QAAQ,CAAC,CAAT,KAAeF,YAAY,CAAC,CAAb,IAAkBE,MAAMF,OAAvC,CAAJ,EACEA,UAAUE,GAAV;AACH;AACD;AACA,SAAIF,YAAY,CAAC,CAAjB,EACEA,UAAUR,KAAKrG,MAAf;;AAEF,UAAK5C,IAAL,GAAYiJ,KAAKa,KAAL,CAAW,CAAX,EAAcL,OAAd,CAAZ;AACAR,YAAOA,KAAKa,KAAL,CAAWL,OAAX,CAAP;;AAEA;AACA,UAAKO,SAAL;;AAEA;AACA;AACA,UAAK1C,QAAL,GAAgB,KAAKA,QAAL,IAAiB,EAAjC;;AAEA;AACA;AACA,SAAI2C,eAAe,KAAK3C,QAAL,CAAc,CAAd,MAAqB,GAArB,IACf,KAAKA,QAAL,CAAc,KAAKA,QAAL,CAAc1E,MAAd,GAAuB,CAArC,MAA4C,GADhD;;AAGA;AACA,SAAI,CAACqH,YAAL,EAAmB;AACjB,WAAIC,YAAY,KAAK5C,QAAL,CAAc6C,KAAd,CAAoB,IAApB,CAAhB;AACA,YAAK,IAAIT,IAAI,CAAR,EAAWU,IAAIF,UAAUtH,MAA9B,EAAsC8G,IAAIU,CAA1C,EAA6CV,GAA7C,EAAkD;AAChD,aAAIW,OAAOH,UAAUR,CAAV,CAAX;AACA,aAAI,CAACW,IAAL,EAAW;AACX,aAAI,CAACA,KAAKb,KAAL,CAAWpB,mBAAX,CAAL,EAAsC;AACpC,eAAIkC,UAAU,EAAd;AACA,gBAAK,IAAIC,IAAI,CAAR,EAAWC,IAAIH,KAAKzH,MAAzB,EAAiC2H,IAAIC,CAArC,EAAwCD,GAAxC,EAA6C;AAC3C,iBAAIF,KAAKI,UAAL,CAAgBF,CAAhB,IAAqB,GAAzB,EAA8B;AAC5B;AACA;AACA;AACAD,0BAAW,GAAX;AACD,cALD,MAKO;AACLA,0BAAWD,KAAKE,CAAL,CAAX;AACD;AACF;AACD;AACA,eAAI,CAACD,QAAQd,KAAR,CAAcpB,mBAAd,CAAL,EAAyC;AACvC,iBAAIsC,aAAaR,UAAUJ,KAAV,CAAgB,CAAhB,EAAmBJ,CAAnB,CAAjB;AACA,iBAAIiB,UAAUT,UAAUJ,KAAV,CAAgBJ,IAAI,CAApB,CAAd;AACA,iBAAIkB,MAAMP,KAAKb,KAAL,CAAWnB,iBAAX,CAAV;AACA,iBAAIuC,GAAJ,EAAS;AACPF,0BAAWlI,IAAX,CAAgBoI,IAAI,CAAJ,CAAhB;AACAD,uBAAQE,OAAR,CAAgBD,IAAI,CAAJ,CAAhB;AACD;AACD,iBAAID,QAAQ/H,MAAZ,EAAoB;AAClBqG,sBAAO,MAAM0B,QAAQG,IAAR,CAAa,GAAb,CAAN,GAA0B7B,IAAjC;AACD;AACD,kBAAK3B,QAAL,GAAgBoD,WAAWI,IAAX,CAAgB,GAAhB,CAAhB;AACA;AACD;AACF;AACF;AACF;;AAED,SAAI,KAAKxD,QAAL,CAAc1E,MAAd,GAAuBuF,cAA3B,EAA2C;AACzC,YAAKb,QAAL,GAAgB,EAAhB;AACD,MAFD,MAEO;AACL;AACA,YAAKA,QAAL,GAAgB,KAAKA,QAAL,CAAcgC,WAAd,EAAhB;AACD;;AAED,SAAI,CAACW,YAAL,EAAmB;AACjB;AACA;AACA;AACA;AACA,WAAIc,cAAc,KAAKzD,QAAL,CAAc6C,KAAd,CAAoB,GAApB,CAAlB;AACA,WAAIa,SAAS,EAAb;AACA,YAAK,IAAItB,IAAI,CAAb,EAAgBA,IAAIqB,YAAYnI,MAAhC,EAAwC,EAAE8G,CAA1C,EAA6C;AAC3C,aAAIuB,IAAIF,YAAYrB,CAAZ,CAAR;AACAsB,gBAAOxI,IAAP,CAAYyI,EAAEzB,KAAF,CAAQ,gBAAR,IACR,SAAS5C,SAASsE,MAAT,CAAgBD,CAAhB,CADD,GACsBA,CADlC;AAED;AACD,YAAK3D,QAAL,GAAgB0D,OAAOF,IAAP,CAAY,GAAZ,CAAhB;AACD;;AAED,SAAIK,IAAI,KAAK9D,IAAL,GAAY,MAAM,KAAKA,IAAvB,GAA8B,EAAtC;AACA,SAAI+D,IAAI,KAAK9D,QAAL,IAAiB,EAAzB;AACA,UAAKtH,IAAL,GAAYoL,IAAID,CAAhB;AACA,UAAKzD,IAAL,IAAa,KAAK1H,IAAlB;;AAEA;AACA;AACA,SAAIiK,YAAJ,EAAkB;AAChB,YAAK3C,QAAL,GAAgB,KAAKA,QAAL,CAAciC,MAAd,CAAqB,CAArB,EAAwB,KAAKjC,QAAL,CAAc1E,MAAd,GAAuB,CAA/C,CAAhB;AACA,WAAIqG,KAAK,CAAL,MAAY,GAAhB,EAAqB;AACnBA,gBAAO,MAAMA,IAAb;AACD;AACF;AACF;;AAED;AACA;AACA,OAAI,CAACX,eAAee,UAAf,CAAL,EAAiC;;AAE/B;AACA;AACA;AACA,UAAK,IAAIK,IAAI,CAAR,EAAWU,IAAIpC,WAAWpF,MAA/B,EAAuC8G,IAAIU,CAA3C,EAA8CV,GAA9C,EAAmD;AACjD,WAAI2B,KAAKrD,WAAW0B,CAAX,CAAT;AACA,WAAI4B,MAAMC,mBAAmBF,EAAnB,CAAV;AACA,WAAIC,QAAQD,EAAZ,EAAgB;AACdC,eAAME,OAAOH,EAAP,CAAN;AACD;AACDpC,cAAOA,KAAKkB,KAAL,CAAWkB,EAAX,EAAeP,IAAf,CAAoBQ,GAApB,CAAP;AACD;AACF;;AAGD;AACA,OAAI/D,OAAO0B,KAAKtG,OAAL,CAAa,GAAb,CAAX;AACA,OAAI4E,SAAS,CAAC,CAAd,EAAiB;AACf;AACA,UAAKA,IAAL,GAAY0B,KAAKM,MAAL,CAAYhC,IAAZ,CAAZ;AACA0B,YAAOA,KAAKa,KAAL,CAAW,CAAX,EAAcvC,IAAd,CAAP;AACD;AACD,OAAIkE,KAAKxC,KAAKtG,OAAL,CAAa,GAAb,CAAT;AACA,OAAI8I,OAAO,CAAC,CAAZ,EAAe;AACb,UAAKjE,MAAL,GAAcyB,KAAKM,MAAL,CAAYkC,EAAZ,CAAd;AACA,UAAKjI,KAAL,GAAayF,KAAKM,MAAL,CAAYkC,KAAK,CAAjB,CAAb;AACA,SAAI/C,gBAAJ,EAAsB;AACpB,YAAKlF,KAAL,GAAaiF,YAAYtF,KAAZ,CAAkB,KAAKK,KAAvB,CAAb;AACD;AACDyF,YAAOA,KAAKa,KAAL,CAAW,CAAX,EAAc2B,EAAd,CAAP;AACD,IAPD,MAOO,IAAI/C,gBAAJ,EAAsB;AAC3B;AACA,UAAKlB,MAAL,GAAc,EAAd;AACA,UAAKhE,KAAL,GAAa,EAAb;AACD;AACD,OAAIyF,IAAJ,EAAU,KAAKzD,QAAL,GAAgByD,IAAhB;AACV,OAAIT,gBAAgBa,UAAhB,KACA,KAAK/B,QADL,IACiB,CAAC,KAAK9B,QAD3B,EACqC;AACnC,UAAKA,QAAL,GAAgB,GAAhB;AACD;;AAED;AACA,OAAI,KAAKA,QAAL,IAAiB,KAAKgC,MAA1B,EAAkC;AAChC,SAAI2D,IAAI,KAAK3F,QAAL,IAAiB,EAAzB;AACA,SAAIyF,IAAI,KAAKzD,MAAL,IAAe,EAAvB;AACA,UAAKC,IAAL,GAAY0D,IAAIF,CAAhB;AACD;;AAED;AACA,QAAKvD,IAAL,GAAY,KAAKvB,MAAL,EAAZ;AACA,UAAO,IAAP;AACD,EAvOD;;AAyOA;AACA,UAASe,SAAT,CAAmB7E,GAAnB,EAAwB;AACtB;AACA;AACA;AACA;AACA,OAAI0G,SAAS1G,GAAT,CAAJ,EAAmBA,MAAMwE,SAASxE,GAAT,CAAN;AACnB,OAAI,EAAEA,eAAezB,GAAjB,CAAJ,EAA2B,OAAOA,IAAIkI,SAAJ,CAAc3C,MAAd,CAAqBuF,IAArB,CAA0BrJ,GAA1B,CAAP;AAC3B,UAAOA,IAAI8D,MAAJ,EAAP;AACD;;AAEDvF,KAAIkI,SAAJ,CAAc3C,MAAd,GAAuB,YAAW;AAChC,OAAIiB,OAAO,KAAKA,IAAL,IAAa,EAAxB;AACA,OAAIA,IAAJ,EAAU;AACRA,YAAOmE,mBAAmBnE,IAAnB,CAAP;AACAA,YAAOA,KAAKuE,OAAL,CAAa,MAAb,EAAqB,GAArB,CAAP;AACAvE,aAAQ,GAAR;AACD;;AAED,OAAIrH,WAAW,KAAKA,QAAL,IAAiB,EAAhC;AAAA,OACIyF,WAAW,KAAKA,QAAL,IAAiB,EADhC;AAAA,OAEI+B,OAAO,KAAKA,IAAL,IAAa,EAFxB;AAAA,OAGIvH,OAAO,KAHX;AAAA,OAIIwD,QAAQ,EAJZ;;AAMA,OAAI,KAAKxD,IAAT,EAAe;AACbA,YAAOoH,OAAO,KAAKpH,IAAnB;AACD,IAFD,MAEO,IAAI,KAAKsH,QAAT,EAAmB;AACxBtH,YAAOoH,QAAQ,KAAKE,QAAL,CAAc3E,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAAhC,GACX,KAAK2E,QADM,GAEX,MAAM,KAAKA,QAAX,GAAsB,GAFnB,CAAP;AAGA,SAAI,KAAKD,IAAT,EAAe;AACbrH,eAAQ,MAAM,KAAKqH,IAAnB;AACD;AACF;;AAED,OAAI,KAAK7D,KAAL,IACAoF,SAAS,KAAKpF,KAAd,CADA,IAEAI,OAAOC,IAAP,CAAY,KAAKL,KAAjB,EAAwBZ,MAF5B,EAEoC;AAClCY,aAAQiF,YAAYrF,SAAZ,CAAsB,KAAKI,KAA3B,CAAR;AACD;;AAED,OAAIgE,SAAS,KAAKA,MAAL,IAAgBhE,SAAU,MAAMA,KAAhC,IAA2C,EAAxD;;AAEA,OAAIzD,YAAYA,SAASwJ,MAAT,CAAgB,CAAC,CAAjB,MAAwB,GAAxC,EAA6CxJ,YAAY,GAAZ;;AAE7C;AACA;AACA,OAAI,KAAKoH,OAAL,IACA,CAAC,CAACpH,QAAD,IAAayI,gBAAgBzI,QAAhB,CAAd,KAA4CC,SAAS,KADzD,EACgE;AAC9DA,YAAO,QAAQA,QAAQ,EAAhB,CAAP;AACA,SAAIwF,YAAYA,SAASoG,MAAT,CAAgB,CAAhB,MAAuB,GAAvC,EAA4CpG,WAAW,MAAMA,QAAjB;AAC7C,IAJD,MAIO,IAAI,CAACxF,IAAL,EAAW;AAChBA,YAAO,EAAP;AACD;;AAED,OAAIuH,QAAQA,KAAKqE,MAAL,CAAY,CAAZ,MAAmB,GAA/B,EAAoCrE,OAAO,MAAMA,IAAb;AACpC,OAAIC,UAAUA,OAAOoE,MAAP,CAAc,CAAd,MAAqB,GAAnC,EAAwCpE,SAAS,MAAMA,MAAf;;AAExChC,cAAWA,SAASmG,OAAT,CAAiB,OAAjB,EAA0B,UAASnC,KAAT,EAAgB;AACnD,YAAO+B,mBAAmB/B,KAAnB,CAAP;AACD,IAFU,CAAX;AAGAhC,YAASA,OAAOmE,OAAP,CAAe,GAAf,EAAoB,KAApB,CAAT;;AAEA,UAAO5L,WAAWC,IAAX,GAAkBwF,QAAlB,GAA6BgC,MAA7B,GAAsCD,IAA7C;AACD,EAtDD;;AAwDA,UAASR,UAAT,CAAoB8E,MAApB,EAA4BC,QAA5B,EAAsC;AACpC,UAAOjF,SAASgF,MAAT,EAAiB,KAAjB,EAAwB,IAAxB,EAA8B/E,OAA9B,CAAsCgF,QAAtC,CAAP;AACD;;AAEDlL,KAAIkI,SAAJ,CAAchC,OAAd,GAAwB,UAASgF,QAAT,EAAmB;AACzC,UAAO,KAAK9E,aAAL,CAAmBH,SAASiF,QAAT,EAAmB,KAAnB,EAA0B,IAA1B,CAAnB,EAAoD3F,MAApD,EAAP;AACD,EAFD;;AAIA,UAASc,gBAAT,CAA0B4E,MAA1B,EAAkCC,QAAlC,EAA4C;AAC1C,OAAI,CAACD,MAAL,EAAa,OAAOC,QAAP;AACb,UAAOjF,SAASgF,MAAT,EAAiB,KAAjB,EAAwB,IAAxB,EAA8B7E,aAA9B,CAA4C8E,QAA5C,CAAP;AACD;;AAEDlL,KAAIkI,SAAJ,CAAc9B,aAAd,GAA8B,UAAS8E,QAAT,EAAmB;AAC/C,OAAI/C,SAAS+C,QAAT,CAAJ,EAAwB;AACtB,SAAIC,MAAM,IAAInL,GAAJ,EAAV;AACAmL,SAAI5I,KAAJ,CAAU2I,QAAV,EAAoB,KAApB,EAA2B,IAA3B;AACAA,gBAAWC,GAAX;AACD;;AAED,OAAIpI,SAAS,IAAI/C,GAAJ,EAAb;AACAgD,UAAOC,IAAP,CAAY,IAAZ,EAAkBmI,OAAlB,CAA0B,UAASxB,CAAT,EAAY;AACpC7G,YAAO6G,CAAP,IAAY,KAAKA,CAAL,CAAZ;AACD,IAFD,EAEG,IAFH;;AAIA;AACA;AACA7G,UAAO4D,IAAP,GAAcuE,SAASvE,IAAvB;;AAEA;AACA,OAAIuE,SAASpE,IAAT,KAAkB,EAAtB,EAA0B;AACxB/D,YAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,YAAOxC,MAAP;AACD;;AAED;AACA,OAAImI,SAAS3E,OAAT,IAAoB,CAAC2E,SAAS/L,QAAlC,EAA4C;AAC1C;AACA6D,YAAOC,IAAP,CAAYiI,QAAZ,EAAsBE,OAAtB,CAA8B,UAASxB,CAAT,EAAY;AACxC,WAAIA,MAAM,UAAV,EACE7G,OAAO6G,CAAP,IAAYsB,SAAStB,CAAT,CAAZ;AACH,MAHD;;AAKA;AACA,SAAIhC,gBAAgB7E,OAAO5D,QAAvB,KACA4D,OAAO2D,QADP,IACmB,CAAC3D,OAAO6B,QAD/B,EACyC;AACvC7B,cAAO8D,IAAP,GAAc9D,OAAO6B,QAAP,GAAkB,GAAhC;AACD;;AAED7B,YAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,YAAOxC,MAAP;AACD;;AAED,OAAImI,SAAS/L,QAAT,IAAqB+L,SAAS/L,QAAT,KAAsB4D,OAAO5D,QAAtD,EAAgE;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAI,CAACyI,gBAAgBsD,SAAS/L,QAAzB,CAAL,EAAyC;AACvC6D,cAAOC,IAAP,CAAYiI,QAAZ,EAAsBE,OAAtB,CAA8B,UAASxB,CAAT,EAAY;AACxC7G,gBAAO6G,CAAP,IAAYsB,SAAStB,CAAT,CAAZ;AACD,QAFD;AAGA7G,cAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,cAAOxC,MAAP;AACD;;AAEDA,YAAO5D,QAAP,GAAkB+L,SAAS/L,QAA3B;AACA,SAAI,CAAC+L,SAAS9L,IAAV,IAAkB,CAACuI,iBAAiBuD,SAAS/L,QAA1B,CAAvB,EAA4D;AAC1D,WAAIkM,UAAU,CAACH,SAAStG,QAAT,IAAqB,EAAtB,EAA0B2E,KAA1B,CAAgC,GAAhC,CAAd;AACA,cAAO8B,QAAQrJ,MAAR,IAAkB,EAAEkJ,SAAS9L,IAAT,GAAgBiM,QAAQC,KAAR,EAAlB,CAAzB;AACA,WAAI,CAACJ,SAAS9L,IAAd,EAAoB8L,SAAS9L,IAAT,GAAgB,EAAhB;AACpB,WAAI,CAAC8L,SAASxE,QAAd,EAAwBwE,SAASxE,QAAT,GAAoB,EAApB;AACxB,WAAI2E,QAAQ,CAAR,MAAe,EAAnB,EAAuBA,QAAQpB,OAAR,CAAgB,EAAhB;AACvB,WAAIoB,QAAQrJ,MAAR,GAAiB,CAArB,EAAwBqJ,QAAQpB,OAAR,CAAgB,EAAhB;AACxBlH,cAAO6B,QAAP,GAAkByG,QAAQnB,IAAR,CAAa,GAAb,CAAlB;AACD,MARD,MAQO;AACLnH,cAAO6B,QAAP,GAAkBsG,SAAStG,QAA3B;AACD;AACD7B,YAAO6D,MAAP,GAAgBsE,SAAStE,MAAzB;AACA7D,YAAOH,KAAP,GAAesI,SAAStI,KAAxB;AACAG,YAAO3D,IAAP,GAAc8L,SAAS9L,IAAT,IAAiB,EAA/B;AACA2D,YAAOyD,IAAP,GAAc0E,SAAS1E,IAAvB;AACAzD,YAAO2D,QAAP,GAAkBwE,SAASxE,QAAT,IAAqBwE,SAAS9L,IAAhD;AACA2D,YAAO0D,IAAP,GAAcyE,SAASzE,IAAvB;AACA;AACA,SAAI1D,OAAO6B,QAAP,IAAmB7B,OAAO6D,MAA9B,EAAsC;AACpC,WAAI2D,IAAIxH,OAAO6B,QAAP,IAAmB,EAA3B;AACA,WAAIyF,IAAItH,OAAO6D,MAAP,IAAiB,EAAzB;AACA7D,cAAO8D,IAAP,GAAc0D,IAAIF,CAAlB;AACD;AACDtH,YAAOwD,OAAP,GAAiBxD,OAAOwD,OAAP,IAAkB2E,SAAS3E,OAA5C;AACAxD,YAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,YAAOxC,MAAP;AACD;;AAED,OAAIwI,cAAexI,OAAO6B,QAAP,IAAmB7B,OAAO6B,QAAP,CAAgBoG,MAAhB,CAAuB,CAAvB,MAA8B,GAApE;AAAA,OACIQ,WACIN,SAAS9L,IAAT,IACA8L,SAAStG,QAAT,IAAqBsG,SAAStG,QAAT,CAAkBoG,MAAlB,CAAyB,CAAzB,MAAgC,GAH7D;AAAA,OAKIS,aAAcD,YAAYD,WAAZ,IACCxI,OAAO3D,IAAP,IAAe8L,SAAStG,QAN3C;AAAA,OAOI8G,gBAAgBD,UAPpB;AAAA,OAQIE,UAAU5I,OAAO6B,QAAP,IAAmB7B,OAAO6B,QAAP,CAAgB2E,KAAhB,CAAsB,GAAtB,CAAnB,IAAiD,EAR/D;AAAA,OASI8B,UAAUH,SAAStG,QAAT,IAAqBsG,SAAStG,QAAT,CAAkB2E,KAAlB,CAAwB,GAAxB,CAArB,IAAqD,EATnE;AAAA,OAUIqC,YAAY7I,OAAO5D,QAAP,IAAmB,CAACyI,gBAAgB7E,OAAO5D,QAAvB,CAVpC;;AAYA;AACA;AACA;AACA;AACA;AACA,OAAIyM,SAAJ,EAAe;AACb7I,YAAO2D,QAAP,GAAkB,EAAlB;AACA3D,YAAO0D,IAAP,GAAc,IAAd;AACA,SAAI1D,OAAO3D,IAAX,EAAiB;AACf,WAAIuM,QAAQ,CAAR,MAAe,EAAnB,EAAuBA,QAAQ,CAAR,IAAa5I,OAAO3D,IAApB,CAAvB,KACKuM,QAAQ1B,OAAR,CAAgBlH,OAAO3D,IAAvB;AACN;AACD2D,YAAO3D,IAAP,GAAc,EAAd;AACA,SAAI8L,SAAS/L,QAAb,EAAuB;AACrB+L,gBAASxE,QAAT,GAAoB,IAApB;AACAwE,gBAASzE,IAAT,GAAgB,IAAhB;AACA,WAAIyE,SAAS9L,IAAb,EAAmB;AACjB,aAAIiM,QAAQ,CAAR,MAAe,EAAnB,EAAuBA,QAAQ,CAAR,IAAaH,SAAS9L,IAAtB,CAAvB,KACKiM,QAAQpB,OAAR,CAAgBiB,SAAS9L,IAAzB;AACN;AACD8L,gBAAS9L,IAAT,GAAgB,IAAhB;AACD;AACDqM,kBAAaA,eAAeJ,QAAQ,CAAR,MAAe,EAAf,IAAqBM,QAAQ,CAAR,MAAe,EAAnD,CAAb;AACD;;AAED,OAAIH,QAAJ,EAAc;AACZ;AACAzI,YAAO3D,IAAP,GAAe8L,SAAS9L,IAAT,IAAiB8L,SAAS9L,IAAT,KAAkB,EAApC,GACA8L,SAAS9L,IADT,GACgB2D,OAAO3D,IADrC;AAEA2D,YAAO2D,QAAP,GAAmBwE,SAASxE,QAAT,IAAqBwE,SAASxE,QAAT,KAAsB,EAA5C,GACAwE,SAASxE,QADT,GACoB3D,OAAO2D,QAD7C;AAEA3D,YAAO6D,MAAP,GAAgBsE,SAAStE,MAAzB;AACA7D,YAAOH,KAAP,GAAesI,SAAStI,KAAxB;AACA+I,eAAUN,OAAV;AACA;AACD,IAVD,MAUO,IAAIA,QAAQrJ,MAAZ,EAAoB;AACzB;AACA;AACA,SAAI,CAAC2J,OAAL,EAAcA,UAAU,EAAV;AACdA,aAAQE,GAAR;AACAF,eAAUA,QAAQxE,MAAR,CAAekE,OAAf,CAAV;AACAtI,YAAO6D,MAAP,GAAgBsE,SAAStE,MAAzB;AACA7D,YAAOH,KAAP,GAAesI,SAAStI,KAAxB;AACD,IARM,MAQA,IAAI,CAACkJ,kBAAkBZ,SAAStE,MAA3B,CAAL,EAAyC;AAC9C;AACA;AACA;AACA,SAAIgF,SAAJ,EAAe;AACb7I,cAAO2D,QAAP,GAAkB3D,OAAO3D,IAAP,GAAcuM,QAAQL,KAAR,EAAhC;AACA;AACA;AACA;AACA,WAAIS,aAAahJ,OAAO3D,IAAP,IAAe2D,OAAO3D,IAAP,CAAY2C,OAAZ,CAAoB,GAApB,IAA2B,CAA1C,GACAgB,OAAO3D,IAAP,CAAYmK,KAAZ,CAAkB,GAAlB,CADA,GACyB,KAD1C;AAEA,WAAIwC,UAAJ,EAAgB;AACdhJ,gBAAOyD,IAAP,GAAcuF,WAAWT,KAAX,EAAd;AACAvI,gBAAO3D,IAAP,GAAc2D,OAAO2D,QAAP,GAAkBqF,WAAWT,KAAX,EAAhC;AACD;AACF;AACDvI,YAAO6D,MAAP,GAAgBsE,SAAStE,MAAzB;AACA7D,YAAOH,KAAP,GAAesI,SAAStI,KAAxB;AACA;AACA,SAAI,CAACoJ,OAAOjJ,OAAO6B,QAAd,CAAD,IAA4B,CAACoH,OAAOjJ,OAAO6D,MAAd,CAAjC,EAAwD;AACtD7D,cAAO8D,IAAP,GAAc,CAAC9D,OAAO6B,QAAP,GAAkB7B,OAAO6B,QAAzB,GAAoC,EAArC,KACC7B,OAAO6D,MAAP,GAAgB7D,OAAO6D,MAAvB,GAAgC,EADjC,CAAd;AAED;AACD7D,YAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,YAAOxC,MAAP;AACD;;AAED,OAAI,CAAC4I,QAAQ3J,MAAb,EAAqB;AACnB;AACA;AACAe,YAAO6B,QAAP,GAAkB,IAAlB;AACA;AACA,SAAI7B,OAAO6D,MAAX,EAAmB;AACjB7D,cAAO8D,IAAP,GAAc,MAAM9D,OAAO6D,MAA3B;AACD,MAFD,MAEO;AACL7D,cAAO8D,IAAP,GAAc,IAAd;AACD;AACD9D,YAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,YAAOxC,MAAP;AACD;;AAED;AACA;AACA;AACA,OAAIkJ,OAAON,QAAQzC,KAAR,CAAc,CAAC,CAAf,EAAkB,CAAlB,CAAX;AACA,OAAIgD,mBACA,CAACnJ,OAAO3D,IAAP,IAAe8L,SAAS9L,IAAzB,MAAmC6M,SAAS,GAAT,IAAgBA,SAAS,IAA5D,KACAA,SAAS,EAFb;;AAIA;AACA;AACA,OAAIE,KAAK,CAAT;AACA,QAAK,IAAIrD,IAAI6C,QAAQ3J,MAArB,EAA6B8G,KAAK,CAAlC,EAAqCA,GAArC,EAA0C;AACxCmD,YAAON,QAAQ7C,CAAR,CAAP;AACA,SAAImD,QAAQ,GAAZ,EAAiB;AACfN,eAAQ7J,MAAR,CAAegH,CAAf,EAAkB,CAAlB;AACD,MAFD,MAEO,IAAImD,SAAS,IAAb,EAAmB;AACxBN,eAAQ7J,MAAR,CAAegH,CAAf,EAAkB,CAAlB;AACAqD;AACD,MAHM,MAGA,IAAIA,EAAJ,EAAQ;AACbR,eAAQ7J,MAAR,CAAegH,CAAf,EAAkB,CAAlB;AACAqD;AACD;AACF;;AAED;AACA,OAAI,CAACV,UAAD,IAAe,CAACC,aAApB,EAAmC;AACjC,YAAOS,IAAP,EAAaA,EAAb,EAAiB;AACfR,eAAQ1B,OAAR,CAAgB,IAAhB;AACD;AACF;;AAED,OAAIwB,cAAcE,QAAQ,CAAR,MAAe,EAA7B,KACC,CAACA,QAAQ,CAAR,CAAD,IAAeA,QAAQ,CAAR,EAAWX,MAAX,CAAkB,CAAlB,MAAyB,GADzC,CAAJ,EACmD;AACjDW,aAAQ1B,OAAR,CAAgB,EAAhB;AACD;;AAED,OAAIiC,oBAAqBP,QAAQzB,IAAR,CAAa,GAAb,EAAkBvB,MAAlB,CAAyB,CAAC,CAA1B,MAAiC,GAA1D,EAAgE;AAC9DgD,aAAQ/J,IAAR,CAAa,EAAb;AACD;;AAED,OAAIwK,aAAaT,QAAQ,CAAR,MAAe,EAAf,IACZA,QAAQ,CAAR,KAAcA,QAAQ,CAAR,EAAWX,MAAX,CAAkB,CAAlB,MAAyB,GAD5C;;AAGA;AACA,OAAIY,SAAJ,EAAe;AACb7I,YAAO2D,QAAP,GAAkB3D,OAAO3D,IAAP,GAAcgN,aAAa,EAAb,GACAT,QAAQ3J,MAAR,GAAiB2J,QAAQL,KAAR,EAAjB,GAAmC,EADnE;AAEA;AACA;AACA;AACA,SAAIS,aAAahJ,OAAO3D,IAAP,IAAe2D,OAAO3D,IAAP,CAAY2C,OAAZ,CAAoB,GAApB,IAA2B,CAA1C,GACAgB,OAAO3D,IAAP,CAAYmK,KAAZ,CAAkB,GAAlB,CADA,GACyB,KAD1C;AAEA,SAAIwC,UAAJ,EAAgB;AACdhJ,cAAOyD,IAAP,GAAcuF,WAAWT,KAAX,EAAd;AACAvI,cAAO3D,IAAP,GAAc2D,OAAO2D,QAAP,GAAkBqF,WAAWT,KAAX,EAAhC;AACD;AACF;;AAEDG,gBAAaA,cAAe1I,OAAO3D,IAAP,IAAeuM,QAAQ3J,MAAnD;;AAEA,OAAIyJ,cAAc,CAACW,UAAnB,EAA+B;AAC7BT,aAAQ1B,OAAR,CAAgB,EAAhB;AACD;;AAED,OAAI,CAAC0B,QAAQ3J,MAAb,EAAqB;AACnBe,YAAO6B,QAAP,GAAkB,IAAlB;AACA7B,YAAO8D,IAAP,GAAc,IAAd;AACD,IAHD,MAGO;AACL9D,YAAO6B,QAAP,GAAkB+G,QAAQzB,IAAR,CAAa,GAAb,CAAlB;AACD;;AAED;AACA,OAAI,CAAC8B,OAAOjJ,OAAO6B,QAAd,CAAD,IAA4B,CAACoH,OAAOjJ,OAAO6D,MAAd,CAAjC,EAAwD;AACtD7D,YAAO8D,IAAP,GAAc,CAAC9D,OAAO6B,QAAP,GAAkB7B,OAAO6B,QAAzB,GAAoC,EAArC,KACC7B,OAAO6D,MAAP,GAAgB7D,OAAO6D,MAAvB,GAAgC,EADjC,CAAd;AAED;AACD7D,UAAOyD,IAAP,GAAc0E,SAAS1E,IAAT,IAAiBzD,OAAOyD,IAAtC;AACAzD,UAAOwD,OAAP,GAAiBxD,OAAOwD,OAAP,IAAkB2E,SAAS3E,OAA5C;AACAxD,UAAO+D,IAAP,GAAc/D,OAAOwC,MAAP,EAAd;AACA,UAAOxC,MAAP;AACD,EAtQD;;AAwQA/C,KAAIkI,SAAJ,CAAckB,SAAd,GAA0B,YAAW;AACnC,OAAIhK,OAAO,KAAKA,IAAhB;AACA,OAAIqH,OAAOO,YAAYwB,IAAZ,CAAiBpJ,IAAjB,CAAX;AACA,OAAIqH,IAAJ,EAAU;AACRA,YAAOA,KAAK,CAAL,CAAP;AACA,SAAIA,SAAS,GAAb,EAAkB;AAChB,YAAKA,IAAL,GAAYA,KAAKkC,MAAL,CAAY,CAAZ,CAAZ;AACD;AACDvJ,YAAOA,KAAKuJ,MAAL,CAAY,CAAZ,EAAevJ,KAAK4C,MAAL,GAAcyE,KAAKzE,MAAlC,CAAP;AACD;AACD,OAAI5C,IAAJ,EAAU,KAAKsH,QAAL,GAAgBtH,IAAhB;AACX,EAXD;;AAaA,UAAS+I,QAAT,CAAkBkE,GAAlB,EAAuB;AACrB,UAAO,OAAOA,GAAP,KAAe,QAAtB;AACD;;AAED,UAASrE,QAAT,CAAkBqE,GAAlB,EAAuB;AACrB,UAAO,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAf,IAA2BA,QAAQ,IAA1C;AACD;;AAED,UAASL,MAAT,CAAgBK,GAAhB,EAAqB;AACnB,UAAOA,QAAQ,IAAf;AACD;AACD,UAASP,iBAAT,CAA2BO,GAA3B,EAAgC;AAC9B,UAAQA,OAAO,IAAf;AACD,E;;;;;;;;;;;;;;AClsBD;AACA,EAAE,WAASC,IAAT,EAAe;;AAEhB;AACA,MAAIC,cAAc,gCAAO7N,OAAP,MAAkB,QAAlB,IAA8BA,OAA9B,IACjB,CAACA,QAAQ8N,QADQ,IACI9N,OADtB;AAEA,MAAI+N,aAAa,gCAAOhO,MAAP,MAAiB,QAAjB,IAA6BA,MAA7B,IAChB,CAACA,OAAO+N,QADQ,IACI/N,MADrB;AAEA,MAAIiO,aAAa,QAAOC,MAAP,yCAAOA,MAAP,MAAiB,QAAjB,IAA6BA,MAA9C;AACA,MACCD,WAAWC,MAAX,KAAsBD,UAAtB,IACAA,WAAWzN,MAAX,KAAsByN,UADtB,IAEAA,WAAWE,IAAX,KAAoBF,UAHrB,EAIE;AACDJ,UAAOI,UAAP;AACA;;AAED;;;;;AAKA,MAAI1G,QAAJ;;;AAEA;AACA6G,WAAS,UAHT;AAAA,MAGqB;;AAErB;AACAC,SAAO,EANP;AAAA,MAOAC,OAAO,CAPP;AAAA,MAQAC,OAAO,EARP;AAAA,MASAC,OAAO,EATP;AAAA,MAUAC,OAAO,GAVP;AAAA,MAWAC,cAAc,EAXd;AAAA,MAYAC,WAAW,GAZX;AAAA,MAYgB;AAChBC,cAAY,GAbZ;AAAA,MAaiB;;AAEjB;AACAC,kBAAgB,OAhBhB;AAAA,MAiBAC,gBAAgB,cAjBhB;AAAA,MAiBgC;AAChCC,oBAAkB,2BAlBlB;AAAA,MAkB+C;;AAE/C;AACAC,WAAS;AACR,eAAY,iDADJ;AAER,gBAAa,gDAFL;AAGR,oBAAiB;AAHT,GArBT;;;AA2BA;AACAC,kBAAgBZ,OAAOC,IA5BvB;AAAA,MA6BAY,QAAQC,KAAKD,KA7Bb;AAAA,MA8BAE,qBAAqBC,OAAOC,YA9B5B;;;AAgCA;AACAC,KAjCA;;AAmCA;;AAEA;;;;;;AAMA,WAASjI,KAAT,CAAekI,IAAf,EAAqB;AACpB,SAAMC,WAAWT,OAAOQ,IAAP,CAAX,CAAN;AACA;;AAED;;;;;;;;AAQA,WAASrK,GAAT,CAAauK,KAAb,EAAoBC,EAApB,EAAwB;AACvB,OAAIpM,SAASmM,MAAMnM,MAAnB;AACA,OAAIe,SAAS,EAAb;AACA,UAAOf,QAAP,EAAiB;AAChBe,WAAOf,MAAP,IAAiBoM,GAAGD,MAAMnM,MAAN,CAAH,CAAjB;AACA;AACD,UAAOe,MAAP;AACA;;AAED;;;;;;;;;;AAUA,WAASsL,SAAT,CAAmB/N,MAAnB,EAA2B8N,EAA3B,EAA+B;AAC9B,OAAIE,QAAQhO,OAAOiJ,KAAP,CAAa,GAAb,CAAZ;AACA,OAAIxG,SAAS,EAAb;AACA,OAAIuL,MAAMtM,MAAN,GAAe,CAAnB,EAAsB;AACrB;AACA;AACAe,aAASuL,MAAM,CAAN,IAAW,GAApB;AACAhO,aAASgO,MAAM,CAAN,CAAT;AACA;AACD;AACAhO,YAASA,OAAOyK,OAAP,CAAeyC,eAAf,EAAgC,MAAhC,CAAT;AACA,OAAIe,SAASjO,OAAOiJ,KAAP,CAAa,GAAb,CAAb;AACA,OAAIiF,UAAU5K,IAAI2K,MAAJ,EAAYH,EAAZ,EAAgBlE,IAAhB,CAAqB,GAArB,CAAd;AACA,UAAOnH,SAASyL,OAAhB;AACA;;AAED;;;;;;;;;;;;;AAaA,WAASC,UAAT,CAAoBnO,MAApB,EAA4B;AAC3B,OAAIoO,SAAS,EAAb;AAAA,OACIC,UAAU,CADd;AAAA,OAEI3M,SAAS1B,OAAO0B,MAFpB;AAAA,OAGIsB,KAHJ;AAAA,OAIIsL,KAJJ;AAKA,UAAOD,UAAU3M,MAAjB,EAAyB;AACxBsB,YAAQhD,OAAOuJ,UAAP,CAAkB8E,SAAlB,CAAR;AACA,QAAIrL,SAAS,MAAT,IAAmBA,SAAS,MAA5B,IAAsCqL,UAAU3M,MAApD,EAA4D;AAC3D;AACA4M,aAAQtO,OAAOuJ,UAAP,CAAkB8E,SAAlB,CAAR;AACA,SAAI,CAACC,QAAQ,MAAT,KAAoB,MAAxB,EAAgC;AAAE;AACjCF,aAAO9M,IAAP,CAAY,CAAC,CAAC0B,QAAQ,KAAT,KAAmB,EAApB,KAA2BsL,QAAQ,KAAnC,IAA4C,OAAxD;AACA,MAFD,MAEO;AACN;AACA;AACAF,aAAO9M,IAAP,CAAY0B,KAAZ;AACAqL;AACA;AACD,KAXD,MAWO;AACND,YAAO9M,IAAP,CAAY0B,KAAZ;AACA;AACD;AACD,UAAOoL,MAAP;AACA;;AAED;;;;;;;;AAQA,WAASG,UAAT,CAAoBV,KAApB,EAA2B;AAC1B,UAAOvK,IAAIuK,KAAJ,EAAW,UAAS7K,KAAT,EAAgB;AACjC,QAAIoL,SAAS,EAAb;AACA,QAAIpL,QAAQ,MAAZ,EAAoB;AACnBA,cAAS,OAAT;AACAoL,eAAUb,mBAAmBvK,UAAU,EAAV,GAAe,KAAf,GAAuB,MAA1C,CAAV;AACAA,aAAQ,SAASA,QAAQ,KAAzB;AACA;AACDoL,cAAUb,mBAAmBvK,KAAnB,CAAV;AACA,WAAOoL,MAAP;AACA,IATM,EASJxE,IATI,CASC,EATD,CAAP;AAUA;;AAED;;;;;;;;;AASA,WAAS4E,YAAT,CAAsBC,SAAtB,EAAiC;AAChC,OAAIA,YAAY,EAAZ,GAAiB,EAArB,EAAyB;AACxB,WAAOA,YAAY,EAAnB;AACA;AACD,OAAIA,YAAY,EAAZ,GAAiB,EAArB,EAAyB;AACxB,WAAOA,YAAY,EAAnB;AACA;AACD,OAAIA,YAAY,EAAZ,GAAiB,EAArB,EAAyB;AACxB,WAAOA,YAAY,EAAnB;AACA;AACD,UAAOjC,IAAP;AACA;;AAED;;;;;;;;;;;AAWA,WAASkC,YAAT,CAAsBC,KAAtB,EAA6BC,IAA7B,EAAmC;AAClC;AACA;AACA,UAAOD,QAAQ,EAAR,GAAa,MAAMA,QAAQ,EAAd,CAAb,IAAkC,CAACC,QAAQ,CAAT,KAAe,CAAjD,CAAP;AACA;;AAED;;;;;AAKA,WAASC,KAAT,CAAeC,KAAf,EAAsBC,SAAtB,EAAiCC,SAAjC,EAA4C;AAC3C,OAAI1F,IAAI,CAAR;AACAwF,WAAQE,YAAY3B,MAAMyB,QAAQlC,IAAd,CAAZ,GAAkCkC,SAAS,CAAnD;AACAA,YAASzB,MAAMyB,QAAQC,SAAd,CAAT;AACA,UAAK,uBAAyBD,QAAQ1B,gBAAgBV,IAAhB,IAAwB,CAA9D,EAAiEpD,KAAKkD,IAAtE,EAA4E;AAC3EsC,YAAQzB,MAAMyB,QAAQ1B,aAAd,CAAR;AACA;AACD,UAAOC,MAAM/D,IAAI,CAAC8D,gBAAgB,CAAjB,IAAsB0B,KAAtB,IAA+BA,QAAQnC,IAAvC,CAAV,CAAP;AACA;;AAED;;;;;;;AAOA,WAASsC,MAAT,CAAgBC,KAAhB,EAAuB;AACtB;AACA,OAAId,SAAS,EAAb;AAAA,OACIe,cAAcD,MAAMxN,MADxB;AAAA,OAEI0N,GAFJ;AAAA,OAGI5G,IAAI,CAHR;AAAA,OAII6G,IAAIvC,QAJR;AAAA,OAKIwC,OAAOzC,WALX;AAAA,OAMI0C,KANJ;AAAA,OAOIlG,CAPJ;AAAA,OAQImG,KARJ;AAAA,OASIC,IATJ;AAAA,OAUIC,CAVJ;AAAA,OAWIpG,CAXJ;AAAA,OAYIqF,KAZJ;AAAA,OAaIgB,CAbJ;;AAcI;AACAC,aAfJ;;AAiBA;AACA;AACA;;AAEAL,WAAQL,MAAMvG,WAAN,CAAkBoE,SAAlB,CAAR;AACA,OAAIwC,QAAQ,CAAZ,EAAe;AACdA,YAAQ,CAAR;AACA;;AAED,QAAKlG,IAAI,CAAT,EAAYA,IAAIkG,KAAhB,EAAuB,EAAElG,CAAzB,EAA4B;AAC3B;AACA,QAAI6F,MAAM3F,UAAN,CAAiBF,CAAjB,KAAuB,IAA3B,EAAiC;AAChC5D,WAAM,WAAN;AACA;AACD2I,WAAO9M,IAAP,CAAY4N,MAAM3F,UAAN,CAAiBF,CAAjB,CAAZ;AACA;;AAED;AACA;;AAEA,QAAKmG,QAAQD,QAAQ,CAAR,GAAYA,QAAQ,CAApB,GAAwB,CAArC,EAAwCC,QAAQL,WAAhD,GAA6D,yBAA2B;;AAEvF;AACA;AACA;AACA;AACA;AACA,SAAKM,OAAOjH,CAAP,EAAUkH,IAAI,CAAd,EAAiBpG,IAAIkD,IAA1B,GAAgC,kBAAoBlD,KAAKkD,IAAzD,EAA+D;;AAE9D,SAAIgD,SAASL,WAAb,EAA0B;AACzB1J,YAAM,eAAN;AACA;;AAEDkJ,aAAQH,aAAaU,MAAM3F,UAAN,CAAiBiG,OAAjB,CAAb,CAAR;;AAEA,SAAIb,SAASnC,IAAT,IAAiBmC,QAAQtB,MAAM,CAACd,SAAS/D,CAAV,IAAekH,CAArB,CAA7B,EAAsD;AACrDjK,YAAM,UAAN;AACA;;AAED+C,UAAKmG,QAAQe,CAAb;AACAC,SAAIrG,KAAKgG,IAAL,GAAY7C,IAAZ,GAAoBnD,KAAKgG,OAAO5C,IAAZ,GAAmBA,IAAnB,GAA0BpD,IAAIgG,IAAtD;;AAEA,SAAIX,QAAQgB,CAAZ,EAAe;AACd;AACA;;AAEDC,kBAAapD,OAAOmD,CAApB;AACA,SAAID,IAAIrC,MAAMd,SAASqD,UAAf,CAAR,EAAoC;AACnCnK,YAAM,UAAN;AACA;;AAEDiK,UAAKE,UAAL;AAEA;;AAEDR,UAAMhB,OAAO1M,MAAP,GAAgB,CAAtB;AACA4N,WAAOT,MAAMrG,IAAIiH,IAAV,EAAgBL,GAAhB,EAAqBK,QAAQ,CAA7B,CAAP;;AAEA;AACA;AACA,QAAIpC,MAAM7E,IAAI4G,GAAV,IAAiB7C,SAAS8C,CAA9B,EAAiC;AAChC5J,WAAM,UAAN;AACA;;AAED4J,SAAKhC,MAAM7E,IAAI4G,GAAV,CAAL;AACA5G,SAAK4G,GAAL;;AAEA;AACAhB,WAAO5M,MAAP,CAAcgH,GAAd,EAAmB,CAAnB,EAAsB6G,CAAtB;AAEA;;AAED,UAAOd,WAAWH,MAAX,CAAP;AACA;;AAED;;;;;;;AAOA,WAASpE,MAAT,CAAgBkF,KAAhB,EAAuB;AACtB,OAAIG,CAAJ;AAAA,OACIP,KADJ;AAAA,OAEIe,cAFJ;AAAA,OAGIC,WAHJ;AAAA,OAIIR,IAJJ;AAAA,OAKIjG,CALJ;AAAA,OAMI0G,CANJ;AAAA,OAOIC,CAPJ;AAAA,OAQI1G,CARJ;AAAA,OASIqG,CATJ;AAAA,OAUIM,YAVJ;AAAA,OAWI7B,SAAS,EAXb;;AAYI;AACAe,cAbJ;;AAcI;AACAe,wBAfJ;AAAA,OAgBIN,UAhBJ;AAAA,OAiBIO,OAjBJ;;AAmBA;AACAjB,WAAQf,WAAWe,KAAX,CAAR;;AAEA;AACAC,iBAAcD,MAAMxN,MAApB;;AAEA;AACA2N,OAAIvC,QAAJ;AACAgC,WAAQ,CAAR;AACAQ,UAAOzC,WAAP;;AAEA;AACA,QAAKxD,IAAI,CAAT,EAAYA,IAAI8F,WAAhB,EAA6B,EAAE9F,CAA/B,EAAkC;AACjC4G,mBAAef,MAAM7F,CAAN,CAAf;AACA,QAAI4G,eAAe,IAAnB,EAAyB;AACxB7B,YAAO9M,IAAP,CAAYiM,mBAAmB0C,YAAnB,CAAZ;AACA;AACD;;AAEDJ,oBAAiBC,cAAc1B,OAAO1M,MAAtC;;AAEA;AACA;;AAEA;AACA,OAAIoO,WAAJ,EAAiB;AAChB1B,WAAO9M,IAAP,CAAYyL,SAAZ;AACA;;AAED;AACA,UAAO8C,iBAAiBV,WAAxB,EAAqC;;AAEpC;AACA;AACA,SAAKY,IAAIxD,MAAJ,EAAYlD,IAAI,CAArB,EAAwBA,IAAI8F,WAA5B,EAAyC,EAAE9F,CAA3C,EAA8C;AAC7C4G,oBAAef,MAAM7F,CAAN,CAAf;AACA,SAAI4G,gBAAgBZ,CAAhB,IAAqBY,eAAeF,CAAxC,EAA2C;AAC1CA,UAAIE,YAAJ;AACA;AACD;;AAED;AACA;AACAC,4BAAwBL,iBAAiB,CAAzC;AACA,QAAIE,IAAIV,CAAJ,GAAQhC,MAAM,CAACd,SAASuC,KAAV,IAAmBoB,qBAAzB,CAAZ,EAA6D;AAC5DzK,WAAM,UAAN;AACA;;AAEDqJ,aAAS,CAACiB,IAAIV,CAAL,IAAUa,qBAAnB;AACAb,QAAIU,CAAJ;;AAEA,SAAK1G,IAAI,CAAT,EAAYA,IAAI8F,WAAhB,EAA6B,EAAE9F,CAA/B,EAAkC;AACjC4G,oBAAef,MAAM7F,CAAN,CAAf;;AAEA,SAAI4G,eAAeZ,CAAf,IAAoB,EAAEP,KAAF,GAAUvC,MAAlC,EAA0C;AACzC9G,YAAM,UAAN;AACA;;AAED,SAAIwK,gBAAgBZ,CAApB,EAAuB;AACtB;AACA,WAAKW,IAAIlB,KAAJ,EAAWxF,IAAIkD,IAApB,GAA0B,kBAAoBlD,KAAKkD,IAAnD,EAAyD;AACxDmD,WAAIrG,KAAKgG,IAAL,GAAY7C,IAAZ,GAAoBnD,KAAKgG,OAAO5C,IAAZ,GAAmBA,IAAnB,GAA0BpD,IAAIgG,IAAtD;AACA,WAAIU,IAAIL,CAAR,EAAW;AACV;AACA;AACDQ,iBAAUH,IAAIL,CAAd;AACAC,oBAAapD,OAAOmD,CAApB;AACAvB,cAAO9M,IAAP,CACCiM,mBAAmBmB,aAAaiB,IAAIQ,UAAUP,UAA3B,EAAuC,CAAvC,CAAnB,CADD;AAGAI,WAAI3C,MAAM8C,UAAUP,UAAhB,CAAJ;AACA;;AAEDxB,aAAO9M,IAAP,CAAYiM,mBAAmBmB,aAAasB,CAAb,EAAgB,CAAhB,CAAnB,CAAZ;AACAV,aAAOT,MAAMC,KAAN,EAAaoB,qBAAb,EAAoCL,kBAAkBC,WAAtD,CAAP;AACAhB,cAAQ,CAAR;AACA,QAAEe,cAAF;AACA;AACD;;AAED,MAAEf,KAAF;AACA,MAAEO,CAAF;AAEA;AACD,UAAOjB,OAAOxE,IAAP,CAAY,EAAZ,CAAP;AACA;;AAED;;;;;;;;;;;AAWA,WAASwG,SAAT,CAAmBlB,KAAnB,EAA0B;AACzB,UAAOnB,UAAUmB,KAAV,EAAiB,UAASlP,MAAT,EAAiB;AACxC,WAAOgN,cAAcqD,IAAd,CAAmBrQ,MAAnB,IACJiP,OAAOjP,OAAO4I,KAAP,CAAa,CAAb,EAAgBR,WAAhB,EAAP,CADI,GAEJpI,MAFH;AAGA,IAJM,CAAP;AAKA;;AAED;;;;;;;;;;;AAWA,WAASsQ,OAAT,CAAiBpB,KAAjB,EAAwB;AACvB,UAAOnB,UAAUmB,KAAV,EAAiB,UAASlP,MAAT,EAAiB;AACxC,WAAOiN,cAAcoD,IAAd,CAAmBrQ,MAAnB,IACJ,SAASgK,OAAOhK,MAAP,CADL,GAEJA,MAFH;AAGA,IAJM,CAAP;AAKA;;AAED;;AAEA;AACA0F,aAAW;AACV;;;;;AAKA,cAAW,OAND;AAOV;;;;;;;AAOA,WAAQ;AACP,cAAUyI,UADH;AAEP,cAAUI;AAFH,IAdE;AAkBV,aAAUU,MAlBA;AAmBV,aAAUjF,MAnBA;AAoBV,cAAWsG,OApBD;AAqBV,gBAAaF;AArBH,GAAX;;AAwBA;AACA;AACA;AACA,MACC,cAAiB,UAAjB,IACA,QAAO,oDAAP,KAAqB,QADrB,IAEA,oDAHD,EAIE;AACDG,GAAA,kCAAmB,YAAW;AAC7B,WAAO7K,QAAP;AACA,IAFD;AAGA,GARD,MAQO,IAAIuG,eAAeE,UAAnB,EAA+B;AACrC,OAAIhO,OAAOC,OAAP,IAAkB6N,WAAtB,EAAmC;AAAE;AACpCE,eAAW/N,OAAX,GAAqBsH,QAArB;AACA,IAFD,MAEO;AAAE;AACR,SAAKgI,GAAL,IAAYhI,QAAZ,EAAsB;AACrBA,cAAS8K,cAAT,CAAwB9C,GAAxB,MAAiCzB,YAAYyB,GAAZ,IAAmBhI,SAASgI,GAAT,CAApD;AACA;AACD;AACD,GARM,MAQA;AAAE;AACR1B,QAAKtG,QAAL,GAAgBA,QAAhB;AACA;AAED,EAhhBC,YAAD,C;;;;;;;;;;;ACDD;;AAEAtH,SAAQ6Q,MAAR,GAAiB7Q,QAAQ6D,KAAR,GAAgB,mBAAA5D,CAAQ,oBAAR,CAAjC;AACAD,SAAQ4L,MAAR,GAAiB5L,QAAQ8D,SAAR,GAAoB,mBAAA7D,CAAQ,oBAAR,CAArC,C;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AACA,UAASmS,cAAT,CAAwBrP,GAAxB,EAA6BsP,IAA7B,EAAmC;AACjC,UAAO/N,OAAOkF,SAAP,CAAiB4I,cAAjB,CAAgChG,IAAhC,CAAqCrJ,GAArC,EAA0CsP,IAA1C,CAAP;AACD;;AAEDtS,QAAOC,OAAP,GAAiB,UAASsS,EAAT,EAAaC,GAAb,EAAkBC,EAAlB,EAAsBC,OAAtB,EAA+B;AAC9CF,SAAMA,OAAO,GAAb;AACAC,QAAKA,MAAM,GAAX;AACA,OAAIzP,MAAM,EAAV;;AAEA,OAAI,OAAOuP,EAAP,KAAc,QAAd,IAA0BA,GAAGhP,MAAH,KAAc,CAA5C,EAA+C;AAC7C,YAAOP,GAAP;AACD;;AAED,OAAI2P,SAAS,KAAb;AACAJ,QAAKA,GAAGzH,KAAH,CAAS0H,GAAT,CAAL;;AAEA,OAAII,UAAU,IAAd;AACA,OAAIF,WAAW,OAAOA,QAAQE,OAAf,KAA2B,QAA1C,EAAoD;AAClDA,eAAUF,QAAQE,OAAlB;AACD;;AAED,OAAIC,MAAMN,GAAGhP,MAAb;AACA;AACA,OAAIqP,UAAU,CAAV,IAAeC,MAAMD,OAAzB,EAAkC;AAChCC,WAAMD,OAAN;AACD;;AAED,QAAK,IAAIvI,IAAI,CAAb,EAAgBA,IAAIwI,GAApB,EAAyB,EAAExI,CAA3B,EAA8B;AAC5B,SAAIyI,IAAIP,GAAGlI,CAAH,EAAMiC,OAAN,CAAcqG,MAAd,EAAsB,KAAtB,CAAR;AAAA,SACII,MAAMD,EAAExP,OAAF,CAAUmP,EAAV,CADV;AAAA,SAEIO,IAFJ;AAAA,SAEUC,IAFV;AAAA,SAEgB9H,CAFhB;AAAA,SAEmB+H,CAFnB;;AAIA,SAAIH,OAAO,CAAX,EAAc;AACZC,cAAOF,EAAE5I,MAAF,CAAS,CAAT,EAAY6I,GAAZ,CAAP;AACAE,cAAOH,EAAE5I,MAAF,CAAS6I,MAAM,CAAf,CAAP;AACD,MAHD,MAGO;AACLC,cAAOF,CAAP;AACAG,cAAO,EAAP;AACD;;AAED9H,SAAIT,mBAAmBsI,IAAnB,CAAJ;AACAE,SAAIxI,mBAAmBuI,IAAnB,CAAJ;;AAEA,SAAI,CAACZ,eAAerP,GAAf,EAAoBmI,CAApB,CAAL,EAA6B;AAC3BnI,WAAImI,CAAJ,IAAS+H,CAAT;AACD,MAFD,MAEO,IAAInO,MAAMoO,OAAN,CAAcnQ,IAAImI,CAAJ,CAAd,CAAJ,EAA2B;AAChCnI,WAAImI,CAAJ,EAAOhI,IAAP,CAAY+P,CAAZ;AACD,MAFM,MAEA;AACLlQ,WAAImI,CAAJ,IAAS,CAACnI,IAAImI,CAAJ,CAAD,EAAS+H,CAAT,CAAT;AACD;AACF;;AAED,UAAOlQ,GAAP;AACD,EAjDD,C;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAEA,KAAIoQ,qBAAqB,SAArBA,kBAAqB,CAASF,CAAT,EAAY;AACnC,kBAAeA,CAAf,yCAAeA,CAAf;AACE,UAAK,QAAL;AACE,cAAOA,CAAP;;AAEF,UAAK,SAAL;AACE,cAAOA,IAAI,MAAJ,GAAa,OAApB;;AAEF,UAAK,QAAL;AACE,cAAOG,SAASH,CAAT,IAAcA,CAAd,GAAkB,EAAzB;;AAEF;AACE,cAAO,EAAP;AAXJ;AAaD,EAdD;;AAgBAlT,QAAOC,OAAP,GAAiB,UAAS+C,GAAT,EAAcwP,GAAd,EAAmBC,EAAnB,EAAuBlN,IAAvB,EAA6B;AAC5CiN,SAAMA,OAAO,GAAb;AACAC,QAAKA,MAAM,GAAX;AACA,OAAIzP,QAAQ,IAAZ,EAAkB;AAChBA,WAAMsQ,SAAN;AACD;;AAED,OAAI,QAAOtQ,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AAC3B,YAAOuB,OAAOC,IAAP,CAAYxB,GAAZ,EAAiBmC,GAAjB,CAAqB,UAASgG,CAAT,EAAY;AACtC,WAAIoI,KAAKrH,mBAAmBkH,mBAAmBjI,CAAnB,CAAnB,IAA4CsH,EAArD;AACA,WAAI1N,MAAMoO,OAAN,CAAcnQ,IAAImI,CAAJ,CAAd,CAAJ,EAA2B;AACzB,gBAAOnI,IAAImI,CAAJ,EAAOhG,GAAP,CAAW,UAAS+N,CAAT,EAAY;AAC5B,kBAAOK,KAAKrH,mBAAmBkH,mBAAmBF,CAAnB,CAAnB,CAAZ;AACD,UAFM,EAEJzH,IAFI,CAEC+G,GAFD,CAAP;AAGD,QAJD,MAIO;AACL,gBAAOe,KAAKrH,mBAAmBkH,mBAAmBpQ,IAAImI,CAAJ,CAAnB,CAAnB,CAAZ;AACD;AACF,MATM,EASJM,IATI,CASC+G,GATD,CAAP;AAWD;;AAED,OAAI,CAACjN,IAAL,EAAW,OAAO,EAAP;AACX,UAAO2G,mBAAmBkH,mBAAmB7N,IAAnB,CAAnB,IAA+CkN,EAA/C,GACAvG,mBAAmBkH,mBAAmBpQ,GAAnB,CAAnB,CADP;AAED,EAxBD,C;;;;;;;;;;;;;;ACvCA,KAAM5B,IAAI,mBAAAlB,CAAQ,kBAAR,CAAV;AACA,oBAAAA,CAAQ,0BAAR;;AAEA,KAAMC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;AACA,KAAME,WAAW,mBAAAF,CAAQ,qBAAR,CAAjB;;AAEA;;AAEA,KAAMsT,sBAAsB,mBAAAtT,CAAQ,iCAAR,CAA5B;AACA,KAAMuT,SAAS,mBAAAvT,CAAQ,kBAAR,EAAkBwT,kBAAjC;AACA,KAAMC,mBAAmB,mBAAAzT,CAAQ,6BAAR,CAAzB;AACA,KAAM0T,6BAA6B,mBAAA1T,CAAQ,4CAAR,CAAnC;AACA,KAAM2T,mBAAmB,mBAAA3T,CAAQ,6BAAR,CAAzB;AACA,KAAM4T,gBAAgB,mBAAA5T,CAAQ,0BAAR,CAAtB;AACA,KAAM6T,iBAAiB,mBAAA7T,CAAQ,6BAAR,EAA6B8T,IAApD;;AAGA;;AAEA,oBAAA9T,CAAQ,qCAAR;;AAEA;;AAEA,KAAMyB,iBAAiBxB,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAA9C;AACA,KAAMmS,iBAAiB9T,MAAMyB,SAAN,CAAgBC,MAAvC;AACA,KAAMqS,eAAe/T,MAAMyB,SAAN,CAAgBuS,IAAhB,CAAqBrS,UAA1C;;AAEA,KAAMsS,sBAAsBjU,MAAM4B,WAAN,CAAkB;AAAA;;AAC1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCAC,gBAAW;AACPG,kBAAShC,MAAMyB,SAAN,CAAgByS,OAAhB,CAAwBlU,MAAMyB,SAAN,CAAgB0S,KAAhB,CAAsB;AACnDxT,sBAASa,cAD0C;AAEnDsF,sBAAStF,cAF0C;AAGnD4S,6BAAgB5S,cAHmC;AAInD6S,4BAAe7S,cAJoC,EAIjB;AAClC8S,yBAAY9S,cALuC;AAMnD+S,sBAASvU,MAAMyB,SAAN,CAAgByS,OAAhB,CAAwBJ,cAAxB,EAAwCnS,UANE;AAOnD6S,kCAAqBhT,cAP8B;AAQnDiT,kCAAqBjT,cAR8B;AASnDkT,6BAAgBlT,cATmC;AAUnDmT,yBAAYnT,cAVuC;AAWnDoT,yBAAYpT,cAXuC;AAYnDqT,yBAAYrT,cAZuC,EAYpB;AAC/BsT,qBAAQtT,cAb2C;AAcnD+D,iBAAI/D;AAd+C,UAAtB,CAAxB,EAeLG,UAhBG;AAiBPO,uBAAcV,cAjBP;AAkBPW,uBAAcX,cAlBP;AAmBPY,qBAAYZ,cAnBL;AAoBPa,qBAAYb,cApBL;AAqBPpB,kBAASoB;AArBF,MAlC+B;;AA0D1CM,oBA1D0C,6BA0DvB;AACf,gBAAO;AACHiT,4BAAe,KADZ;AAEHC,sCAAyB,OAAOC,EAAP,KAAc,WAAd,GAA4BA,EAA5B,GAAiC,YAAM,CAAE;AAF/D,UAAP;AAIH,MA/DyC;AAiE1CC,yBAjE0C,kCAiElB;AACpB,aAAIC,mBAAmB,CAAC,KAAKtR,KAAL,CAAWkR,aAAnC;AACA,cAAKrS,QAAL,CAAc,EAACqS,eAAeI,gBAAhB,EAAd;AACH,MApEyC;AAsE1CtU,WAtE0C,oBAsEhC;AAAA;;AACN,aAAIuU,yBAAyB,KAAKvP,KAAL,CAAW7D,OAAX,CAAmBgD,GAAnB,CAAuB,sBAAc;AAC9D,oBAAO,oBAAC,qBAAD;AACK,sBAAOqQ,WAAW9P,EADvB;AAEK,gCAAiB,MAAK1B,KAAL,CAAWkR,aAFjC;AAGK,+BAAgB,MAAKlP,KAAL,CAAWzF,OAAX,GAAqB;AAH1C,gBAISiV,UAJT,EAAP;AAKH,UAN4B,CAA7B;;AAQA,aAAIC,kBAAkBrU,EAAEsU,OAAF,CAAUC,IAAV,GAAiB,IAAjB,GAElB;AAAA;AAAA,eAAK,OAAS,EAACC,WAAU,MAAX,EAAd;AACI,iCAAC,aAAD;AACI,qCAAuB,4BAACC,KAAD,EAAQC,OAAR,EAAoB;AACvC,2BAAK9R,KAAL,CAAWmR,uBAAX,CAAmC,MAAnC,EAA0C,OAA1C,EAAkD,sBAAlD,EAA0E,UAA1E,EAAsFW,OAAtF,EAA+FD,KAA/F;AACH,kBAHL;AADJ,UAFJ;;AASA,gBACI;AAAA;AAAA;AACI;AAAA;AAAA,mBAAK,OAAO,EAACE,SAAS,cAAV,EAA0BC,eAAe,QAAzC,EAAZ;AACI,qCAAC,mBAAD,IAAqB,UAAS,kCAA9B,EAAiE,UAAS,qCAA1E,EAAgH,iBAAiB,KAAKX,oBAAtI,EAA4J,eAAe,KAAKrR,KAAL,CAAWkR,aAAtL,EAAqM,UAAS,MAA9M,EAAqN,OAAM,OAA3N;AADJ,cADJ;AAKI;AAAA;AAAA,mBAAK,OAAO,EAACa,SAAS,cAAV,EAA0BC,eAAe,QAAzC,EAAZ;AACI,qCAAC,MAAD;AACI,mCAAc,KAAKhQ,KAAL,CAAWzF,OAAX,GAAqB,MADvC,EAC+C,cAAc,KAAKyF,KAAL,CAAW1D,YADxE,EACsF,cAAc,KAAK0D,KAAL,CAAW3D,YAD/G,EAC6H,YAAY,KAAK2D,KAAL,CAAWzD,UADpJ,EACgK,YAAY,KAAKyD,KAAL,CAAWxD;AADvL;AADJ,cALJ;AAWI;AAAA;AAAA,mBAAK,OAAO,EAACuT,SAAS,cAAV,EAA0BE,aAAa,MAAvC,EAA+CD,eAAe,KAA9D,EAAZ;AACI,qCAAC,0BAAD,IAA4B,KAAI,wBAAhC;AAC4B,8BAAS,KAAKhQ,KAAL,CAAWzF,OADhD;AAE4B,8BAAS,KAAKyF,KAAL,CAAW7D;AAFhD;AADJ,cAXJ;AAkBI;AAAA;AAAA,mBAAO,WAAU,mDAAjB;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA,+BAAI,OAAO,EAAC+T,OAAO,KAAR,EAAX;AAAA;AAA8B;AAAA;AAAA;AAAA;AAAA,8BAA9B;AAAA;AAAA,0BADJ;AAEI;AAAA;AAAA,+BAAI,OAAO,EAACA,OAAO,IAAR,EAAX;AAAA;AAAA,0BAFJ;AAGI;AAAA;AAAA,+BAAI,OAAO,EAACA,OAAO,KAAR,EAAX;AAAA;AAAA,0BAHJ;AAII;AAAA;AAAA,+BAAI,OAAO,EAACA,OAAO,KAAR,EAAX;AAAA;AAAA,0BAJJ;AAKI;AAAA;AAAA,+BAAI,OAAO,EAACA,OAAO,KAAR,EAAX;AAAA;AAAA;AALJ;AADJ,kBADJ;AAUI;AAAA;AAAA;AACSX;AADT;AAVJ,cAlBJ;AAgCKE;AAhCL,UADJ;AAoCH;AA5HyC,EAAlB,CAA5B;;AAgIA,KAAMU,wBAAwBhW,MAAM4B,WAAN,CAAkB;AAAA;;AAC5CC,gBAAW;AACP2S,8BAAqBhT,cADd;AAEPqT,qBAAYrT,cAFL;AAGPsT,iBAAQtT,cAHD;AAIPb,kBAASa,cAJF;AAKPoT,qBAAYpT,cALL;AAMP+S,kBAASvU,MAAMyB,SAAN,CAAgByS,OAAhB,CAAwBJ,cAAxB,EAAwCnS,UAN1C;AAOP+S,yBAAgBlT,cAPT;AAQPmT,qBAAYnT,cARL;AASPiT,8BAAqBjT,cATd;AAUPuT,wBAAehB,YAVR;AAWPkC,uBAAczU;AAXP,MADiC;;AAe5C0U,0BAf4C,mCAenB;AACvB,gBACE,iBAAiB,KAAKrQ,KAAL,CAAW4O,mBAA5B,GACE,aADF,GACkB,KAAK5O,KAAL,CAAW2O,mBAD7B,GAEE,qBAFF,GAE0B,KAAK3O,KAAL,CAAW8O,UAFrC,GAGE,iBAJJ;AAMD,MAtB2C;AAwB5C9T,WAxB4C,oBAwBlC;AACN,aAAI0T,UAAU,KAAK1O,KAAL,CAAW0O,OAAX,GAAqB,KAAK1O,KAAL,CAAW0O,OAAX,CAAmB4B,QAAnB,GAA8BhK,OAA9B,CAAsC,IAAtC,EAA4C,IAA5C,CAArB,GAAyE,EAAvF;;AAEA,gBACI;AAAA;AAAA;AACI,iCAAC,gBAAD;AACI,yBAAQ,KAAKtG,KAAL,CAAWiP,MADvB;AAEI,2BAAU,KAAKjP,KAAL,CAAWuQ,QAFzB;AAGI,6BAAY,KAAKvQ,KAAL,CAAWgP,UAH3B;AAII,gCAAe,KAAKhP,KAAL,CAAWkP,aAJ9B,GADJ;AAMI;AAAA;AAAA,mBAAI,WAAU,aAAd;AACI,qCAAC,cAAD,IAAgB,SAAS,KAAKlP,KAAL,CAAWlF,OAApC;AADJ,cANJ;AASI;AAAA;AAAA,mBAAI,KAAI,YAAR;AACI;AAAA;AAAA,uBAAG,MAAM,KAAKuV,qBAAL,EAAT;AACK,0BAAKrQ,KAAL,CAAW+O;AADhB;AADJ,cATJ;AAcI;AAAA;AAAA,mBAAI,WAAU,yBAAd;AACKL;AADL,cAdJ;AAiBI;AAAA;AAAA;AACI;AAAA;AAAA,uBAAG,MAAM,iBAAiB,KAAK1O,KAAL,CAAW4O,mBAArC;AACK,0BAAK5O,KAAL,CAAW6O;AADhB;AADJ;AAjBJ,UADJ;AAyBH,MApD2C;AAsD5CnS,sBAtD4C,+BAsDvB;AAAA;;AACjBmR,0BAAiB,KAAK7N,KAAL,CAAWoQ,YAA5B,EAA0C,EAA1C,EAA8ChW,SAASoW,WAAT,CAAqB,KAAKC,IAAL,CAAU1B,UAA/B,CAA9C,EAA0F,KAAK/O,KAAL,CAAW4O,mBAArG,EAA0H,KAAK5O,KAAL,CAAW8O,UAArI;AACA1T,WAAEF,QAAF,EAAYwV,KAAZ,CAAkB,YAAM;AACtB,oBAAK7T,QAAL,CACI,EAACsS,yBAAyB,OAAOC,EAAP,KAAc,WAAd,GAA4BA,EAA5B,GAAiC,YAAM,CAAE,CAAnE,EADJ;AAGD,UAJD;AAKH;AA7D2C,EAAlB,CAA9B;;AAgEA;;AAEApV,QAAOC,OAAP,GAAiBmU,mBAAjB,C;;;;;;;;;;;;;;;;AC7NA;;AAEA;;AAEApU,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,yCAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIE,WAAW,mBAAAF,CAAQ,qBAAR,CAAf;;AAEA,KAAIkB,IAAI,mBAAAlB,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;;AAIA;;AAEA,KAAIsT,sBAAsBrT,MAAM4B,WAAN,CAAkB;AAAA;;;AAExCC,gBAAW;AACP2U,mBAAUxW,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAD1B;AAEP8U,mBAAUzW,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAF1B;AAGP+U,0BAAiB1W,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV,UAH/B;AAIPoT,wBAAe/U,MAAMyB,SAAN,CAAgBuS,IAAhB,CAAqBrS,UAJ7B;AAKPoU,gBAAO/V,MAAMyB,SAAN,CAAgBC,MALhB;AAMPkV,mBAAU5W,MAAMyB,SAAN,CAAgBC;AANnB,MAF6B;;AAWxCmV,kBAAa,uBAAY;AACrB,gBAAO,KAAKhR,KAAL,CAAWkP,aAAX,GAA2B,KAAKlP,KAAL,CAAW2Q,QAAtC,GAAiD,KAAK3Q,KAAL,CAAW4Q,QAAnE;AACH,MAbuC;;AAexCK,wBAAmB,6BAAY;AAC3B7V,WAAEhB,SAASoW,WAAT,CAAqB,IAArB,CAAF,EAA8BU,MAA9B,CAAqC,EAAEC,OAAO,KAAKH,WAAL,EAAT,EAArC;AACH,MAjBuC;;AAmBxChW,aAAQ,kBAAY;AAChB,aAAIoW,QAAQ,EAAZ;AAEA,aAAI,KAAKpR,KAAL,CAAWkQ,KAAf,EAAsB;AAClBkB,mBAAMlB,KAAN,GAAc,KAAKlQ,KAAL,CAAWkQ,KAAzB;AACH;AACD,aAAI,KAAKlQ,KAAL,CAAW+Q,QAAf,EAAyB;AACrBK,mBAAML,QAAN,GAAiB,KAAK/Q,KAAL,CAAW+Q,QAA5B;AACH;;AAED,gBACI,gCAAQ,OAAOK,KAAf,EAAsB,SAAS,KAAKpR,KAAL,CAAW6Q,eAA1C,GADJ;AAGH,MAhCuC;;AAkCxCnU,wBAAmB,6BAAY;AAC3B,cAAKuU,iBAAL;AACH,MApCuC;;AAsCxCI,yBAAoB,8BAAY;AAC5B,cAAKJ,iBAAL;AACH;;AAxCuC,EAAlB,CAA1B;;AA4CA;;AAEAjX,QAAOC,OAAP,GAAiBuT,mBAAjB,C;;;;;;;;;;;;;;;;AC9DA;;AAEA;;AAEAvT,SAAQyT,kBAAR,GAA6B,mBAAAxT,CAAQ,wCAAR,CAA7B;AACAD,SAAQqX,cAAR,GAAyB,mBAAApX,CAAQ,oCAAR,CAAzB,C;;;;;;;;;;ACLA;;AAEA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIE,WAAW,mBAAAF,CAAQ,qBAAR,CAAf;;AAEA;;AAEA,KAAIqX,YAAY,mBAAArX,CAAQ,2BAAR,CAAhB;AACA,KAAIsX,eAAe,mBAAAtX,CAAQ,yBAAR,CAAnB;;AAEA;;AAEA,oBAAAA,CAAQ,2BAAR;;AAEA;;AAEA,KAAIwT,qBAAqBvT,MAAM4B,WAAN,CAAkB;AAAA;;;AAEvCC,gBAAW;AACPyV,uBAActX,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAD9B;AAEPQ,uBAAcnC,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAF9B;AAGPO,uBAAclC,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAH9B;AAIPS,qBAAYpC,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAJ5B;AAKPU,qBAAYrC,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC;AAL5B,MAF4B;;AAUvCd,aAAQ,kBAAY;AAChB,gBACI;AAAA;AAAA,eAAK,WAAU,WAAf;AACI;AAAA;AAAA,mBAAK,OAAO,EAAC+U,SAAS,cAAV,EAAZ;AACK2B,uBAAM,KAAK1R,KAAL,CAAW1D,YAAjB,KAAkCoV,MAAM,KAAK1R,KAAL,CAAW3D,YAAjB,CAAlC,GACG,IADH,GAEG,oBAAC,SAAD,IAAW,oBAAoB,KAAK2D,KAAL,CAAW1D,YAA1C;AACW,0CAAqB,KAAK0D,KAAL,CAAW3D,YAD3C;AAEW,qCAAe,SAF1B;AAGW,sCAAgB,SAH3B,GAHR;AAQKqV,uBAAM,KAAK1R,KAAL,CAAWzD,UAAjB,KAAgCmV,MAAM,KAAK1R,KAAL,CAAWxD,UAAjB,CAAhC,GACG,IADH,GAEG,oBAAC,SAAD,IAAW,oBAAoB,KAAKwD,KAAL,CAAWzD,UAA1C;AACW,0CAAqB,KAAKyD,KAAL,CAAWxD,UAD3C;AAEW,qCAAe,SAF1B;AAGW,sCAAgB,SAH3B;AAVR,cADJ;AAiBI,0CAAK,KAAI,YAAT,EAAsB,iBAAc,wBAApC,EAA6D,WAAU,eAAvE;AAjBJ,UADJ;AAqBH,MAhCsC;;AAkCvCE,wBAAmB,6BAAY;AAC3B8U,sBAAa,KAAKxR,KAAL,CAAWyR,YAAxB,EAAsC,YAAtC,EAAoDrX,SAASoW,WAAT,CAAqB,KAAKC,IAAL,CAAUkB,UAA/B,CAApD;AACH;AApCsC,EAAlB,CAAzB;;AAuCA;;AAEA3X,QAAOC,OAAP,GAAiByT,kBAAjB,C;;;;;;;;;;AC3DA;;AAEA;;AAEA,KAAIvT,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;;AAEA;;AAEA,oBAAAA,CAAQ,6BAAR;;AAEA;;AAEA,KAAIqX,YAAYpX,MAAM4B,WAAN,CAAkB;AAAA;;;AAE9BC,gBAAW;AACP4V,yBAAgBzX,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UADhC;AAEP+V,0BAAiB1X,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAFjC;AAGPgW,6BAAoB3X,MAAMyB,SAAN,CAAgBmW,SAAhB,CAA0B,CAAC5X,MAAMyB,SAAN,CAAgBC,MAAjB,EAAyB1B,MAAMyB,SAAN,CAAgBsB,OAAzC,CAA1B,EAA6EpB,UAH1F,EAGyG;AAChHkW,8BAAqB7X,MAAMyB,SAAN,CAAgBmW,SAAhB,CAA0B,CAAC5X,MAAMyB,SAAN,CAAgBC,MAAjB,EAAyB1B,MAAMyB,SAAN,CAAgBsB,OAAzC,CAA1B,EAA6EpB;AAJ3F,MAFmB;;AAS9Bd,aAAQ,kBAAY;AAChB,aAAIiX,4BAA4B,6WAAhC;AACA,aAAIC,kBAAkBD,0BAA0B3L,OAA1B,CAAkC,qBAAlC,EAAyD,KAAKtG,KAAL,CAAW4R,cAApE,EAAoFtL,OAApF,CAA4F,sBAA5F,EAAoH,KAAKtG,KAAL,CAAW6R,eAA/H,CAAtB;;AAEA;AACA,aAAIM,0BAA0B,4HAA9B;AACA,aAAIC,iBAAiBD,wBAAwB7L,OAAxB,CAAgC,oBAAhC,EAAsD,KAAKtG,KAAL,CAAW4R,cAAjE,EAAiFtL,OAAjF,CAAyF,qBAAzF,EAAgH,KAAKtG,KAAL,CAAW6R,eAA3H,CAArB;;AAEA,gBACI;AAAA;AAAA,eAAK,OAAO,EAAC9B,SAAS,WAAV,EAAZ;AACI;AAAA;AAAA,mBAAK,WAAU,sCAAf;AAAuD,sBAAK/P,KAAL,CAAW8R;AAAlE,cADJ;AAEI;AAAA;AAAA,mBAAK,OAAO,EAAC/B,SAAS,YAAV,EAAZ;AACI,+CAAM,WAAU,mBAAhB,EAAoC,OAAO,EAACmC,iBAAiBA,eAAlB,EAAmC9T,QAAQgU,cAA3C,EAA3C;AADJ,cAFJ;AAKI;AAAA;AAAA,mBAAK,WAAU,sCAAf;AAAuD,sBAAKpS,KAAL,CAAWgS;AAAlE;AALJ,UADJ;AASH;AA1B6B,EAAlB,CAAhB;;AA6BA;;AAEAhY,QAAOC,OAAP,GAAiBsX,SAAjB,C;;;;;;;;;;AC3CA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,+CAA8C,qBAAqB,6BAA6B,mBAAmB,mBAAmB,8BAA8B,4BAA4B,GAAG,uBAAuB,0BAA0B,sBAAsB,6BAA6B,0BAA0B,GAAG,0BAA0B,wBAAwB,GAAG,0BAA0B,uBAAuB,GAAG;;AAE7a;;;;;;;;;;;;;;;;;;;;;;;ACPA;;AAEA;;AAEAvX,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,uCAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA;;;;AAEA,KAAIkB,IAAI,mBAAAlB,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,oBAAAA,CAAQ,gCAAR;;AAEA;;AAEA,UAASmY,eAAT,GAA2B;AACvB,YAAOjX,EAAE,MAAF,EAAU;AACbkX,gBAAO,WADM;AAEbjQ,eAAM,GAFO;AAGbkQ,gBAAO,EAHM;AAIbC,eAAM;AAJO,MAAV,CAAP;AAMH;;AAED,UAASC,eAAT,CAAyBC,QAAzB,EAAkC;AAC9B,YAAO,mBAAmBA,QAAnB,GAA8B,YAArC;AACH;;AAED,UAASC,YAAT,CAAsBlB,YAAtB,EAAoCiB,QAApC,EAA8CE,eAA9C,EAA+D;;AAE3D,SAAIC,SAASR,iBAAb;;AAEA,SAAIS,eAAgB,QAAOF,eAAP,yCAAOA,eAAP,OAA2B,QAA5B,GAAwCA,eAAxC,GAA2DA,mBAAmB,EAApB,GAA0B,iBAA1B,GAA8C,MAAMA,eAAN,GAAwB,kBAAnJ;;AAEAxX,OAAE0X,YAAF,EACKC,MADL,CACYF,MADZ,EAEKG,KAFL,CAEW,UAAUC,CAAV,EAAa;AAChBA,WAAEC,cAAF;AACH,MAJL,EAKKC,OALL,CAMI;AACIC,uBAAc,gBADlB;AAEIC,kBAAS,iBAAUC,QAAV,EAAoB;AACzB,iBAAIC,oBAAoBnY,EAAE,IAAF,EAAQoY,MAAR,GAAiBC,IAAjB,CAAsB,eAAtB,CAAxB;;AAEArY,eAAEsY,GAAF,CAAMjC,eAAe,kBAAf,GAAoCgB,gBAAgBC,QAAhB,CAA1C,EACI,UAAUiB,QAAV,EAAoBC,MAApB,EAA4BC,GAA5B,EAAiC;AAC7B,qBAAIC,cAAJ;;AAEA,qBAAIF,WAAW,OAAf,EAAwB;AACpBE,sCAAiB,mCAAmCD,IAAID,MAAvC,GAAgD,GAAhD,GAAsDC,IAAIE,UAA3E;AACAT,8BAASQ,cAAT;AACA;AACH;;AAEDA,kCAAiB1Y,EAAEuY,QAAF,EAAYvV,MAAZ,CAAmBmV,iBAAnB,EAAsCf,IAAtC,EAAjB;AACA,qBAAI,CAACsB,cAAL,EAAqB;AACjBA,sCAAiB,mCAAmCP,iBAAnC,GAAuD,gBAAvD,GAA0Ed,gBAAgBC,QAAhB,CAA3F;AACH;;AAEDY,0BAASQ,cAAT;AACH,cAhBL;AAkBH;AAvBL,MANJ;AAiCH;;AAED;;AAEA9Z,QAAOC,OAAP,GAAiB,UAAUwX,YAAV,EAAwBiB,QAAxB,EAAkCE,eAAlC,EAAmD;AAChED,kBAAalB,YAAb,EAA2BiB,QAA3B,EAAqCE,eAArC;AACH,EAFD,C;;;;;;;;;;ACrEA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,4CAA2C,wBAAwB,mCAAmC,mCAAmC,mBAAmB,4BAA4B,uDAAuD,GAAG,iBAAiB,wBAAwB,0BAA0B,uDAAuD,wBAAwB,GAAG;;AAEvY;;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,2CAA0C,4BAA4B,0BAA0B,wBAAwB,GAAG,gBAAgB,4BAA4B,yBAAyB,GAAG;;AAEnM;;;;;;;;;;;ACPA;;AAEA;;AAEA,KAAIzY,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIE,WAAW,mBAAAF,CAAQ,qBAAR,CAAf;;AAEA;;AAEA,KAAIqX,YAAY,mBAAArX,CAAQ,2BAAR,CAAhB;AACA,KAAI8Z,eAAe,mBAAA9Z,CAAQ,yBAAR,CAAnB;AACA,KAAIsX,eAAe,mBAAAtX,CAAQ,yBAAR,CAAnB;;AAEA;;AAEA,oBAAAA,CAAQ,2BAAR;;AAEA;;AAEA,KAAIoX,iBAAiBnX,MAAM4B,WAAN,CAAkB;AAAA;;;AAEnCC,gBAAW;AACPyV,uBAActX,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAD9B;AAEPmY,6BAAoB9Z,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAFpC;AAGPoY,6BAAoB/Z,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAHpC;AAIPqY,4BAAmBha,MAAMyB,SAAN,CAAgBuS,IAAhB,CAAqBrS;AAJjC,MAFwB;;AASnCd,aAAQ,kBAAY;AAChB,aAAIoZ,cAAc,KAAKpU,KAAL,CAAWmU,iBAAX,GAA+B,yBAA/B,GAA2D,gBAA7E;;AAEA;AACA,gBACI;AAAA;AAAA,eAAK,WAAU,0BAAf;AACI;AAAA;AAAA,mBAAK,OAAO,EAACpE,SAAS,cAAV,EAAZ;AACI,qCAAC,SAAD,IAAW,oBAAoBiE,aAAaK,kBAAb,CAAgC,KAAKrU,KAAL,CAAWiU,kBAA3C,CAA/B;AACW,0CAAqBD,aAAaK,kBAAb,CAAgC,KAAKrU,KAAL,CAAWkU,kBAA3C,CADhC;AAEW,qCAAe,SAF1B;AAGW,sCAAgB,SAH3B;AADJ,cADJ;AAOI,0CAAK,KAAI,YAAT,EAAsB,iBAAeE,WAArC,EAAkD,WAAU,eAA5D;AAPJ,UADJ;AAWH,MAxBkC;;AA0BnC1X,wBAAmB,6BAAY;AAC3B8U,sBAAa,KAAKxR,KAAL,CAAWyR,YAAxB,EAAsC,YAAtC,EAAoDrX,SAASoW,WAAT,CAAqB,KAAKC,IAAL,CAAUkB,UAA/B,CAApD;AACH;AA5BkC,EAAlB,CAArB;;AA+BA;;AAEA3X,QAAOC,OAAP,GAAiBqX,cAAjB,C;;;;;;;;;;ACpDA;;AAEA;;AAEAtX,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,kCAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ,C,CAAgC;;AAEhC;;AAEA,UAASoa,wBAAT,CAAkCC,eAAlC,EAAmD;AAC/C,SAAIC,wBAAwB,CAACD,eAA7B;AACA,YAAQC,yBAAyB,MAAzB,IAAmCA,wBAAwB,GAA5D,GAAmEC,yBAAyBD,sBAAsBE,aAAtB,CAAoC,CAApC,EAAuCpO,OAAvC,CAA+C,GAA/C,EAAmD,EAAnD,CAAzB,CAAnE,GAAsJ,KAAKkO,qBAAlK;AACH;;AAED;AACA,UAASC,wBAAT,CAAkCE,wBAAlC,EAA4D;;AAExD,SAAIC,cAAcD,yBAAyB7P,KAAzB,CAA+B,MAA/B,CAAlB;;AAEA,SAAI8P,YAAYrX,MAAZ,IAAsB,CAA1B,EAA6B;AACzB,gBACI;AAAA;AAAA;AAAOoX;AAAP,UADJ;AAGH;;AAED,SAAIE,WAAWD,YAAY,CAAZ,CAAf;AACA,SAAIE,WAAWF,YAAY,CAAZ,CAAf;;AAEA,YACI;AAAA;AAAA;AACMC,sBAAa,GAAd,GAAqBA,WAAW,KAAhC,GAA6C,EADlD;AAAA;AACuD;AAAA;AAAA,eAAM,OAAO,EAAC,iBAAiB,OAAlB,EAAb;AAA0CC;AAA1C;AADvD,MADJ;AAKH;;AAED;;AAEA7a,SAAQoa,kBAAR,GAA6BC,wBAA7B;AACAra,SAAQ8a,kBAAR,GAA6BN,wBAA7B,C;;;;;;;;;;ACnCA;;AAEA;;AAEAza,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,sCAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIE,WAAW,mBAAAF,CAAQ,qBAAR,CAAf;AACA,KAAI8a,iBAAiB,mBAAA9a,CAAQ,4BAAR,CAArB;AACA,KAAIkB,IAAI,mBAAAlB,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,KAAI8Z,eAAe,mBAAA9Z,CAAQ,yBAAR,CAAnB;;AAEA;;AAEA,oBAAAA,CAAQ,iCAAR;AACA,oBAAAA,CAAQ,4CAAR;;AAEA;;AAEA,KAAIyT,mBAAmBxT,MAAM4B,WAAN,CAAkB;AAAA;;;AAErCC,gBAAW;AACP+U,mBAAU5W,MAAMyB,SAAN,CAAgBqZ,MADnB;AAEPhG,iBAAQ9U,MAAMyB,SAAN,CAAgBC,MAFjB;AAGPmT,qBAAY7U,MAAMyB,SAAN,CAAgBqZ,MAHrB;AAIPC,iBAAQ/a,MAAMyB,SAAN,CAAgBC,MAJjB;AAKPsZ,gBAAOhb,MAAMyB,SAAN,CAAgBC,MALhB;AAMPqT,wBAAe/U,MAAMyB,SAAN,CAAgBuS,IAAhB,CAAqBrS;AAN7B,MAF0B;;AAWrCsZ,gBAAW,qBAAY;AACnB,gBAAQ,KAAKpV,KAAL,CAAWgP,UAAX,KAA0B1B,SAAlC;AACH,MAboC;;AAerC+H,gBAAW,qBAAW;AAClB,aAAIjE,QAAQ,EAAZ;AACA,aAAI,KAAKpR,KAAL,CAAW+Q,QAAf,EAAyB;AACrBK,mBAAML,QAAN,GAAiB,KAAK/Q,KAAL,CAAW+Q,QAAX,GAAsB,IAAvC;AACH;;AAED,gBAAOK,KAAP;AACH,MAtBoC;;AAwBrCpW,aAAQ,kBAAY;AAChB,aAAI,CAAC,KAAKoa,SAAL,EAAL,EAAuB;AACnB,oBAAQ,+BAAR;AACH;;AAED,gBACI;AAAA;AAAA,eAAI,OAAO,EAACE,iBAAiB,KAAKtV,KAAL,CAAWiP,MAA7B,EAAqCe,eAAe,QAApD,EAAX;AACI;AAAA;AAAA,mBAAK,OAAO,KAAKqF,SAAL,EAAZ,EAA8B,WAAW,KAAKrV,KAAL,CAAWkP,aAAX,GAA2B,aAA3B,GAA2C,aAApF;AACK,sBAAKlP,KAAL,CAAWgP;AADhB;AADJ,UADJ;AAOH,MApCoC;;AAsCrCtS,wBAAmB,6BAAY;AAC3B,aAAI,KAAK0Y,SAAL,EAAJ,EAAsB;AAClB,kBAAKG,YAAL,CAAkBnb,SAASoW,WAAT,CAAqB,IAArB,CAAlB;AACH;AACJ,MA1CoC;;AA4CrC+E,mBAAc,sBAASrY,OAAT,EAAkB;;AAE5B;AACA,kBAASsY,uBAAT,CAAkCN,MAAlC,EAA0CO,UAA1C,EAAsDzG,UAAtD,EAAkE;;AAE9D,oBAAO,YACI,SADJ,IAESkG,WAAW5H,SAAX,GACG,oCADH,GAC0C,EAHnD,KAISmI,eAAenI,SAAf,GACG,+BADH,GACqC,EAL9C,IAMQ,4DANR,GAOI,UAPJ,GAQI,SARJ,GASQ,MATR,IAUa4H,WAAW5H,SAAX,GACG,SAAS0H,eAAeU,oBAAf,CAAoC1B,aAAae,kBAAb,CAAgCG,MAAhC,CAApC,CAAT,GAAwF,OAD3F,GACqG,EAXlH,KAYaO,eAAenI,SAAf,GACG,SAASmI,UAAT,GAAsB,OADzB,GACmC,EAbhD,IAcY,MAdZ,GAcqBzG,UAdrB,GAckC,OAdlC,GAeQ,OAfR,GAgBI,UAhBJ,GAiBA,UAjBP;AAmBH;;AAED;AACA,aAAI2G,YAAY,KAAK3V,KAArB;;AAEA5E,WAAE8B,OAAF,EAAWuW,IAAX,CAAgB,OAAhB,EAAyB,EAAzB,EAA6BN,OAA7B,CAAqC;AACjCyC,mBAAM,cAAUC,KAAV,EAAiBC,EAAjB,EAAqB;AACvBA,oBAAG3C,OAAH,CAAW4C,GAAX,CAAe,YAAf,EAA6BJ,UAAU1G,MAAvC;AACH,cAHgC;;AAKjCmE,2BAAc,4BALmB;;AAOjCC,sBAAQ,mBAAY;AAChB,wBAAOmC,wBAAwBG,UAAUT,MAAlC,EAA0CS,UAAUR,KAApD,EAA2DQ,UAAU3G,UAArE,CAAP;AACH;AATgC,UAArC;AAWH;AApFoC,EAAlB,CAAvB;;AAuFA;;AAEAhV,QAAOC,OAAP,GAAiB0T,gBAAjB,C;;;;;;;;;;AC9GA;;AAEA3T,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,oCAAR,CAAjB,C;;;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,yCAAwC,8BAA8B,0BAA0B,yBAAyB,kBAAkB,mBAAmB,GAAG,kBAAkB,oBAAoB,yBAAyB,GAAG;;AAEnO;;;;;;;;;;;ACPA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,wDAAuD,gCAAgC,2BAA2B,mBAAmB,uDAAuD,GAAG,uCAAuC,gBAAgB,iEAAiE,kCAAkC,gCAAgC,GAAG,oCAAoC,yCAAyC,oCAAoC,GAAG,oEAAoE,yBAAyB,0BAA0B,6BAA6B,mBAAmB,kBAAkB,GAAG;;AAE5qB;;;;;;;;;;;;;;;ACPA,KAAMkB,IAAI,mBAAAlB,CAAQ,kBAAR,CAAV;AACA,oBAAAA,CAAQ,4BAAR;;AAEA,KAAMC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;AACA,KAAME,WAAW,mBAAAF,CAAQ,qBAAR,CAAjB;;AAEA;;AAEA,oBAAAA,CAAQ,4CAAR;;AAEA;;;AAGA,KAAMyB,iBAAiBxB,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAA9C;AACA,KAAMmS,iBAAiB9T,MAAMyB,SAAN,CAAgBC,MAAvC;AACA,KAAMma,iBAAiB7b,MAAMyB,SAAN,CAAgBqZ,MAAhB,CAAuBnZ,UAA9C;AACA,KAAMma,iBAAiB9b,MAAMyB,SAAN,CAAgBqZ,MAAvC;;AAEA,KAAMiB,6BAA6B/b,MAAM4B,WAAN,CAAkB;AAAA;;;AAEjDC,gBAAW;AACPzB,kBAASoB,cADF;AAEPQ,kBAAShC,MAAMyB,SAAN,CAAgByS,OAAhB,CAAwBlU,MAAMyB,SAAN,CAAgB0S,KAAhB,CAAsB;AACnDxT,sBAASa,cAD0C;AAEnDsF,sBAAStF,cAF0C;AAGnD4S,6BAAgB5S,cAHmC;AAInD6S,4BAAe7S,cAJoC,EAIjB;AAClC8S,yBAAY9S,cALuC;AAMnD+S,sBAASvU,MAAMyB,SAAN,CAAgByS,OAAhB,CAAwBJ,cAAxB,EAAwCnS,UANE;AAOnD6S,kCAAqBhT,cAP8B;AAQnDiT,kCAAqBjT,cAR8B;AASnDkT,6BAAgBlT,cATmC;AAUnDmT,yBAAYnT,cAVuC;AAWnDoT,yBAAYpT,cAXuC;AAYnDqT,yBAAYrT,cAZuC,EAYpB;AAC/BuZ,qBAAQc,cAb2C;AAcnDG,0BAAaF,cAdsC;AAenDhH,qBAAQtT,cAf2C;AAgBnD+D,iBAAI/D;AAhB+C,UAAtB,CAAxB,EAiBLG;AAnBG,MAFsC;;AAwBjDsa,sBAxBiD,6BAwB9Bja,OAxB8B,EAwBrB;AACxB,aAAIka,eAAe,QAAOla,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,GAA8B0B,KAAKC,KAAL,CAAW3B,OAAX,CAA9B,GAAoDA,OAAvE;;AAEA,aAAIma,UAAU,CAAC,MAAD,EAAS,UAAT,EAAqB,sBAArB,EAA6C,YAA7C,EAA2D,gBAA3D,EAA6E,QAA7E,CAAd;AACA,aAAID,aAAa3X,IAAb,CAAkB;AAAA,oBAAe6X,YAAYJ,WAAZ,IAA2B,IAA1C;AAAA,UAAlB,CAAJ,EAAuE;AACnEG,qBAAQnZ,IAAR,CAAa,aAAb;AACH;;AAED,aAAIqZ,MAAMF,QAAQ7Q,IAAR,CAAa,IAAb,IAAqB,IAA/B;AACA+Q,gBAAOH,aAAalX,GAAb,CAAiB;AAAA,oBACpB,CACIoX,YAAY5H,mBADhB,EAEI4H,YAAYzb,OAFhB,EAGIyb,YAAY3H,mBAHhB,EAII2H,YAAYxH,UAJhB,EAKIwH,YAAYvH,UALhB,EAMIuH,YAAYrB,MANhB,EAOIqB,YAAYJ,WAPhB,EASK/X,MATL,CASY;AAAA,wBAAMqY,OAAO,IAAb;AAAA,cATZ,EASkC;AATlC,cAUKhR,IAVL,CAUU,IAVV,IAUkB,IAXE;AAAA,UAAjB,CAAP;;AAaA,gBAAO+Q,GAAP;AACH,MA/CgD;AAiDjDE,kCAjDiD,2CAiDhB;AAC7Btb,WAAEhB,SAASoW,WAAT,CAAqB,KAAKC,IAAL,CAAUkG,oBAA/B,CAAF,EAAwD3D,KAAxD;AACH,MAnDgD;AAqDjDhY,WArDiD,oBAqDvC;AACN,aAAI4b,oBAAoB,KAAK5W,KAAL,CAAWzF,OAAX,GAAqB,+CAA7C;;AAEA,aAAIsc,YAAY,KAAKT,iBAAL,CAAuB,KAAKpW,KAAL,CAAW7D,OAAlC,CAAhB;AACA,aAAI2a,MAAM,iCAAiCC,UAAUF,SAAV,CAA3C;AACA,aAAIG,WAAW,yBAAf;;AAEA,gBACI;AAAA;AAAA,eAAK,OAAO,EAACjH,SAAS,cAAV,EAA0BC,eAAe,KAAzC,EAAgDC,aAAa,MAA7D,EAAZ;AACI;AAAA;AAAA,mBAAG,KAAI,sBAAP,EAA8B,WAAU,iBAAxC;AACG,2BAAM6G,GADT,EACc,UAAUE,QADxB,EACkC,QAAO,QADzC;AAEG,8BAAS,KAAKN,6BAFjB;AAGI,8CAAK,IAAG,mBAAR,EAA4B,KAAI,wBAAhC,EAAyD,OAAO,EAACxG,OAAO,MAAR,EAAhE;AACK,0BAAK0G,iBADV;AAHJ;AADJ,UADJ;AAUH,MAtEgD;AAwEjDla,sBAxEiD,+BAwE5B;AACjB,aAAIua,wBAAwB7b,EAAEhB,SAASoW,WAAT,CAAqB,KAAKC,IAAL,CAAUkG,oBAA/B,CAAF,CAA5B;AACAM,+BAAsB9D,OAAtB;AACA8D,+BAAsB/F,MAAtB;AACH;AA5EgD,EAAlB,CAAnC;;AAgFA;;AAEAlX,QAAOC,OAAP,GAAiBic,0BAAjB,C;;;;;;;;;;ACpGA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,6CAA4C,wCAAwC,kCAAkC,sCAAsC,mBAAmB,GAAG;;AAElL;;;;;;;;;;;ACPA;;AAEA;;AAEAlc,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,0CAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAI8a,iBAAiB,mBAAA9a,CAAQ,4BAAR,CAArB;;AAEA,KAAIkB,IAAI,mBAAAlB,CAAQ,kBAAR,CAAR;AACA,oBAAAA,CAAQ,4BAAR;;AAEA;;AAEA,KAAIgd,kBAAkB,mBAAAhd,CAAQ,iCAAR,CAAtB;;AAEA;;AAEA,oBAAAA,CAAQ,oCAAR;;AAEA;;AAEA,UAASid,WAAT,CAAqBC,WAArB,EAAkCC,SAAlC,EAA6Cna,OAA7C,EAAsD0R,mBAAtD,EAA2EE,UAA3E,EAAuF;;AAEnF1T,OAAE8B,OAAF,EAAWuW,IAAX,CAAgB,OAAhB,EAAyB,EAAzB,EAA6BN,OAA7B,CAAqC;;AAEjCmE,eAAM,KAF2B;;AAIjCC,eAAM,KAJ2B;;AAMjCnE,uBAAc,oBANmB;;AAQjCoE,gBAAO,iBAAW;AACdpc,eAAE,qBAAF,EAAyBqc,MAAzB;AACH,UAVgC;;AAYjCpE,kBAAS,iBAAUC,QAAV,EAAoB;AACzBlY,eAAEwF,IAAF,CAAO;AACHC,sBAAIuW,cAAc,wBADf;AAEHM,uBAAK;AACD9I,0CAAqBA,mBADpB;AAEDE,iCAAYA,UAFX;AAGDuI,gCAAWA;AAHV,kBAFF;AAOH7N,uBAAK,KAPF;AAQHxI,0BAAQ,iBAAU0W,IAAV,EAAgB;AACpB,yBAAIC,OACA3C,eAAe4C,cAAf,CACIzd,MAAMc,aAAN,CACIic,eADJ,EAEI;AACIW,gDAAuBH,KAAKG,qBADhC;AAEIC,8CAAqBJ,KAAKI,mBAF9B;AAGIC,yCAAgBL,KAAKK,cAHzB;AAIIC,8CAAqBN,KAAKM,mBAJ9B;AAKIC,qCAAYP,KAAKO;AALrB,sBAFJ,CADJ,CADJ;AAaA3E,8BAASqE,IAAT;AACH;AAvBE,cAAP,EAwBGO,IAxBH,CAwBQ,UAAUR,IAAV,EAAgB;AACpBhX,yBAAQC,GAAR,CAAY,aAAa+W,IAAzB;AACApE,0BAAS,YAAYoE,IAArB;AACH,cA3BD;AA4BH;;AAzCgC,MAArC;AA6CH;;AAED;;AAEA1d,QAAOC,OAAP,GAAiB,UAAUmd,WAAV,EAAuBC,SAAvB,EAAkCna,OAAlC,EAA2C0R,mBAA3C,EAAgEE,UAAhE,EAA4E;AACzFqI,iBAAYC,WAAZ,EAAyBC,SAAzB,EAAoCna,OAApC,EAA6C0R,mBAA7C,EAAkEE,UAAlE;AACH,EAFD,C;;;;;;;;;;ACvEA;;AAEA;;AAEA,KAAI3U,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;;AAEA;;AAEA,KAAIgd,kBAAkB/c,MAAM4B,WAAN,CAAkB;AAAA;;AACpCC,gBAAW;AACP6b,gCAAuB1d,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UADvC;AAEPgc,8BAAqB3d,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAFrC;AAGPic,yBAAgB5d,MAAMyB,SAAN,CAAgBqZ,MAAhB,CAAuBnZ,UAHhC;AAIPkc,8BAAqB7d,MAAMyB,SAAN,CAAgBqZ,MAAhB,CAAuBnZ,UAJrC;AAKPmc,qBAAY9d,MAAMyB,SAAN,CAAgByS,OAAhB,CACRlU,MAAMyB,SAAN,CAAgB0S,KAAhB,CAAsB;AAClB6J,mCAAsBhe,MAAMyB,SAAN,CAAgBC,MADpB;AAElBuc,2BAAcje,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAFnB;AAGlBuc,6BAAgBle,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAHrB;AAIlBwc,wBAAWne,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC;AAJhB,UAAtB,CADQ;AALL,MADyB;;AAiBpCyc,kBAAa,qBAAUC,QAAV,EAAoB;AAC7B,aAAI,CAACA,SAASF,SAAV,IAAuB,CAACE,SAASH,cAArC,EAAqD;AACjD,oBAAO,IAAP;AACH;;AAED,kBAASI,QAAT,CAAkBD,QAAlB,EAA4B;AACxB,oBAAOA,SAASL,oBAAT,KAAkC,QAAzC;AACH;;AAED,aAAI/G,QAAQ,EAACsH,YAAY,QAAb,EAAZ;;AAEA,aAAID,SAASD,QAAT,CAAJ,EAAwB;AACpBpH,mBAAMuH,UAAN,GAAmB,MAAnB;AACH,UAFD,MAEO;AACHvH,mBAAMwH,KAAN,GAAc,MAAd;AACH;;AAED,gBACI;AAAA;AAAA,eAAI,KAAKJ,SAASL,oBAAT,GAAgC,GAAhC,GAAsCK,SAASJ,YAAxD;AACI;AAAA;AAAA,mBAAI,OAAOhH,KAAX;AAAmBoH,0BAASJ;AAA5B,cADJ;AAEI;AAAA;AAAA,mBAAI,OAAOhH,KAAX;AAAmBoH,0BAASF;AAA5B,cAFJ;AAGI;AAAA;AAAA,mBAAI,OAAOlH,KAAX;AAAmBoH,0BAASH;AAA5B;AAHJ,UADJ;AAOH,MAzCmC;;AA2CpCrd,aAAQ,kBAAY;AAChB,gBACI;AAAA;AAAA;AACI;AAAA;AAAA,mBAAK,IAAG,+BAAR,EAAwC,OAAO,EAAC2d,YAAY,MAAb,EAAqBC,OAAO,MAA5B,EAAoCC,WAAW,QAA/C,EAA/C;AAA0G,sBAAK7Y,KAAL,CAAW6X;AAArH,cADJ;AAEI;AAAA;AAAA,mBAAK,IAAG,qBAAR,EAA8B,OAAO,EAACgB,WAAW,QAAZ,EAArC;AAA6D,sBAAK7Y,KAAL,CAAW8X;AAAxE,cAFJ;AAGI;AAAA;AAAA,mBAAO,OAAO,EAACgB,SAAS,KAAV,EAAiBC,QAAQ,KAAzB,EAAgC7I,OAAO,MAAvC,EAAd;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI;AAAA;AAAA;AAAA;AAAA,0BADJ;AAEI;AAAA;AAAA;AAAA;AAAmB,kCAAKlQ,KAAL,CAAW+X,cAA9B;AAAA;AAAA,0BAFJ;AAGI;AAAA;AAAA;AAAA;AAAwB,kCAAK/X,KAAL,CAAWgY,mBAAnC;AAAA;AAAA;AAHJ;AADJ,kBADJ;AAQI;AAAA;AAAA;AACK,0BAAKhY,KAAL,CAAWiY,UAAX,CAAsB9Y,GAAtB,CAA0B,KAAKoZ,WAA/B;AADL;AARJ;AAHJ,UADJ;AAkBH;;AA9DmC,EAAlB,CAAtB;;AAkEA;;AAEAve,QAAOC,OAAP,GAAiBid,eAAjB,C;;;;;;;;;;AC5EA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,gDAA+C,gCAAgC,2BAA2B,mBAAmB,uDAAuD,uBAAuB,GAAG,+BAA+B,gBAAgB,iEAAiE,kCAAkC,gCAAgC,GAAG,4BAA4B,yCAAyC,oCAAoC,GAAG,4BAA4B,kCAAkC,GAAG,oDAAoD,6BAA6B,mBAAmB,GAAG;;AAEvpB;;;;;;;;;;;ACPA;;AAEA;;AAEAld,QAAOC,OAAP,GAAiB,mBAAAC,CAAQ,8BAAR,CAAjB,C;;;;;;;;;;ACJA;;AAEA;;AACA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAI8e,oBAAoB,mBAAA9e,CAAQ,8BAAR,CAAxB;AACA,KAAI+e,aAAa,mBAAA/e,CAAQ,6BAAR,CAAjB;AACA,KAAIgf,0BAA0B,mBAAAhf,CAAQ,6CAAR,CAA9B;;AAEA,KAAIif,kBAAkB,mBAAAjf,CAAQ,sCAAR,CAAtB;AACA,KAAIkf,qBAAqB,mBAAAlf,CAAQ,yCAAR,CAAzB;AACA,KAAImf,uBAAuB,mBAAAnf,CAAQ,2CAAR,CAA3B;;AAEA,KAAIof,mBAAmB,mBAAApf,CAAQ,0CAAR,CAAvB;AACA,KAAIqf,QAAQ,mBAAArf,CAAQ,0BAAR,CAAZ;;AAEA,oBAAAA,CAAQ,6BAAR;;AAEA;;AAEA,KAAIsf,sBAAsB,SAASC,uBAAT,CAAiCC,mBAAjC,EAAqD;AAC7E,UACEvf,MAAM4B,WAAN,CAAkB;AAChB4d,kBAAa,6BADG;AAEhBC,aAAQ,CAACZ,iBAAD,CAFQ;;AAIhBhd,gBAAW;AACT6d,2BAAoB1f,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV;AADhC,MAJK;;AAQhBG,sBAAiB,2BAAW;AAC1B,cAAO;AACL6d,kBAAU,IAAIC,IAAJ,GAAWC,WAAX,EADL;AAELC,qBAAa,CAFR;AAGL1C,eAAO;AAHF,QAAP;AAKD,MAde;;AAgBhB2C,kBAAa,uBAAY;AACvB,WAAIC,WAAWhR,KAAKiR,GAAL,CAAS,IAAIL,IAAJ,GAAWM,OAAX,KAAuB,IAAIN,IAAJ,CAAS,KAAK/b,KAAL,CAAW8b,OAApB,EAA6BO,OAA7B,EAAhC,CAAf;AACA,WAAIC,WAAWnR,KAAKoR,IAAL,CAAUJ,YAAY,OAAO,IAAP,GAAc,EAA1B,CAAV,CAAf;;AAEA,cAAO,KAAKnc,KAAL,CAAWuZ,IAAX,IAAmB+C,WAAU,CAA7B,IAAkC,KAAKtc,KAAL,CAAWic,UAAX,GAAwB,EAAjE;AACD,MArBe;;AAuBhBO,YAAO,iBAAY;AACjB,YAAK3d,QAAL,CAAc,EAAC0a,MAAM,KAAP,EAAd;AACD,MAzBe;;AA2BhBkD,gBAAY,mBAAUC,YAAV,EAAwBC,mBAAxB,EAA6C;AACvD,YAAK9d,QAAL,CAAc,EAAC0a,MAAM,KAAP,EAAd;AACA,YAAKvX,KAAL,CAAW6Z,kBAAX,CAA8Ba,YAA9B,EAA4C,IAAIX,IAAJ,GAAWC,WAAX,MAA0BW,uBAAqB,EAA/C,CAA5C;AACD,MA9Be;;AAiChB3f,aAAQ,kBAAY;AAClB,WAAI4f,KAAK,KAAKV,WAAL,KACG,oBAAC,mBAAD,IAAqB,KAAK,KAA1B,EAAiC,YAAY,KAAKO,SAAlD,EAA6D,eAAe,KAAKD,KAAjF,GADH,GAEG,6BAAK,KAAI,SAAT,GAFZ;AAGA,cACE;AAAC,gCAAD;AAAA,WAAyB,gBAAe,8BAAxC,EAAuE,wBAAwB,GAA/F,EAAoG,wBAAwB,IAA5H;AACGI;AADH,QADF;AAMD,MA3Ce;;AA8ChBle,wBAAmB,6BAAY;AAC7B,WAAG,KAAKwd,WAAL,EAAH,EAAsB;AACpB,cAAKrd,QAAL,CAAc,UAASge,aAAT,EAAwB;AACpC,kBAAO,EAACZ,YAAYY,cAAcZ,UAAd,GAAyB,CAAtC,EAAP;AACD,UAFD;AAGD;AACF;AApDe,IAAlB,CADF;AAwDD,EAzDD;;AA2DA,KAAIa,cAAc3gB,MAAM4B,WAAN,CAAkB;AAAA;;AAChCC,cAAW;AACP+e,iBAAY5gB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV,UAD1B;AAEPkf,oBAAgB7gB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV;AAF9B,IADqB;;AAMhC8d,WAAQ,CAACX,UAAD,CANwB;;AAQhChd,oBAAiB,2BAAY;AAC3B,YAAO;AACLgf,yCAAkC,KAD7B;AAELC,wBAAiB;AAFZ,MAAP;AAID,IAb+B;;AAehC7J,uBAAoB,8BAAY;AAC9B,SAAG,KAAKrT,KAAL,CAAWid,gCAAX,IAA+C,KAAKjd,KAAL,CAAWkd,eAAX,CAA2B3d,MAA3B,KAAoC,CAAtF,EAAwF;AACtF,YAAK4d,UAAL,CAAgB,YAAW;AAAC,aAAG,KAAKnd,KAAL,CAAWkd,eAAX,CAA2B3d,MAA3B,KAAoC,CAAvC,EAA0C;AAAC,gBAAK6d,qBAAL;AAA8B;AAAC,QAAtF,CAAuFC,IAAvF,CAA4F,IAA5F,CAAhB,EAAmH,IAAnH;AACD;AACF,IAnB+B;;AAqBhCC,+BAA4B,oCAASrI,CAAT,EAAY;AACtC,UAAKpW,QAAL,CAAc,EAACqe,iBAAiBjI,EAAElY,MAAF,CAAS8D,KAA3B,EAAd;AACD,IAvB+B;;AAyBhCuc,0BAAuB,iCAAW;AAChC,UAAKG,aAAL,CAAmB,CAAnB,EAAsB,KAAKvd,KAAL,CAAWkd,eAAjC;AACD,IA3B+B;;AA6BhCM,0BAAuB,iCAAY;AACjC,UAAKD,aAAL,CAAmB,EAAnB;AACD,IA/B+B;;AAiChCA,kBAAe,uBAAS1L,KAAT,EAAgB4L,eAAhB,EAAiC;AAC9C,UAAKzb,KAAL,CAAW+a,UAAX,CAAsBW,KAAtB,CAA4B,IAA5B,EAAkCC,SAAlC;AACD,IAnC+B;;AAqChC3gB,WAAQ,kBAAY;AAClB,YAAQ;AAAA;AAAA,SAAK,WAAU,wBAAf;AACR,oCAAK,IAAG,kBAAR,EAA2B,WAAU,sBAArC,EAA4D,aAAU,GAAtE,EAA0E,SAAS,KAAKgF,KAAL,CAAWgb,aAA9F,GADQ;AAEJ;AAAA;AAAA;AAAA;AAAA,QAFI;AAGJ;AAAA;AAAA,WAAK,WAAU,8BAAf;AACC,cAAKhd,KAAL,CAAWid,gCAAX,GAEG;AAAA;AAAA;AACE;AAAC,+BAAD;AAAA;AACE,0BAAU;AADZ;AAGE,iCAAC,oBAAD;AACA,+BAAe,UADf;AAEE,qBAAK,MAFP;AAGE,sBAAO,KAAKjd,KAAL,CAAWkd,eAHpB;AAIE,4BAAY,qBAJd;AAKE,yBAAU,KAAKI;AALjB,eAHF;AAUE,iCAAC,oBAAD,CAAsB,QAAtB,OAVF;AAWE;AAAC,8BAAD;AAAA,iBAAiB,OAAO,EAACM,OAAO,OAAR,EAAxB,EAA0C,SAAS,KAAKR,qBAAxD;AAAA;AAAA;AAXF;AADF,UAFH,GAoBG;AAAA;AAAA;AACE;AAAC,4BAAD;AAAA,eAAiB,SAAQ,SAAzB,EAAmC,SAAS,KAAKI,qBAAjD;AAAA;AAAA,YADF;AAEE;AAAC,4BAAD;AAAA,eAAiB,SAAS,YAAU;AAAC,sBAAK3e,QAAL,CAAc,EAACoe,kCAAiC,IAAlC,EAAd;AAAuD,gBAAlE,CAAmEI,IAAnE,CAAwE,IAAxE,CAA1B,EAAyG,SAAQ,SAAjH;AAAA;AAAA,YAFF;AAGE;AAAA;AAAA,eAAG,SAAS,KAAKrb,KAAL,CAAWgb,aAAvB;AAAA;AAAA;AAHF;AArBJ;AAHI,MAAR;AA+BD;AArE+B,EAAlB,CAAlB;;AAwEE,KAAIa,SAAS1hB,MAAM4B,WAAN,CAAkB;AAAA;;AAC7BC,cAAW;AACT8f,YAAO3hB,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UADrB;AAET+C,YAAO1E,MAAMyB,SAAN,CAAgBqZ,MAAhB,CAAuBnZ,UAFrB;AAGT+U,sBAAiB1W,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV,UAH7B;AAITigB,eAAU5hB,MAAMyB,SAAN,CAAgBuS,IAAhB,CAAqBrS;AAJtB,IADkB;;AAQ7BkgB,aAAU,oBAAW;AACnB,UAAKhc,KAAL,CAAW6Q,eAAX,CAA2B,KAAK7Q,KAAL,CAAWnB,KAAtC;AACD,IAV4B;;AAY7Bod,oBAAiB;AACfC,wBAAmB,IADJ;AAEfC,qBAAgB,KAFD;AAGfC,mBAAc,IAHC;AAIfC,aAAQ;AACJnK,wBAAiB,UACd1X,OAAOC,QAAP,CAAgB4H,IAAhB,CAAqB/E,OAArB,CAA6B,KAA7B,IAAqC,CAAC,CAAtC,GACC,uBADD,GAEC,EAHa,IAGRgc,gBAHQ,GAGS,GAJtB;AAKJpJ,cAAO,MALH;AAMJoM,eAAQ,MANJ;AAOJvD,eAAQ;AAPJ;AAJO,IAZY;;AA2B7B/d,WAAQ,kBAAY;AAClB,YACE;AAAA;AAAA,SAAM,OAAO,EAAC8d,SAAQ,KAAT,EAAb;AACE;AAAA;AAAA,WAAM,WAAW,KAAK9Y,KAAL,CAAW+b,QAAX,GAAqB,4BAArB,GAAmD,WAApE,EAAiF,SAAS,KAAKC,QAA/F;AACCzC,eAAMgD,OAAN,CAAc,KAAKvc,KAAL,CAAW8b,KAAzB,EAA+B,KAAKG,eAApC;AADD;AADF,MADF;AAOD;AAnC4B,EAAlB,CAAb;;AAsCA,KAAIO,kBAAkBriB,MAAM4B,WAAN,CAAkB;AAAA;;AACpCC,cAAW;AACP+e,iBAAY5gB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV,UAD1B;AAEPkf,oBAAgB7gB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV;AAF9B,IADyB;;AAMpC8d,WAAQ,CAACX,UAAD,CAN4B;;AAQpChd,oBAAiB,2BAAW;AAC1B,YAAO;AACL4T,cAAO,CAAC,CADH;AAELqL,wBAAiB;AAFZ,MAAP;AAID,IAbmC;;AAepCuB,yBAAsB,gCAAW;AAC/B,YAAO,KAAKze,KAAL,CAAW6R,KAAX,KAAqB,KAAK5T,eAAL,GAAuB4T,KAAnD;AACD,IAjBmC;;AAmBpCyL,+BAA4B,oCAASrI,CAAT,EAAY;AACtC,UAAKpW,QAAL,CAAc,EAACqe,iBAAiBjI,EAAElY,MAAF,CAAS8D,KAA3B,EAAd;AACD,IArBmC;;AAuBpC6d,mBAAgB,wBAASC,QAAT,EAAmB;AACjC,UAAK9f,QAAL,CAAc,EAACgT,OAAO8M,QAAR,EAAd;AACD,IAzBmC;;AA2BpCC,YAAS,mBAAW;AAClB,UAAK5c,KAAL,CAAW+a,UAAX,CAAsB,KAAK/c,KAAL,CAAW6R,KAAjC,EAAwC,KAAK7R,KAAL,CAAWkd,eAAnD;AACD,IA7BmC;;AA+BpC7J,uBAAoB,8BAAY;AAC9B,SAAG,KAAKoL,oBAAL,MAA+B,KAAKze,KAAL,CAAWkd,eAAX,CAA2B3d,MAA3B,KAAoC,CAAtE,EAAwE;AACtE,YAAK4d,UAAL,CACE,YAAW;AACT,aAAG,KAAKnd,KAAL,CAAWkd,eAAX,CAA2B3d,MAA3B,KAAoC,CAAvC,EAA0C;AACxC,gBAAKqf,OAAL;AACD;AACF,QAJD,CAIEvB,IAJF,CAIO,IAJP,CADF,EAKgB,IALhB;AAMD;AACF,IAxCmC;;AA0CpCrgB,WAAQ,kBAAW;AAAE;AACnB,YACE;AAAA;AAAA,SAAK,WAAU,sBAAf;AACE;AAAA;AAAA;AAAA;AAAA,QADF;AAEE;AAAA;AAAA,WAAK,WAAU,cAAf;AACG,UAAC,CAAC,YAAD,EAAe,CAAf,CAAD,EAAmB,CAAC,gBAAD,EAAmB,CAAnB,CAAnB,EAA0C,CAAC,gBAAD,EAAmB,CAAnB,CAA1C,EAAiE,CAAC,gBAAD,EAAkB,CAAlB,CAAjE,EAAuF,CAAC,UAAD,EAAY,EAAZ,CAAvF,EAAwGmE,GAAxG,CAA4G,UAAS0d,EAAT,EAAY;AACvH,kBACE,oBAAC,MAAD;AACE,kBAAKA,GAAG,CAAH,KAAO,KAAK7e,KAAL,CAAW6R,KAAX,KAAmBgN,GAAG,CAAH,CAA1B,CADP;AAEE,oBAAOA,GAAG,CAAH,CAFT;AAGE,oBAAOA,GAAG,CAAH,CAHT;AAIE,8BAAiB,KAAKH,cAJxB;AAKE,uBAAU,KAAK1e,KAAL,CAAW6R,KAAX,KAAmBgN,GAAG,CAAH;AAL/B,aADF;AASD,UAV4G,CAU3GxB,IAV2G,CAUtG,IAVsG,CAA5G;AADH,QAFF;AAeE;AAAA;AAAA,WAAM,OAAO,EAACtL,SAAS,KAAK0M,oBAAL,KAA8B,OAA9B,GAAuC,MAAjD,EAAb;AACE;AAAC,6BAAD;AAAA;AACE,wBAAU;AADZ;AAGE,+BAAC,oBAAD;AACA,6BAAe,UADf;AAEE,mBAAK,MAFP;AAGE,oBAAO,KAAKze,KAAL,CAAWkd,eAHpB;AAIE,0BAAY,qBAJd;AAKE,uBAAU,KAAKI;AALjB,aAHF;AAUE,+BAAC,oBAAD,CAAsB,QAAtB,OAVF;AAWE;AAAA;AAAA;AACE;AAAC,8BAAD;AAAA,iBAAiB,SAAS,KAAKsB,OAA/B;AAAA;AAAA;AADF;AAXF;AADF;AAfF,MADF;AAqCD;;AAhFmC,EAAlB,CAAtB;;AAsFF5iB,QAAOC,OAAP,GAAiBuf,oBAAoBgD,eAApB,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClRA,iF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,uDAAsD,iBAAiB,iBAAiB,8BAA8B,8BAA8B,iBAAiB,8BAA8B,6BAA6B,uBAAuB,gBAAgB,oBAAoB,iBAAiB,mBAAmB,GAAG,8BAA8B,mBAAmB,GAAG,kCAAkC,eAAe,qBAAqB,sBAAsB,GAAG,kCAAkC,iBAAiB,oBAAoB,mBAAmB,GAAG,sCAAsC,sBAAsB,qBAAqB,mBAAmB,wBAAwB,eAAe,GAAG,uCAAuC,eAAe,GAAG,yCAAyC,eAAe,GAAG,mFAAmF,kBAAkB,sCAAsC,GAAG,gBAAgB,iBAAiB,yBAAyB,mBAAmB,GAAG,sBAAsB,iBAAiB,yBAAyB,mBAAmB,GAAG,uBAAuB,eAAe,GAAG,2BAA2B,uBAAuB,gBAAgB,iBAAiB,iBAAiB,8BAA8B,6BAA6B,mBAAmB,iCAAiC,GAAG,6BAA6B,uBAAuB,qBAAqB,sBAAsB,oBAAoB,GAAG,gCAAgC,iBAAiB,eAAe,GAAG,kCAAkC,iBAAiB,sBAAsB,GAAG,mBAAmB,mBAAmB,gBAAgB,iBAAiB,sBAAsB,oBAAoB,4BAA4B,gBAAgB,2BAA2B,2BAA2B,2BAA2B,uBAAuB,4DAA4D,4DAA4D,2FAA2F,mFAAmF,mFAAmF,GAAG,uBAAuB,0BAA0B,eAAe,0FAA0F,0FAA0F,GAAG,mCAAmC,gBAAgB,eAAe,GAAG,uCAAuC,gBAAgB,GAAG,4CAA4C,gBAAgB,GAAG;;AAElqF;;;;;;;;;;;ACPA;;AAEAviB,SAAQ+T,IAAR,GAAe,mBAAA9T,CAAQ,iCAAR,CAAf;AACAD,SAAQe,MAAR,GAAiB,mBAAAd,CAAQ,6BAAR,CAAjB,C;;;;;;;;;;ACHA;;AAEA;;AAEA,KAAIC,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,oBAAAA,CAAQ,8CAAR;AACA,KAAI4iB,UAAU,mBAAA5iB,CAAQ,wBAAR,CAAd;;AAEA;;AAEA,KAAI8T,OAAO7T,MAAM4B,WAAN,CAAkB;AAAA;;;AAEzBC,cAAW;AACPlB,cAASX,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UADzB;AAEPihB,qBAAgB5iB,MAAMyB,SAAN,CAAgBC,MAFzB;AAGPmhB,qBAAgB7iB,MAAMyB,SAAN,CAAgBqhB,QAAhB,CAChB9iB,MAAMyB,SAAN,CAAgBC,MADA,EAEdC;AALK,IAFc;;AAUzBohB,oBAAiB,2BAAU;AACzB,YAAO;AACNpiB,gBAAS,uBADH,EAC4B;AAClCkiB,uBAAgB;AACdG,kBAAQ,KADM;AAEXC,iBAAQ,OAFG;AAGXC,gBAAO;AAHI;AAFV,MAAP;AAQD,IAnBwB;;AAqBzBC,gBAAa,uBAAU;AACrB,UAAI,IAAIC,KAAR,IAAiBT,OAAjB,EAAyB;AACvB,WAAGA,QAAQzQ,cAAR,CAAuBkR,KAAvB,CAAH,EAAiC;AAC/B,cAAI,IAAIC,UAAR,IAAsBV,QAAQS,KAAR,CAAtB,EAAqC;AACnC,eAAIT,QAAQS,KAAR,EAAelR,cAAf,CAA8BmR,UAA9B,CAAJ,EAA8C;AAC5C,iBAAGV,QAAQS,KAAR,EAAeC,UAAf,EAA2BlgB,OAA3B,CAAmC,KAAK0C,KAAL,CAAWlF,OAAX,CAAmBmJ,WAAnB,EAAnC,IAAqE,CAAC,CAAzE,EAA2E;AACzE,sBAAO,CAACsZ,KAAD,EAAQC,UAAR,CAAP;AACD;AACF;AACF;AACF;AACF;AACD,YAAO,CAAC,EAAD,EAAI,EAAJ,CAAP;AACD,IAlCwB;;AAoCzBxiB,WAAQ,kBAAY;AAClB,SAAIyiB,eAAe,KAAKH,WAAL,EAAnB;AACE,YACI;AACA,kBAAW,wBADX;AAEA,oBAAWG,aAAa,CAAb,CAFX;AAGA,cAAO,EAAC,SAAS,KAAKzd,KAAL,CAAW+c,cAAX,IAA6B,KAAK/c,KAAL,CAAWgd,cAAX,CAA0BS,aAAa,CAAb,CAA1B,CAAvC,EAHP;AAIA,cAAO,KAAKzd,KAAL,CAAWlF,OAJlB,GADJ;AAOH;;AA7CwB,EAAlB,CAAX;;AAiDA;;AAEAd,QAAOC,OAAP,GAAiB+T,IAAjB,C;;;;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA;AACA,4FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,uIAAsI,iCAAiC,+FAA+F,+cAA+c,0BAA0B,2BAA2B,oCAAoC,iCAAiC,sBAAsB,qBAAqB,+BAA+B,4BAA4B,6BAA6B,4BAA4B,2BAA2B;;AAEzgC;;;;;;;;;;;;;ACPAhU,QAAOC,OAAP,GAAiB;AAChB,aAAW;AACV,QAAK,YADK;AAEV,QAAK,CAAC,aAAD,EAAgB,wBAAhB,CAFK;AAGV,QAAK,gBAHK;AAIV,QAAK,cAJK;AAKV,QAAK,eALK;AAMV,QAAK,iBANK;AAOV,QAAK,gBAPK;AAQV,QAAK,uBARK;AASV,QAAK,cATK;AAUV,QAAK,CAAC,cAAD,EAAiB,iBAAjB,CAVK;AAWV,QAAK,mBAXK;AAYV,QAAK,uBAZK;AAaV,QAAK,YAbK;AAcV,QAAK;AAdK,GADK;AAiBhB,YAAU;AACT,QAAK,sBADI;AAET,QAAK,CAAC,iBAAD,EAAoB,gCAApB,CAFI;AAGT,QAAK,CAAC,cAAD,EAAiB,6BAAjB,CAHI;AAIT,QAAK,UAJI;AAKT,QAAI,CAAC,yBAAD,EAA2B,aAA3B,EAAyC,sBAAzC,EAAgE,iBAAhE,EAAkF,gBAAlF;AALK,GAjBM;AAwBhB,WAAS;AACR,QAAK,qBADG;AAER,QAAK,aAFG;AAGR,QAAK,yBAHG;AAIR,QAAK,CAAC,wBAAD,EAA0B,qBAA1B,CAJG;AAKR,QAAK,wBALG;AAMR,QAAK,CAAC,+BAAD,EAAkC,oBAAlC;AANG;AAxBO,EAAjB,C;;;;;;;;;;ACAA;;AAEA;;AAEA,KAAIE,QAAQ,mBAAAD,CAAQ,iBAAR,CAAZ;AACA,KAAIE,WAAW,mBAAAF,CAAQ,qBAAR,CAAf;;AAEA;;AAEA,KAAI8T,OAAO,mBAAA9T,CAAQ,6BAAR,CAAX;;AAEA;;AAEAF,QAAOC,OAAP,GAAiB,UAASyjB,SAAT,EAAmB5iB,OAAnB,EAA2BiiB,cAA3B,EAA2CY,gBAA3C,EAA6D;AAC1EvjB,cAASY,MAAT,CACIb,MAAMc,aAAN,CAAoB+S,IAApB,EAAyB;AACvBlT,kBAASA,OADc;AAEvBiiB,yBAAgBA,cAFO;AAGvBY,2BAAkBA;AAHK,MAAzB,CADJ,EAKQD,SALR;AAOH,EARD,C;;;;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,mEAAkE,gCAAgC,GAAG,2CAA2C,uBAAuB,GAAG,qGAAqG,wBAAwB,GAAG,kDAAkD,qBAAqB,2BAA2B,+BAA+B,6BAA6B,GAAG,qDAAqD,mBAAmB,8BAA8B,0BAA0B,mCAAmC,yFAAyF,sBAAsB,uBAAuB,GAAG,gCAAgC,yBAAyB,GAAG;;AAEnzB;;;;;;;;;;;;;ACPA,KAAMvjB,QAAQ,mBAAAD,CAAQ,iBAAR,CAAd;;AAEA;;AAEA,oBAAAA,CAAQ,wCAAR;;AAEA;;AAEA,KAAMyB,iBAAiBxB,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAA9C;AACA,KAAMoS,eAAe/T,MAAMyB,SAAN,CAAgBuS,IAAhB,CAAqBrS,UAA1C;;AAEA,KAAM8hB,yBAAyBzjB,MAAM4B,WAAN,CAAkB;AAAA;;AAC7CC,gBAAW;AACP;;;;;;;;;;;;;;;;;;;;;;AAsBA6hB,iBAAQ1jB,MAAMyB,SAAN,CAAgByS,OAAhB,CACJlU,MAAMyB,SAAN,CAAgB0S,KAAhB,CAAsB;AAClB7Q,wBAAW9B,cADO;AAElB0D,yBAAYlF,MAAMyB,SAAN,CAAgByS,OAAhB,CACRlU,MAAMyB,SAAN,CAAgB0S,KAAhB,CAAsB;AAClB/O,uBAAM5D,cADY;AAElBkD,wBAAOlD,cAFW;AAGlBgC,0BAASuQ,YAHS;AAIlBnO,2BAAUmO;AAJQ,cAAtB,EAKGpS,UANK,EAOVA;AATgB,UAAtB,EAUGA,UAXC,EAYNA,UAnCK;AAoCPgiB,qBAAY3jB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV;AApC1B,MADkC;;AAwC7C0B,gBAxC6C,uBAwChCC,SAxCgC,EAwCrBC,aAxCqB,EAwCNC,OAxCM,EAwCG;AAC5C,cAAKqC,KAAL,CAAW8d,UAAX,CAAsBrgB,SAAtB,EAAiCC,aAAjC,EAAgDC,OAAhD;AACH,MA1C4C;AA4C7C3C,WA5C6C,oBA4CnC;AAAA;;AACN,aAAI6iB,SAAS,KAAK7d,KAAL,CAAW6d,MAAX,CAAkB1e,GAAlB,CAAsB;AAAA,oBAC/B,oBAAC,KAAD;AACI,sBAAKC,MAAM3B,SADf;AAEI,4BAAW2B,MAAM3B,SAFrB;AAGI,6BAAY2B,MAAMC,UAHtB;AAII,6BAAY,MAAK7B;AAJrB,eAD+B;AAAA,UAAtB,CAAb;;AASA,gBACI;AAAA;AAAA,eAAK,WAAU,8BAAf;AAA8C;AAAA;AAAA;AAAA;AAAA,cAA9C;AACKqgB;AADL,UADJ;AAKH;AA3D4C,EAAlB,CAA/B;;AA8DA,KAAME,QAAQ5jB,MAAM4B,WAAN,CAAkB;AAAA;;AAC5BC,gBAAW;AACPyB,oBAAWtD,MAAMyB,SAAN,CAAgBC,MAAhB,CAAuBC,UAD3B;AAEPuD,qBAAYlF,MAAMyB,SAAN,CAAgByS,OAAhB,CACRlU,MAAMyB,SAAN,CAAgB0S,KAAhB,CAAsB;AAClB/O,mBAAM5D,cADY;AAElBkD,oBAAOlD,cAFW;AAGlBgC,sBAASuQ,YAHS;AAIlBnO,uBAAUmO;AAJQ,UAAtB,EAKGpS,UANK,EAOVA,UATK;AAUPgiB,qBAAY3jB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV;AAV1B,MADiB;;AAc5B0B,gBAd4B,uBAcfE,aAde,EAcAC,OAdA,EAcS;AACjC,cAAKqC,KAAL,CAAW8d,UAAX,CAAsB,KAAK9d,KAAL,CAAWvC,SAAjC,EAA4CC,aAA5C,EAA2DC,OAA3D;AACH,MAhB2B;AAkB5BqgB,uBAlB4B,8BAkBRvgB,SAlBQ,EAkBG;AAC3B,iBAAQA,SAAR;AACI,kBAAK,SAAL;AACI,wBAAO,SAAP;AACJ,kBAAK,SAAL;AACI,wBAAO,SAAP;AACJ,kBAAK,gBAAL;AACI,wBAAO,iBAAP;AACJ,kBAAK,SAAL;AACI,wBAAO,wBAAP;AACJ,kBAAK,eAAL;AACI,wBAAO,sBAAP;AACJ,kBAAK,YAAL;AACI,wBAAO,YAAP;AACJ;AACI,wBAAOA,SAAP;AAdR;AAgBH,MAnC2B;AAqC5BzC,WArC4B,oBAqClB;AAAA;;AACN,aAAIqE,aAAa,KAAKW,KAAL,CAAWX,UAAX,CAAsBF,GAAtB,CAA0B;AAAA,oBACvC,oBAAC,SAAD;AACI,sBAAOP,UAAUW,IADrB;AAEI,uBAAQX,UAAUW,IAFtB;AAGI,wBAASX,UAAUC,KAHvB;AAII,0BAAWD,UAAUjB,OAJzB;AAKI,2BAAYiB,UAAUmB,QAL1B;AAMI,6BAAc,OAAKvC;AANvB,eADuC;AAAA,UAA1B,CAAjB;;AAWA,aAAIygB,YAAY,KAAKje,KAAL,CAAWvC,SAAX,KAAyB,SAAzB,GAAqC,iBAArC,GAAyD,EAAzE;;AAEA,gBACI;AAAA;AAAA,eAAK,WAAU,cAAf;AACI;AAAA;AAAA;AAAK,sBAAKugB,kBAAL,CAAwB,KAAKhe,KAAL,CAAWvC,SAAnC;AAAL,cADJ;AAEI;AAAA;AAAA,mBAAI,WAAWwgB,SAAf;AACK5e;AADL;AAFJ,UADJ;AAQH;AA3D2B,EAAlB,CAAd;;AA8DA,KAAM6e,YAAY/jB,MAAM4B,WAAN,CAAkB;AAAA;;AAChCC,gBAAW;AACPuD,eAAM5D,cADC;AAEPkD,gBAAOlD,cAFA;AAGPgC,kBAASuQ,YAHF;AAIPnO,mBAAUmO,YAJH;AAKP4P,qBAAY3jB,MAAMyB,SAAN,CAAgBkV,IAAhB,CAAqBhV;AAL1B,MADqB;;AAShC0B,gBATgC,yBASjB;AACX,cAAKwC,KAAL,CAAW8d,UAAX,CAAsB,KAAK9d,KAAL,CAAWT,IAAjC,EAAuC,CAAC,KAAKS,KAAL,CAAWrC,OAAnD;AACH,MAX+B;AAahC3C,WAbgC,oBAatB;AACN,aAAIijB,YAAY,KAAKje,KAAL,CAAWD,QAAX,GAAsB,kBAAtB,GAA2C,EAA3D;AACA,gBACI;AAAA;AAAA,eAAI,WAAWke,SAAf;AACI,4CAAO,MAAK,UAAZ,EAAuB,SAAS,KAAKje,KAAL,CAAWrC,OAA3C,EAAoD,UAAU,KAAKH,WAAnE,EAAgF,UAAU,KAAKwC,KAAL,CAAWD,QAArG,GADJ;AAEK,kBAAKC,KAAL,CAAWnB;AAFhB,UADJ;AAMH;AArB+B,EAAlB,CAAlB;;AAwBA;;AAEA7E,QAAOC,OAAP,GAAiB2jB,sBAAjB,C;;;;;;;;;;ACjKA;;AAEA;AACA;AACA;AACA;AACA,2FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,sEAAqE,kBAAkB,yBAAyB,mDAAmD,iFAAiF,4BAA4B,qBAAqB,GAAG,uCAAuC,0BAA0B,GAAG,kHAAkH,iCAAiC,GAAG,0CAA0C,wBAAwB,sBAAsB,iBAAiB,GAAG,8DAA8D,kBAAkB,GAAG,8CAA8C,uBAAuB,GAAG,8BAA8B,yBAAyB,GAAG;;AAEn0B;;;;;;;;;;;;;ACPA,KAAMriB,MAAM,mBAAArB,CAAQ,eAAR,CAAZ;AACA,KAAMikB,cAAc,mBAAAjkB,CAAQ,uBAAR,CAApB;;AAEA;;;;;AAKAD,SAAQgE,gBAAR,GAA2B,SAASmgB,2BAAT,CAAqC3hB,WAArC,EAAkD6J,OAAlD,EAA2D;AAClF,SAAI+X,mBAAmB9iB,IAAIuC,KAAJ,CAAUtD,OAAOC,QAAP,CAAgB6V,QAAhB,EAAV,CAAvB;;AAEA,SAAIgO,oBAAoBH,YAAYrgB,KAAZ,CAAkBugB,iBAAiBlgB,KAAnC,CAAxB;AACAmgB,uBAAkBC,EAAlB,GAAuB1gB,KAAKE,SAAL,CAAetB,WAAf,CAAvB;;AAEA,SAAI+hB,eAAe;AACf9jB,mBAAU2jB,iBAAiB3jB,QADZ;AAEfC,eAAM0jB,iBAAiB1jB,IAFR;AAGfuH,eAAMmc,iBAAiBnc,IAHR;AAIf/B,mBAAUke,iBAAiBle,QAJZ;AAKfhC,gBAAOmgB;AALQ,MAAnB;;AAQA,SAAIhY,OAAJ,EAAa;AACTmY,iBAAQC,YAAR,CAAqB,IAArB,EAA2B,EAA3B,EAA+BnjB,IAAIuF,MAAJ,CAAW0d,YAAX,CAA/B;AACH,MAFD,MAEO;AACHC,iBAAQE,SAAR,CAAkB,IAAlB,EAAwB,EAAxB,EAA4BpjB,IAAIuF,MAAJ,CAAW0d,YAAX,CAA5B;AACH;AACJ,EAnBD;;AAqBAvkB,SAAQ6C,6BAAR,GAAwC,SAAS8hB,0BAAT,GAAgE;AAAA,SAA5BnkB,QAA4B,yDAAjBD,OAAOC,QAAU;;AACpG,SAAIokB,aAAatjB,IAAIuC,KAAJ,CAAUrD,SAAS6V,QAAT,EAAV,CAAjB;AACA,SAAIwO,0BAA0BX,YAAYrgB,KAAZ,CAAkB+gB,WAAW1gB,KAA7B,EAAoCogB,EAAlE;AACA,YAAOO,0BAA0BjhB,KAAKC,KAAL,CAAWghB,uBAAX,CAA1B,GAAgE,EAAvE;AACH,EAJD,C","file":"expressionAtlasDifferentialExpression.bundle.js","sourcesContent":["module.exports = require('./src/differentialRenderer.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/index.js\n **/","const React = require('react');\nconst ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nconst DifferentialRouter = require('./DifferentialRouter.jsx');\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function ({atlasHostUrl : hostUrl = window.location.protocol + \"//\" + window.location.host, geneQuery, conditionQuery, species, target = 'gxaDifferentialTab', }) {\n    ReactDOM.render(\n        React.createElement(DifferentialRouter, {hostUrl: hostUrl, geneQuery: geneQuery, conditionQuery: conditionQuery, species: species}),\n        document.getElementById(target)\n    );\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/src/differentialRenderer.js\n **/","const React = require('react');\n\nconst $ = require('jquery');\n$.ajaxSetup({ traditional:true });\n\nconst Url = require('url');\n\n//*------------------------------------------------------------------*\n\nconst Results= require('./DifferentialResults.jsx');\nconst Facets = require('./DifferentialFacetsTree.jsx');\nconst UrlManager = require('./urlManager.js');\n\n//*------------------------------------------------------------------*\n\n/*\n TODO if Solr queries get fast enough that we can:\n - split the two requests, so that the facets load first, initial results load second\n - a request to the server is done for every interaction with the facets tree\n*/\n\nconst RequiredString = React.PropTypes.string.isRequired;\n\nconst DifferentialRouter = React.createClass({\n    propTypes: {\n        hostUrl: RequiredString,\n        geneQuery: RequiredString,\n        conditionQuery : RequiredString,\n        species: RequiredString\n    },\n\n    getInitialState () {\n        return {\n            facetsTreeData: [],\n            results: [],\n            legend: {\n                maxDownLevel: 0,\n                minDownLevel: 0,\n                minUpLevel: 0,\n                maxUpLevel: 0\n            },\n            querySelect: {}\n        }\n    },\n\n    componentDidMount () {\n        this._loadInitialData();\n        // TODO Consider using https://github.com/reactjs/react-router\n        window.addEventListener(\n            'popstate',\n            () => { this.setState({querySelect: UrlManager.parseDifferentialUrlParameter()}); },\n            false);\n    },\n\n    _addElementToObjectOfArrays (obj, arrayName, element) {\n        if (!obj[arrayName]) {\n            obj[arrayName] = [];\n        }\n        obj[arrayName].push(element);\n    },\n\n    _removeElementFromObjectOfArrays (obj, arrayName, element) {\n        delete obj[arrayName].splice(obj[arrayName].indexOf(element), 1);\n        if (obj[arrayName].length === 0) {\n            delete obj[arrayName];\n        }\n    },\n\n    _setChecked (facetName, facetItemName, checked) {\n        // Update URL\n        let newQuerySelect = JSON.parse(JSON.stringify(this.state.querySelect));\n        if (checked) {\n            this._addElementToObjectOfArrays(newQuerySelect, facetName, facetItemName);\n        } else {\n            this._removeElementFromObjectOfArrays(newQuerySelect, facetName, facetItemName);\n        }\n\n        // TODO Consider using https://github.com/reactjs/react-router\n        UrlManager.differentialPush(newQuerySelect, false);\n        this.setState({\n            querySelect: newQuerySelect\n        });\n    },\n\n    _filteredResults (query = this.state.querySelect) {\n        return this.state.results.filter(result =>\n            this._resultMatchesQuery(result, query)\n        );\n    },\n\n    _resultMatchesQuery (result, query) {\n        if (Object.keys(query).length === 0) {\n            return false;\n        } else {\n            return Object.keys(query).every(facetName =>\n                query[facetName].some(facetItem =>\n                    this._equalsToOrIncludes(result[facetName], facetItem)\n                )\n            );\n        }\n    },\n\n    _equalsToOrIncludes (obj, value) {\n        if (!!obj) {\n            if (obj.constructor === Array) {\n                return obj.includes(value);\n            }\n            else {\n                return obj === value;\n            }\n        } else {\n            return false;\n        }\n    },\n\n    // Syncs tree data with URL (querySelect) and does some other smart things such as check/uncheck or disable facets based on\n    // the user results (e.g. check & disable a facet if it’s shared by all results as a side effect of other choice)\n    _prepareFacetTreeData (filteredResults) {\n        return this.state.facetsTreeData.map(facet => ({\n            facetName: facet.facetName,\n            facetItems: facet.facetItems.map(facetItem => {\n\n                let allFilteredResultsMatchThisFacetItem = filteredResults.every(result => this._equalsToOrIncludes(result[facet.facetName], facetItem.name));\n\n                let querySelectAfterSwitchingThisFacetItem = JSON.parse(JSON.stringify(this.state.querySelect));\n                if (this._equalsToOrIncludes(querySelectAfterSwitchingThisFacetItem[facet.facetName], facetItem.name)) {\n                    this._removeElementFromObjectOfArrays(querySelectAfterSwitchingThisFacetItem, facet.facetName, facetItem.name);\n                } else {\n                    this._addElementToObjectOfArrays(querySelectAfterSwitchingThisFacetItem, facet.facetName, facetItem.name);\n                }\n                let resultIdsAfterSwitchingThisFacetItem = this._filteredResults(querySelectAfterSwitchingThisFacetItem).map(result => result.id).sort();\n                let currentResultIds = filteredResults.map(result => result.id).sort();\n\n                let sameResultsAfterSwitchingThisItem = JSON.stringify(resultIdsAfterSwitchingThisFacetItem) === JSON.stringify(currentResultIds);\n                let noResultsAfterSwitchingThisItem = resultIdsAfterSwitchingThisFacetItem.length === 0;\n\n                return {\n                    name: facetItem.name,\n                    value: facetItem.value,\n                    checked: this._equalsToOrIncludes(this.state.querySelect[facet.facetName], facetItem.name) ||\n                             sameResultsAfterSwitchingThisItem && allFilteredResultsMatchThisFacetItem,\n                    disabled: noResultsAfterSwitchingThisItem || sameResultsAfterSwitchingThisItem\n                }\n            })\n        }));\n    },\n\n    render () {\n        let filteredResults = this._filteredResults();\n\n        return (\n            <div>\n                <div className=\"grid_6 alpha\" id=\"gxaDifferentialFacetsContainerDiv\">\n                    {Object.keys(this.state.facetsTreeData).length\n                        ? <Facets\n                              facets = {this._prepareFacetTreeData(filteredResults)}\n                              setChecked = {this._setChecked}\n                          />\n                        : <div/>\n                    }\n                </div>\n                <div className=\"grid_18 omega\" id=\"gxaDifferentialResultsContainerDiv\">\n                    {this.state.results && this.state.results.length\n                        ? <Results\n                            results = {filteredResults}\n                            hostUrl = {this.props.hostUrl}\n                            {...this.state.legend}\n                          />\n                        : <div ref=\"loadingImagePlaceholder\">\n                              <img src={this.props.hostUrl + \"/gxa/resources/images/loading.gif\"}/>\n                    </div>\n                    }\n                </div>\n            </div>\n        )\n    },\n\n    _loadInitialData () {\n        let differentialFacetsUrlObject = Url.parse(this.props.hostUrl),\n            differentialResultsUrlObject = Url.parse(this.props.hostUrl);\n\n        differentialFacetsUrlObject.pathname = 'gxa/json/query/differentialFacets';\n        differentialResultsUrlObject.pathname = 'gxa/json/query/differentialResults';\n\n        let queryParams = {geneQuery: this.props.geneQuery, conditionQuery: this.props.conditionQuery, organism: this.props.species};\n        differentialFacetsUrlObject.query = queryParams;\n        differentialResultsUrlObject.query = queryParams;\n\n        let onAjaxFailure = (jqXHR, textStatus, errorThrown) => {\n            console.log(\"ERROR\");\n            console.log(\"Status: \" + textStatus);\n            console.log(\"Error thrown: \" + errorThrown);\n        };\n\n        $.ajax({\n            url: Url.format(differentialFacetsUrlObject),\n            dataType: \"json\",\n            success: facetsResponse => {\n                $.ajax({\n                    url: Url.format(differentialResultsUrlObject),\n                    dataType: \"json\",\n                    success: resultsResponse => {\n\n                        // TODO Consider using https://github.com/reactjs/react-router\n                        let querySelect = UrlManager.parseDifferentialUrlParameter();\n                        if (!querySelect.kingdom) {\n                            querySelect.kingdom = facetsResponse.kingdom.map(facetItem =>\n                                facetItem.name\n                            );\n                        }\n                        UrlManager.differentialPush(querySelect, true);\n\n                        let facetsTreeData = this._transformFacetsResponseToArray(facetsResponse);\n\n                        this.setState({\n                            facetsTreeData: this._pruneFacetsTreeBasedOnResultsThatCameIn(facetsTreeData, resultsResponse.results),\n                            querySelect: querySelect,\n                            results: resultsResponse.results,\n                            legend: {\n                                minDownLevel: resultsResponse.minDownLevel,\n                                minUpLevel: resultsResponse.minUpLevel,\n                                maxDownLevel:resultsResponse.maxDownLevel,\n                                maxUpLevel: resultsResponse.maxUpLevel\n                            }\n                        });\n\n                    },\n                    error: onAjaxFailure\n                });\n            },\n            error: onAjaxFailure\n        });\n    },\n\n    _transformFacetsResponseToArray (facetsResponse) {\n        return Object.keys(facetsResponse).map(facetName => {\n            return {\n                facetName: facetName,\n                facetItems: facetsResponse[facetName].map(facetItem => {\n                    return {\n                        name: facetItem.name,\n                        value: facetItem.value,\n                        disabled: false,\n                        checked: false\n                    }\n                })\n            };\n        });\n    },\n\n    _pruneFacetsTreeBasedOnResultsThatCameIn (facetsTreeData, results) {\n        return facetsTreeData.map(facet => (\n            {\n                facetName: facet.facetName,\n                facetItems:\n                    facet.facetItems.filter(facetItem =>\n                        results.some(result => {\n                            if (result[facet.facetName].constructor === Array) {\n                                return result[facet.facetName].indexOf(facetItem.name) > -1;\n                            } else {\n                                return result[facet.facetName] === facetItem.name;\n                            }\n                        })\n                    )\n            }\n        )).filter(facet => facet.facetItems.length > 0);\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialRouter;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/src/DifferentialRouter.jsx\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar punycode = require('punycode');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a puny coded representation of \"domain\".\n      // It only converts the part of the domain name that\n      // has non ASCII characters. I.e. it dosent matter if\n      // you call it with a domain that already is in ASCII.\n      var domainArray = this.hostname.split('.');\n      var newOut = [];\n      for (var i = 0; i < domainArray.length; ++i) {\n        var s = domainArray[i];\n        newOut.push(s.match(/[^A-Za-z0-9_-]/) ?\n            'xn--' + punycode.encode(s) : s);\n      }\n      this.hostname = newOut.join('.');\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  Object.keys(this).forEach(function(k) {\n    result[k] = this[k];\n  }, this);\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    Object.keys(relative).forEach(function(k) {\n      if (k !== 'protocol')\n        result[k] = relative[k];\n    });\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      Object.keys(relative).forEach(function(k) {\n        result[k] = relative[k];\n      });\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especialy happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!isNull(result.pathname) || !isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host) && (last === '.' || last === '..') ||\n      last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last == '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especialy happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!isNull(result.pathname) || !isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n\nfunction isString(arg) {\n  return typeof arg === \"string\";\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isNull(arg) {\n  return arg === null;\n}\nfunction isNullOrUndefined(arg) {\n  return  arg == null;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/url/url.js\n **/","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/url/~/punycode/punycode.js\n **/","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/querystring/index.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/querystring/decode.js\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/querystring/encode.js\n **/","const $ = require('jquery');\nrequire('jquery.browser');\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nconst DisplayLevelsButton = require('display-levels-button');\nconst Legend = require('legend').LegendDifferential;\nconst CellDifferential = require('cell-differential');\nconst DifferentialDownloadButton = require('./DifferentialDownloadButton.jsx');\nconst ContrastTooltips = require('contrast-tooltips');\nconst AtlasFeedback = require('atlas-feedback');\nconst EbiSpeciesIcon = require('react-ebi-species').Icon;\n\n\n//*------------------------------------------------------------------*\n\nrequire('./DifferentialResults.css');\n\n//*------------------------------------------------------------------*\n\nconst RequiredString = React.PropTypes.string.isRequired;\nconst OptionalString = React.PropTypes.string;\nconst RequiredBool = React.PropTypes.bool.isRequired;\n\nconst DifferentialResults = React.createClass({\n    /*\n    results: [\n     {\n       \"bioentityIdentifier\":\"ENSMUSG00000072476\",\n       \"species\":\"mus musculus\",\n       \"kingdom\":\"animals\",\n       \"experimentAccession\":\"E-MTAB-698\",\n       \"experimentType\":\"rnaseq_mrna_differential\",\n       \"contrastId\":\"g1_g2\",\n       \"numReplicates\":\"3\",\n       \"foldChange\":\"2.4\",\n       \"regulation\":\"DOWN\"\n       \"colour\": some_hex_value\n     },\n     {\n       \"bioentityIdentifier\":\"ENSMUSG00000071341\",\n       \"species\":\"mus musculus\",\n       \"kingdom\":\"animals\",\n       \"experimentAccession\":\"E-MTAB-698\",\n       \"experimentType\":\"rnaseq_mrna_differential\",\n       \"contrastId\":\"g1_g2\",\n       \"numReplicates\":\"3\",\n       \"foldChange\":\"-∞\",\n       \"regulation\":\"DOWN\",\n       \"colour\": some_hex_value\n\n     }\n    ],\n    maxDownLevel: \"-∞\" ,\n    minDownLevel: \"0\",\n    minUpLevel: \"0\",\n    maxUpLevel: \"2.4\"\n    */\n    propTypes: {\n        results: React.PropTypes.arrayOf(React.PropTypes.shape({\n            species: RequiredString,\n            kingdom: RequiredString,\n            experimentType: RequiredString,\n            numReplicates: RequiredString,    // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n            regulation: RequiredString,\n            factors: React.PropTypes.arrayOf(OptionalString).isRequired,\n            bioentityIdentifier: RequiredString,\n            experimentAccession: RequiredString,\n            experimentName: RequiredString,\n            contrastId: RequiredString,\n            comparison: RequiredString,\n            foldChange: RequiredString,    // a string, a formatted value, to be able to work with Infinity values and rounding\n            colour: RequiredString,\n            id: RequiredString\n        })).isRequired,\n        maxDownLevel: RequiredString,\n        minDownLevel: RequiredString,\n        minUpLevel: RequiredString,\n        maxUpLevel: RequiredString,\n        hostUrl: RequiredString\n    },\n\n    getInitialState () {\n        return {\n            displayLevels: false,\n            googleAnalyticsCallback: typeof ga !== 'undefined' ? ga : () => {}\n        };\n    },\n\n    _toggleDisplayLevels () {\n        let newDisplayLevels = !this.state.displayLevels;\n        this.setState({displayLevels: newDisplayLevels});\n    },\n\n    render () {\n        let differentialResultRows = this.props.results.map(diffResult => {\n            return <DifferentialResultRow\n                        key = {diffResult.id}\n                        displayLevels = {this.state.displayLevels}\n                        atlasBaseUrl = {this.props.hostUrl + '/gxa'}\n                        {...diffResult} />;\n        });\n\n        let feedbackSmileys = $.browser.msie ? null\n            :\n            <div style = {{marginTop:'50px'}}>\n                <AtlasFeedback\n                    collectionCallback = { (score, comment) => {\n                        this.state.googleAnalyticsCallback('send','event','DifferentialHeatmaps', 'feedback', comment, score);\n                    }}/>\n            </div>;\n\n        return (\n            <div>\n                <div style={{display: 'inline-block', verticalAlign: 'middle'}}>\n                    <DisplayLevelsButton hideText='Hide log<sub>2</sub>-fold change' showText='Display log<sub>2</sub>-fold change' onClickCallback={this._toggleDisplayLevels} displayLevels={this.state.displayLevels} fontSize='14px' width='200px'/>\n                </div>\n\n                <div style={{display: 'inline-block', verticalAlign: 'middle'}}>\n                    <Legend\n                        atlasBaseURL={this.props.hostUrl + '/gxa'} minDownLevel={this.props.minDownLevel} maxDownLevel={this.props.maxDownLevel} minUpLevel={this.props.minUpLevel} maxUpLevel={this.props.maxUpLevel}\n                    />\n                </div>\n\n                <div style={{display: 'inline-block', paddingLeft: '10px', verticalAlign: 'top'}}>\n                    <DifferentialDownloadButton ref=\"downloadProfilesButton\"\n                                                hostUrl={this.props.hostUrl}\n                                                results={this.props.results}\n                    />\n                 </div>\n\n                <table className=\"table-striped gxaDifferentialFacetedSearchResults\">\n                    <thead>\n                        <tr>\n                            <th style={{width: '10%'}}>Log<sub>2</sub>-fold change</th>\n                            <th style={{width: '5%'}}>Species</th>\n                            <th style={{width: '30%'}}>Comparison</th>\n                            <th style={{width: '15%'}}>Experimental variables</th>\n                            <th style={{width: '40%'}}>Experiment name</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                            {differentialResultRows}\n                    </tbody>\n                </table>\n                {feedbackSmileys}\n            </div>\n        );\n    }\n});\n\n\nconst DifferentialResultRow = React.createClass({\n    propTypes: {\n        bioentityIdentifier: RequiredString,\n        foldChange: RequiredString,\n        colour: RequiredString,\n        species: RequiredString,\n        comparison: RequiredString,\n        factors: React.PropTypes.arrayOf(OptionalString).isRequired,\n        experimentName: RequiredString,\n        contrastId: RequiredString,\n        experimentAccession: RequiredString,\n        displayLevels: RequiredBool,\n        atlasBaseUrl: RequiredString\n    },\n\n    _linkToComparisonPage () {\n      return (\n        'experiments/' + this.props.experimentAccession\n        + '?geneQuery=' + this.props.bioentityIdentifier\n        + '&queryFactorValues=' + this.props.contrastId\n        + '&specific=false'\n      );\n    },\n\n    render () {\n        let factors = this.props.factors ? this.props.factors.toString().replace(/,/g, ', ') : '';\n\n        return (\n            <tr>\n                <CellDifferential\n                    colour={this.props.colour}\n                    infinity={this.props.infinity}\n                    foldChange={this.props.foldChange}\n                    displayLevels={this.props.displayLevels}/>\n                <td className=\"col_species\">\n                    <EbiSpeciesIcon species={this.props.species}/>\n                </td>\n                <td ref=\"comparison\">\n                    <a href={this._linkToComparisonPage()}>\n                        {this.props.comparison}\n                    </a>\n                </td>\n                <td className=\"gxaExperimentalVariable\">\n                    {factors}\n                </td>\n                <td>\n                    <a href={'experiments/' + this.props.experimentAccession}>\n                        {this.props.experimentName}\n                    </a>\n                </td>\n            </tr>\n        );\n    },\n\n    componentDidMount () {\n        ContrastTooltips(this.props.atlasBaseUrl, '', ReactDOM.findDOMNode(this.refs.comparison), this.props.experimentAccession, this.props.contrastId);\n        $(document).ready(() => {\n          this.setState(\n              {googleAnalyticsCallback: typeof ga !== 'undefined' ? ga : () => {}}\n            );\n        });\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialResults;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/src/DifferentialResults.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/DisplayLevelsButton.jsx');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/display-levels-button/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\n\n\n//*------------------------------------------------------------------*\n\nvar DisplayLevelsButton = React.createClass({\n\n    propTypes: {\n        hideText: React.PropTypes.string.isRequired,\n        showText: React.PropTypes.string.isRequired,\n        onClickCallback: React.PropTypes.func.isRequired,\n        displayLevels: React.PropTypes.bool.isRequired,\n        width: React.PropTypes.string,\n        fontSize: React.PropTypes.string\n    },\n\n    _buttonText: function () {\n        return this.props.displayLevels ? this.props.hideText : this.props.showText;\n    },\n\n    _updateButtonText: function () {\n        $(ReactDOM.findDOMNode(this)).button({ label: this._buttonText() });\n    },\n\n    render: function () {\n        var style = {\n        };\n        if (this.props.width) {\n            style.width = this.props.width;\n        }\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize;\n        }\n\n        return (\n            <button style={style} onClick={this.props.onClickCallback}/>\n        );\n    },\n\n    componentDidMount: function () {\n        this._updateButtonText();\n    },\n\n    componentDidUpdate: function () {\n        this._updateButtonText();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DisplayLevelsButton;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/display-levels-button/src/DisplayLevelsButton.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nexports.LegendDifferential = require('./src/LegendDifferential.jsx');\nexports.LegendBaseline = require('./src/LegendBaseline.jsx');\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/legend/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar HelpTooltips = require('help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendDifferential = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minDownLevel: React.PropTypes.string.isRequired,\n        maxDownLevel: React.PropTypes.string.isRequired,\n        minUpLevel: React.PropTypes.string.isRequired,\n        maxUpLevel: React.PropTypes.string.isRequired\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaLegend\">\n                <div style={{display: \"inline-table\"}}>\n                    {isNaN(this.props.minDownLevel) && isNaN(this.props.maxDownLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={this.props.minDownLevel}\n                                   highExpressionLevel={this.props.maxDownLevel}\n                                   lowValueColour=\"#C0C0C0\"\n                                   highValueColour=\"#0000FF\"/>\n                    }\n                    {isNaN(this.props.minUpLevel) && isNaN(this.props.maxUpLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={this.props.minUpLevel}\n                                   highExpressionLevel={this.props.maxUpLevel}\n                                   lowValueColour=\"#FFAFAF\"\n                                   highValueColour=\"#FF0000\"/>\n                    }\n                </div>\n                <div ref=\"legendHelp\" data-help-loc=\"#gradient-differential\" className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendDifferential;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/legend/src/LegendDifferential.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaGradient.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = React.createClass({\n\n    propTypes: {\n        lowValueColour: React.PropTypes.string.isRequired,\n        highValueColour: React.PropTypes.string.isRequired,\n        lowExpressionLevel: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]).isRequired,    // Baseline legend rows can be a React <span> element returned by NumberFormat\n        highExpressionLevel: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]).isRequired\n    },\n\n    render: function () {\n        var BACKGROUND_IMAGE_TEMPLATE = \"-webkit-gradient(linear, left top, right top,color-stop(0, ${lowValueColour}), color-stop(1, ${highValueColour}));background-image: -moz-linear-gradient(left, ${lowValueColour}, ${highValueColour});background-image: -ms-linear-gradient(left, ${lowValueColour}, ${highValueColour}); background-image: -o-linear-gradient(left, ${lowValueColour}, ${highValueColour})\";\n        var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\\${lowValueColour}/g, this.props.lowValueColour).replace(/\\${highValueColour}/g, this.props.highValueColour);\n\n        // for IE9\n        var LT_IE10_FILTER_TEMPLATE = \"progid:DXImageTransform.Microsoft.Gradient(GradientType =1,startColorstr=${lowValueColour},endColorstr=${highValueColour})\";\n        var lt_ie10_filter = LT_IE10_FILTER_TEMPLATE.replace(/\\${lowValueColour}/, this.props.lowValueColour).replace(/\\${highValueColour}/, this.props.highValueColour);\n\n        return (\n            <div style={{display: \"table-row\"}}>\n                <div className=\"gxaGradientLevel gxaGradientLevelMin\">{this.props.lowExpressionLevel}</div>\n                <div style={{display: \"table-cell\"}}>\n                    <span className=\"gxaGradientColour\" style={{backgroundImage: backgroundImage, filter: lt_ie10_filter}} />\n                </div>\n                <div className=\"gxaGradientLevel gxaGradientLevelMax\">{this.props.highExpressionLevel}</div>\n            </div>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendRow;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/legend/src/LegendRow.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaGradient.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/legend/src/gxaGradient.css\n ** module id = 1841\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGradientColour {\\n    overflow: auto;\\n    vertical-align: middle;\\n    width: 200px;\\n    height: 15px;\\n    margin: 2px 6px 2px 6px;\\n    display: inline-block;\\n}\\n\\n.gxaGradientLevel {\\n    white-space: nowrap;\\n    font-size: 10px;\\n    vertical-align: middle;\\n    display: table-cell;\\n}\\n\\n.gxaGradientLevelMin {\\n    text-align: right;\\n}\\n\\n.gxaGradientLevelMax {\\n    text-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/legend/src/gxaGradient.css\n ** module id = 1842\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/helpTooltipsModule.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/help-tooltips/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaHelpTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction buildHelpAnchor() {\n    return $(\"<a/>\", {\n        class: \"help-icon\",\n        href: \"#\",\n        title: \"\",\n        text: \"?\"\n    });\n}\n\nfunction getHelpFileName(pageName){\n    return \"help-tooltips.\" + pageName + \"-page.html\";\n}\n\nfunction initTooltips(atlasBaseURL, pageName, parentElementId) {\n\n    var anchor = buildHelpAnchor();\n\n    var helpSelector = (typeof parentElementId === \"object\") ? parentElementId : (parentElementId == \"\") ? \"[data-help-loc]\" : \"#\" + parentElementId + \" [data-help-loc]\";\n\n    $(helpSelector)\n        .append(anchor)\n        .click(function (e) {\n            e.preventDefault();\n        })\n        .tooltip(\n        {\n            tooltipClass: \"gxaHelpTooltip\",\n            content: function (callback) {\n                var tooltipHelpHtmlId = $(this).parent().attr(\"data-help-loc\");\n\n                $.get(atlasBaseURL + \"/resources/html/\" + getHelpFileName(pageName),\n                    function (response, status, xhr) {\n                        var tooltipContent;\n\n                        if (status === \"error\") {\n                            tooltipContent = \"Sorry but there was an error: \" + xhr.status + \" \" + xhr.statusText;\n                            callback(tooltipContent);\n                            return;\n                        }\n\n                        tooltipContent = $(response).filter(tooltipHelpHtmlId).text();\n                        if (!tooltipContent) {\n                            tooltipContent = \"Missing help section for id = \" + tooltipHelpHtmlId + \" in html file \" + getHelpFileName(pageName);\n                        }\n\n                        callback(tooltipContent);\n                    }\n                );\n            }\n        }\n    );\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (atlasBaseURL, pageName, parentElementId) {\n    initTooltips(atlasBaseURL, pageName, parentElementId);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/help-tooltips/src/helpTooltipsModule.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/help-tooltips/src/gxaHelpTooltip.css\n ** module id = 1847\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHelpTooltip {\\n    background: white;\\n    border-width: 1px !important;\\n    border: solid cornflowerblue;\\n    padding: 4px;\\n    color: cornflowerblue;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\na.help-icon {\\n    color: darkorange;\\n    vertical-align: top;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    font-weight: bold;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/help-tooltips/src/gxaHelpTooltip.css\n ** module id = 1848\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaLegend.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/legend/src/gxaLegend.css\n ** module id = 1849\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaLegendHelp {\\n    display: inline-block;\\n    vertical-align: top;\\n    padding-left: 2px;\\n}\\n\\n.gxaLegend {\\n    display: inline-block;\\n    padding-left: 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/legend/src/gxaLegend.css\n ** module id = 1850\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar NumberFormat = require('number-format');\nvar HelpTooltips = require('help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendBaseline = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minExpressionLevel: React.PropTypes.string.isRequired,\n        maxExpressionLevel: React.PropTypes.string.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired\n    },\n\n    render: function () {\n        var dataHelpLoc = this.props.isMultiExperiment ? \"#gradient-base-crossexp\" : \"#gradient-base\";\n\n        // The class gxaHeatmapLegendGradient is used for Selenium tests but isn’t styled\n        return (\n            <div className=\"gxaHeatmapLegendGradient\">\n                <div style={{display: \"inline-table\"}}>\n                    <LegendRow lowExpressionLevel={NumberFormat.baselineExpression(this.props.minExpressionLevel)}\n                               highExpressionLevel={NumberFormat.baselineExpression(this.props.maxExpressionLevel)}\n                               lowValueColour=\"#C0C0C0\"\n                               highValueColour=\"#0000FF\"/>\n                </div>\n                <div ref=\"legendHelp\" data-help-loc={dataHelpLoc} className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendBaseline;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/legend/src/LegendBaseline.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/NumberFormat.jsx');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/number-format/index.js\n **/","\"use strict\";\n\nvar React = require('react');   // React is called in the transpiled JS files in the return statements\n\n//*------------------------------------------------------------------*\n\nfunction formatBaselineExpression(expressionLevel) {\n    var numberExpressionLevel = +expressionLevel;\n    return (numberExpressionLevel >= 100000 || numberExpressionLevel < 0.1) ? formatScientificNotation(numberExpressionLevel.toExponential(1).replace('+','')) : '' + numberExpressionLevel;\n}\n\n// expects number in the format #E# and displays exponent in superscript\nfunction formatScientificNotation(scientificNotationString) {\n\n    var formatParts = scientificNotationString.split(/[Ee]/);\n\n    if (formatParts.length == 1) {\n        return (\n            <span>{scientificNotationString}</span>\n        );\n    }\n\n    var mantissa = formatParts[0];\n    var exponent = formatParts[1];\n\n    return (\n        <span>\n            {(mantissa !== \"1\") ? mantissa + \" \\u00D7 \" : ''}10<span style={{'verticalAlign': 'super'}}>{exponent}</span>\n        </span>\n    );\n}\n\n//*------------------------------------------------------------------*\n\nexports.baselineExpression = formatBaselineExpression;\nexports.scientificNotation = formatScientificNotation;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/number-format/src/NumberFormat.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/CellDifferential.jsx');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/cell-differential/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar ReactDOMServer = require('react-dom/server');\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar NumberFormat = require('number-format');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaShowHideCell.css');\nrequire('./gxaDifferentialCellTooltip.css');\n\n//*------------------------------------------------------------------*\n\nvar CellDifferential = React.createClass({\n\n    propTypes: {\n        fontSize: React.PropTypes.number,\n        colour: React.PropTypes.string,\n        foldChange: React.PropTypes.number,\n        pValue: React.PropTypes.string,\n        tStat: React.PropTypes.string,\n        displayLevels: React.PropTypes.bool.isRequired\n    },\n\n    _hasValue: function () {\n        return (this.props.foldChange !== undefined);\n    },\n\n    _getStyle: function() {\n        var style = {};\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize + \"px\";\n        }\n\n        return style;\n    },\n\n    render: function () {\n        if (!this._hasValue()) {\n            return (<td/>);\n        }\n\n        return (\n            <td style={{backgroundColor: this.props.colour, verticalAlign: \"middle\"}}>\n                <div style={this._getStyle()} className={this.props.displayLevels ? \"gxaShowCell\" : \"gxaHideCell\"}>\n                    {this.props.foldChange}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount: function () {\n        if (this._hasValue()) {\n            this._initTooltip(ReactDOM.findDOMNode(this));\n        }\n    },\n\n    _initTooltip: function(element) {\n\n        //TODO - build this from a React component, like we do for FactorTooltip\n        function buildHeatmapCellTooltip (pValue, tStatistic, foldChange) {\n\n            return \"<table>\" +\n                       \"<thead>\" +\n                           (pValue !== undefined ?\n                               \"<th>Adjusted <em>p</em>-value</th>\" : \"\") +\n                           (tStatistic !== undefined ?\n                               \"<th><em>t</em>-statistic</th>\" : \"\") +\n                           \"<th class='gxaHeaderCell'>Log<sub>2</sub>-fold change</th>\" +\n                       \"</thead>\" +\n                       \"<tbody>\" +\n                           \"<tr>\" +\n                               (pValue !== undefined ?\n                                   \"<td>\" + ReactDOMServer.renderToStaticMarkup(NumberFormat.scientificNotation(pValue)) + \"</td>\" : \"\") +\n                               (tStatistic !== undefined ?\n                                   \"<td>\" + tStatistic + \"</td>\" : \"\") +\n                               \"<td>\" + foldChange + \"</td>\" +\n                           \"</tr>\" +\n                       \"</tbody>\" +\n                   \"</table>\";\n\n        }\n\n        // Don’t use bind, tooltip uses this internally\n        var thisProps = this.props;\n\n        $(element).attr(\"title\", \"\").tooltip({\n            open: function (event, ui) {\n                ui.tooltip.css(\"background\", thisProps.colour);\n            },\n\n            tooltipClass: \"gxaDifferentialCellTooltip\",\n\n            content:function () {\n                return buildHeatmapCellTooltip(thisProps.pValue, thisProps.tStat, thisProps.foldChange);\n            }\n        });\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = CellDifferential;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/cell-differential/src/CellDifferential.jsx\n **/","'use strict';\n\nmodule.exports = require('react/lib/ReactDOMServer');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/react-dom/server.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/cell-differential/src/gxaShowHideCell.css\n ** module id = 1857\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaShowCell {\\n    background-color: white;\\n    white-space: nowrap;\\n    text-align: center;\\n    margin: 4px;\\n    padding: 2px;\\n}\\n\\n.gxaHideCell {\\n    display: none;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/cell-differential/src/gxaShowHideCell.css\n ** module id = 1858\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/cell-differential/src/gxaDifferentialCellTooltip.css\n ** module id = 1859\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaDifferentialCellTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\n.gxaDifferentialCellTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaDifferentialCellTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaDifferentialCellTooltip td, .gxaDifferentialCellTooltip th {\\n    text-align: center;\\n    white-space: nowrap;\\n    vertical-align: middle;\\n    padding: 8px;\\n    width: 25px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/cell-differential/src/gxaDifferentialCellTooltip.css\n ** module id = 1860\n ** module chunks = 3\n **/","const $ = require('jquery');\nrequire('jquery-ui-bundle');\n\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nrequire('./DifferentialDownloadButton.css');\n\n//*------------------------------------------------------------------*\n\n\nconst RequiredString = React.PropTypes.string.isRequired;\nconst OptionalString = React.PropTypes.string;\nconst RequiredNumber = React.PropTypes.number.isRequired;\nconst OptionalNumber = React.PropTypes.number;\n\nconst DownloadDifferentialButton = React.createClass({\n\n    propTypes: {\n        hostUrl: RequiredString,\n        results: React.PropTypes.arrayOf(React.PropTypes.shape({\n            species: RequiredString,\n            kingdom: RequiredString,\n            experimentType: RequiredString,\n            numReplicates: RequiredString,    // faceting only works with strings https://issues.apache.org/jira/browse/SOLR-7496\n            regulation: RequiredString,\n            factors: React.PropTypes.arrayOf(OptionalString).isRequired,\n            bioentityIdentifier: RequiredString,\n            experimentAccession: RequiredString,\n            experimentName: RequiredString,\n            contrastId: RequiredString,\n            comparison: RequiredString,\n            foldChange: RequiredString,    // a string, a formatted value, to be able to work with Infinity values and rounding\n            pValue: RequiredNumber,\n            tStatistics: OptionalNumber,\n            colour: RequiredString,\n            id: RequiredString\n        })).isRequired\n    },\n\n    _convertJsonToTsv (results) {\n        let arrayResults = typeof results !== 'object' ? JSON.parse(results) : results;\n\n        let headers = ['Gene', 'Organism', 'Experiment Accession', 'Comparison', 'log2foldchange', 'pValue'];\n        if (arrayResults.some(diffResults => diffResults.tStatistics != null)) {\n            headers.push('tStatistics');\n        }\n\n        let tsv = headers.join('\\t') + '\\n';\n        tsv += arrayResults.map(diffResults =>\n            [\n                diffResults.bioentityIdentifier,\n                diffResults.species,\n                diffResults.experimentAccession,\n                diffResults.comparison,\n                diffResults.foldChange,\n                diffResults.pValue,\n                diffResults.tStatistics\n            ]\n                .filter(el => el !== null)    // tStatistics might be missing\n                .join('\\t') + '\\n');\n\n        return tsv;\n    },\n\n    _downloadDifferentialProfiles () {\n        $(ReactDOM.findDOMNode(this.refs.downloadProfilesLink)).click();\n    },\n\n    render () {\n        let downloadImgSrcURL = this.props.hostUrl + '/gxa/resources/images/download_blue_small.png';\n\n        let tsvString = this._convertJsonToTsv(this.props.results);\n        let uri = 'data:text/tsv;charset=utf-8,' + encodeURI(tsvString);\n        let fileName = 'differentialResults.tsv';\n\n        return (\n            <div style={{display: 'inline-block', verticalAlign: 'top', paddingLeft: '10px'}}>\n                <a ref=\"downloadProfilesLink\" className=\"gxaNoTextButton\"\n                   href={uri} download={fileName} target=\"_blank\"\n                   onClick={this._downloadDifferentialProfiles}>\n                    <img id=\"download-profiles\" alt=\"Download query results\" style={{width: '20px'}}\n                         src={downloadImgSrcURL} />\n                </a>\n            </div>\n        );\n    },\n\n    componentDidMount () {\n        let $downloadProfilesLink = $(ReactDOM.findDOMNode(this.refs.downloadProfilesLink));\n        $downloadProfilesLink.tooltip();\n        $downloadProfilesLink.button();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DownloadDifferentialButton;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/src/DifferentialDownloadButton.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./DifferentialDownloadButton.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./DifferentialDownloadButton.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./DifferentialDownloadButton.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/src/DifferentialDownloadButton.css\n ** module id = 1862\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaNoTextButton {\\n    border: 1px solid #ccc !important; /* overrides ebi-visual.css */\\n}\\n\\n.gxaNoTextButton .ui-button-text {\\n    padding: 2px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/src/DifferentialDownloadButton.css\n ** module id = 1863\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/contrastTooltipModule.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/contrast-tooltips/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = require('./ContrastTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaContrastTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId) {\n\n    $(element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaContrastTooltip\",\n\n        close: function() {\n            $(\".gxaContrastTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url:contextRoot + \"/rest/contrast-summary\",\n                data:{\n                    experimentAccession: experimentAccession,\n                    contrastId: contrastId,\n                    accessKey: accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                ContrastTooltip,\n                                {\n                                    experimentDescription: data.experimentDescription,\n                                    contrastDescription: data.contrastDescription,\n                                    testReplicates: data.testReplicates,\n                                    referenceReplicates: data.referenceReplicates,\n                                    properties: data.properties\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                console.log(\"ERROR:  \" + data);\n                callback(\"ERROR: \" + data);\n            });\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (contextRoot, accessKey, element, experimentAccession, contrastId) {\n    initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId);\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/contrast-tooltips/src/contrastTooltipModule.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = React.createClass({\n    propTypes: {\n        experimentDescription: React.PropTypes.string.isRequired,\n        contrastDescription: React.PropTypes.string.isRequired,\n        testReplicates: React.PropTypes.number.isRequired,\n        referenceReplicates: React.PropTypes.number.isRequired,\n        properties: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                contrastPropertyType: React.PropTypes.string,\n                propertyName: React.PropTypes.string.isRequired,\n                referenceValue: React.PropTypes.string.isRequired,\n                testValue: React.PropTypes.string.isRequired\n            })\n        )\n    },\n\n\n    propertyRow: function (property) {\n        if (!property.testValue && !property.referenceValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === \"FACTOR\";\n        }\n\n        var style = {whiteSpace: \"normal\"};\n\n        if (isFactor(property)) {\n            style.fontWeight = \"bold\";\n        } else {\n            style.color = \"gray\";\n        }\n\n        return (\n            <tr key={property.contrastPropertyType + \"-\" + property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n                <td style={style}>{property.referenceValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <div id=\"contrastExperimentDescription\" style={{fontWeight: \"bold\", color: \"blue\", textAlign: \"center\"}}>{this.props.experimentDescription}</div>\n                <div id=\"contrastDescription\" style={{textAlign: \"center\"}}>{this.props.contrastDescription}</div>\n                <table style={{padding: \"0px\", margin: \"0px\", width: \"100%\"}}>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Test value (N={this.props.testReplicates})</th>\n                            <th>Reference value (N={this.props.referenceReplicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ContrastTooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/contrast-tooltips/src/ContrastTooltip.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/contrast-tooltips/src/gxaContrastTooltip.css\n ** module id = 1867\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaContrastTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 500px;\\n}\\n\\n.gxaContrastTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaContrastTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaContrastTooltip td {\\n    border: 1px solid lightgrey;\\n}\\n\\n.gxaContrastTooltip td, .gxaContrastTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/contrast-tooltips/src/gxaContrastTooltip.css\n ** module id = 1868\n ** module chunks = 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Feedback.jsx');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/atlas-feedback/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\nvar React = require('react');\nvar LocalStorageMixin = require('react-localstorage');\nvar TimerMixin = require('react-timer-mixin');\nvar ReactCSSTransitionGroup = require('react-addons-css-transition-group');\n\nvar BootstrapButton = require('react-bootstrap/lib/Button');\nvar BootstrapFormGroup = require('react-bootstrap/lib/FormGroup');\nvar BootstrapFormControl = require('react-bootstrap/lib/FormControl');\n\nvar EmojiSpritesFile = require('../assets/emojione.sprites.png');\nvar Emoji = require('react-emojione');\n\nrequire(\"./gxaFeedback.css\");\n\n//*------------------------------------------------------------------*\n\nvar FeedbackPersistence = function createFeedbackComponent(FeedbackUIComponent){\n  return (\n    React.createClass({\n      displayName: 'ExpressionAtlasFeedbackForm',\n      mixins: [LocalStorageMixin],\n\n      propTypes: {\n        collectionCallback: React.PropTypes.func.isRequired\n      },\n\n      getInitialState: function() {\n        return {\n          created : new Date().toISOString(),\n          shownTimes : 0,\n          show : true\n            };\n      },\n\n      _shouldShow: function () {\n        var timeDiff = Math.abs(new Date().getTime() - new Date(this.state.created).getTime());\n        var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n        return this.state.show && diffDays >0 && this.state.shownTimes < 50;\n      },\n\n      _hide: function () {\n        this.setState({show: false});\n      },\n\n      _complete : function (userResponse, optionalUserComment) {\n        this.setState({show: false});\n        this.props.collectionCallback(userResponse, new Date().toISOString()+(optionalUserComment||\"\"));\n      },\n\n\n      render: function () {\n        var it = this._shouldShow()\n                  ? <FeedbackUIComponent key={\"box\"} onComplete={this._complete} onRequestHide={this._hide} />\n                  : <div key=\"nullKey\" />;\n        return (\n          <ReactCSSTransitionGroup transitionName=\"feedbackBoxTransitionWrapper\" transitionEnterTimeout={500} transitionLeaveTimeout={1000} >\n            {it}\n          </ReactCSSTransitionGroup>\n\n        );\n      },\n\n\n      componentDidMount: function () {\n        if(this._shouldShow()){\n          this.setState(function(previousState) {\n            return {shownTimes: previousState.shownTimes+1};\n          });\n        }\n      }\n    })\n  );\n}\n\nvar FeedbackBox = React.createClass({\n    propTypes: {\n        onComplete: React.PropTypes.func.isRequired,\n        onRequestHide : React.PropTypes.func.isRequired\n    },\n\n    mixins: [TimerMixin],\n\n    getInitialState: function () {\n      return {\n        askingWhyTheResultsWereNotUseful: false,\n        feedbackMessage: \"\"\n      }\n    },\n\n    componentDidUpdate: function () {\n      if(this.state.askingWhyTheResultsWereNotUseful && this.state.feedbackMessage.length===0){\n        this.setTimeout(function() {if(this.state.feedbackMessage.length===0) {this._submitNegativeAnswer();}}.bind(this), 5000);\n      }\n    },\n\n    _updateStateWithFormAnswer: function(e) {\n      this.setState({feedbackMessage: e.target.value});\n    },\n\n    _submitNegativeAnswer: function() {\n      this._submitAnswer(0, this.state.feedbackMessage);\n    },\n\n    _submitPositiveAnswer: function () {\n      this._submitAnswer(10);\n    },\n\n    _submitAnswer: function(score, optionalMessage) {\n      this.props.onComplete.apply(this, arguments);\n    },\n\n    render: function () {\n      return( <div className=\"gxaFeedbackQuestionBox\">\n      <div id=\"feedbackBoxCross\" className=\"icon icon-functional\" data-icon=\"x\" onClick={this.props.onRequestHide}></div>\n          <p>Did you find these results useful?</p>\n          <div className=\"gxaFeedbackQuestionBoxAnswer\">\n          {this.state.askingWhyTheResultsWereNotUseful\n            ?\n              <form>\n                <BootstrapFormGroup\n                  controlId=\"optionalFeedback\"\n                >\n                  <BootstrapFormControl\n                  componentClass=\"textarea\"\n                    type=\"text\"\n                    value={this.state.feedbackMessage}\n                    placeholder=\"Why not? (optional)\"\n                    onChange={this._updateStateWithFormAnswer}\n                  />\n                  <BootstrapFormControl.Feedback />\n                  <BootstrapButton style={{float: \"right\"}} onClick={this._submitNegativeAnswer}>\n                    Submit\n                  </BootstrapButton>\n                </BootstrapFormGroup>\n              </form>\n            :\n              <div>\n                <BootstrapButton bsStyle=\"default\" onClick={this._submitPositiveAnswer}>Yes</BootstrapButton>\n                <BootstrapButton onClick={function(){this.setState({askingWhyTheResultsWereNotUseful:true})}.bind(this)} bsStyle=\"default\">No</BootstrapButton>\n                <a onClick={this.props.onRequestHide} >Do not show this again</a>\n              </div>}\n          </div>\n      </div>)\n    }\n  });\n\n  var Smiley = React.createClass({\n    propTypes: {\n      emoji: React.PropTypes.string.isRequired,\n      value: React.PropTypes.number.isRequired,\n      onClickCallback: React.PropTypes.func.isRequired,\n      selected: React.PropTypes.bool.isRequired\n    },\n\n    _onClick: function() {\n      this.props.onClickCallback(this.props.value);\n    },\n\n    _emojifyOptions: {\n      convertShortnames: true,\n      convertUnicode: false,\n      convertAscii: true,\n      styles: {\n          backgroundImage: 'url('+\n            (window.location.href.indexOf(\"gxa\") >-1\n            ? \"resources/js-bundles/\"\n            : \"\" )+EmojiSpritesFile+')',\n          width: '32px',\n          height: '32px',\n          margin: '4px'\n      }\n    },\n\n    render: function () {\n      return (\n        <span style={{padding:\"6px\"}} >\n          <span className={this.props.selected? \"gxaSmiley gxaSmileyClicked\": \"gxaSmiley\"} onClick={this._onClick} >\n          {Emoji.emojify(this.props.emoji,this._emojifyOptions)}\n          </span>\n        </span>\n      );\n    }\n  });\n\n  var FeedbackSmileys = React.createClass({\n      propTypes: {\n          onComplete: React.PropTypes.func.isRequired,\n          onRequestHide : React.PropTypes.func.isRequired\n      },\n\n      mixins: [TimerMixin],\n\n      getInitialState: function() {\n        return {\n          score: -1,\n          feedbackMessage: \"\"\n        };\n      },\n\n      _interactionHappened: function() {\n        return this.state.score !== this.getInitialState().score;\n      },\n\n      _updateStateWithFormAnswer: function(e) {\n        this.setState({feedbackMessage: e.target.value});\n      },\n\n      _smileyClicked: function(newScore) {\n        this.setState({score: newScore});\n      },\n\n      _submit: function() {\n        this.props.onComplete(this.state.score, this.state.feedbackMessage);\n      },\n\n      componentDidUpdate: function () {\n        if(this._interactionHappened() && this.state.feedbackMessage.length===0){\n          this.setTimeout(\n            function() {\n              if(this.state.feedbackMessage.length===0) {\n                this._submit();\n              }\n            }.bind(this), 5000);\n        }\n      },\n\n      render: function() { /* identifiers from http://emoji.codes/ */\n        return (\n          <div className=\"gxaSmileyFeedbackBox\">\n            <p> Did you find these results useful?</p>\n            <div className=\"gxaSmileyRow\">\n              {[[\":frowning:\", 0],[\":slight_frown:\", 2], [\":neutral_face:\", 5], [\":slight_smile:\",8], [\":smiley:\",10]].map(function(ar){\n                return (\n                  <Smiley\n                    key={ar[0]+(this.state.score===ar[1])}\n                    emoji={ar[0]}\n                    value={ar[1]}\n                    onClickCallback={this._smileyClicked}\n                    selected={this.state.score===ar[1]}\n                  />\n                );\n              }.bind(this))}\n            </div>\n            <form style={{display: this._interactionHappened() ? \"block\" :\"none\"}}>\n              <BootstrapFormGroup\n                controlId=\"optionalFeedback\"\n              >\n                <BootstrapFormControl\n                componentClass=\"textarea\"\n                  type=\"text\"\n                  value={this.state.feedbackMessage}\n                  placeholder=\"Feedback (optional)\"\n                  onChange={this._updateStateWithFormAnswer}\n                />\n                <BootstrapFormControl.Feedback />\n                <div>\n                  <BootstrapButton onClick={this._submit}>\n                  Submit\n                  </BootstrapButton>\n                </div>\n              </BootstrapFormGroup>\n            </form>\n          </div>\n        );\n      }\n\n  });\n\n\n\nmodule.exports = FeedbackPersistence(FeedbackSmileys);\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/atlas-feedback/src/Feedback.jsx\n **/","module.exports = __webpack_public_path__ + \"72e306f1246f69de2c83c8d3c3141177.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/atlas-feedback/assets/emojione.sprites.png\n ** module id = 1929\n ** module chunks = 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaFeedback.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaFeedback.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaFeedback.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/atlas-feedback/src/gxaFeedback.css\n ** module id = 1939\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"div.gxaFeedbackQuestionBox {\\n  margin: 30px;\\n  width: 300px;\\n  background-color: #b3e0ff;\\n  border: 3px solid #008ae6;\\n  opacity: 0.6;\\n  filter: alpha(opacity=60); /* For IE8 and earlier */\\n}\\n\\n#feedbackBoxCross {\\n  margin: 3px;\\n  margin-top: 5px;\\n  float: right;\\n  cursor:pointer;\\n}\\n\\n#feedbackBoxCross:before {\\n  color: #BF2222;\\n}\\n\\ndiv.gxaFeedbackQuestionBox p {\\n  margin: 2%;\\n font-weight: bold;\\n text-align: center;\\n}\\n\\ndiv.gxaFeedbackQuestionBox a {\\n  float: right;\\n  margin-top: 6px;\\n  cursor:pointer;\\n}\\n\\ndiv.gxaFeedbackQuestionBoxAnswer {\\n  position:relative;\\ntext-align: center;\\n  margin: 0 auto;\\n  margin-bottom: 10px;\\n  width: 90%;\\n}\\n\\ndiv.gxaFeedbackQuestionBox button {\\n width: auto;\\n}\\n\\n.feedbackBoxTransitionWrapper-leave {\\n  opacity: 1;\\n}\\n\\n.feedbackBoxTransitionWrapper-leave.feedbackBoxTransitionWrapper-leave-active {\\n  opacity: 0.01;\\n  transition: opacity 300ms ease-in;\\n}\\n\\n.gxaSmiley {\\n  opacity: 0.6;\\n  text-decoration:none;\\n  cursor:pointer;\\n}\\n\\n.gxaSmiley:hover {\\n  opacity: 0.9;\\n  text-decoration:none;\\n  cursor:pointer;\\n}\\n\\n.gxaSmileyClicked {\\n  opacity: 1;\\n}\\n\\n.gxaSmileyFeedbackBox {\\n  text-align: center;\\n  clear: both;\\n  width: 300px;\\n  opacity: 0.8;\\n  filter: alpha(opacity=80); /* For IE8 and earlier */\\n}\\n\\n.gxaSmileyRow {\\n  text-align: center!important;\\n}\\n\\n.gxaSmileyFeedbackBox p {\\n  padding-left: 18px;\\n  padding-top: 5px;\\n  font-weight: bold;\\n  font-size: 14px;\\n}\\n\\n.gxaSmileyFeedbackBox form {\\n  padding: 6px;\\n  width: 87%;\\n}\\n\\n.gxaSmileyFeedbackBox button {\\n  width: 100px;\\n  margin-left: 91px;\\n}\\n\\n.form-control {\\n  display: block;\\n  width: 100%;\\n  height: 34px;\\n  padding: 6px 12px;\\n  font-size: 14px;\\n  line-height: 1.42857143;\\n  color: #555;\\n  background-color: #fff;\\n  background-image: none;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n          box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;\\n       -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n          transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n}\\n.form-control:focus {\\n  border-color: #66afe9;\\n  outline: 0;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\\n          box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\\n}\\n.form-control::-moz-placeholder {\\n  color: #999;\\n  opacity: 1;\\n}\\n.form-control:-ms-input-placeholder {\\n  color: #999;\\n}\\n.form-control::-webkit-input-placeholder {\\n  color: #999;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/atlas-feedback/src/gxaFeedback.css\n ** module id = 1940\n ** module chunks = 3\n **/","\"use strict\";\n\nexports.Icon = require('./src/SpeciesIcon.jsx');\nexports.render = require('./src/renderer.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/react-ebi-species/index.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nrequire(\"!style!css!./ebi-visual-species.css\");\nvar mapping = require(\"./mapping.js\");\n\n//*------------------------------------------------------------------*\n\nvar Icon = React.createClass({\n\n    propTypes: {\n        species: React.PropTypes.string.isRequired,\n        colourOverride: React.PropTypes.string,\n        colourPerGroup: React.PropTypes.objectOf(\n        React.PropTypes.string\n        ).isRequired\n    },\n\n    getDefaultProps: function(){\n      return {\n      \tspecies: \"oryctolagus cuniculus\", //rabbit is objectively the best species\n      \tcolourPerGroup: {\n      \t\t\tmammals:\"red\",\n            plants: \"green\",\n            other: \"blue\"\n      \t\t}\n      };\n    },\n\n    _lookUpIcon: function(){\n      for(var group in mapping){\n        if(mapping.hasOwnProperty(group)){\n          for(var iconSymbol in mapping[group]){\n            if (mapping[group].hasOwnProperty(iconSymbol)){\n              if(mapping[group][iconSymbol].indexOf(this.props.species.toLowerCase())>-1){\n                return [group, iconSymbol];\n              }\n            }\n          }\n        }\n      }\n      return [\"\",\"\"];\n    },\n\n    render: function () {\n      var groupAndIcon = this._lookUpIcon();\n        return (\n            <span\n            className={\"react-ebi-species-icon\"}\n            data-icon={groupAndIcon[1]}\n            style={{\"color\": this.props.colourOverride || this.props.colourPerGroup[groupAndIcon[0]]}}\n            title={this.props.species}/>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Icon;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/react-ebi-species/src/SpeciesIcon.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./ebi-visual-species.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./ebi-visual-species.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./ebi-visual-species.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/style-loader!./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/react-ebi-species/src/ebi-visual-species.css\n ** module id = 1943\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Taken from: https://www.ebi.ac.uk/web_guidelines/css/compliance/develop/ebi-visual.css */\\n\\n@font-face {\\n    font-family: 'EBI-Species';\\n    src: url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot');\\n    src: url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot?#iefix') format('embedded-opentype'), url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.woff') format('woff'), local('\\\\263A'), url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.svg#EBI-Species') format('svg'), url('https://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n.react-ebi-species-icon:before {\\n    font-family: 'EBI-Species';\\n    font-size: 100%;\\n    color: inherit;\\n    content: attr(data-icon);\\n    margin: 0 0.3em 0 0\\n}\\n\\n.react-ebi-species-icon {\\n    text-decoration: none;\\n    font-style: normal\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/~/react-ebi-species/src/ebi-visual-species.css\n ** module id = 1944\n ** module chunks = 3\n **/","module.exports = {\n\t\"mammals\": {\n\t\t\"C\": \"bos taurus\",\n\t\t\"d\": [\"canis lupus\", \"canis lupus familiaris\"],\n\t\t\"h\":\t\"equus caballus\",\n\t\t\"H\": \"homo sapiens\",\n\t\t\"k\": \"gallus gallus\",\n\t\t\"G\": \"gorilla gorilla\",\n\t\t\"r\": \"macaca mulatta\",\n\t\t\"9\": \"monodelphis domestica\",\n\t\t\"M\": \"mus musculus\",\n\t\t\"i\": [\"pan paniscus\", \"pan troglodytes\"],\n\t\t\"R\": \"rattus norvegicus\",\n\t\t\"t\": \"oryctolagus cuniculus\",\n\t\t\"x\": \"ovis aries\",\n\t\t\"8\": \"papio anubis\"\n\t},\n\t\"plants\": {\n\t\t\"B\": \"arabidopsis thaliana\",\n\t\t\"5\": [\"hordeum vulgare\", \"hordeum vulgare subsp. vulgare\"],\n\t\t\"6\": [\"oryza sativa\", \"oryza sativa japonica group\"],\n\t\t\"c\": \"zea mays\",\n\t\t\"P\":[\"brachypodium distachyon\",\"glycine max\",\"solanum lycopersicum\",\"sorghum bicolor\",\"vitis vinifera\"]\n\t},\n\t\"other\": {\n\t\t\"7\": \"anolis carolinensis\",\n\t\t\"Z\": \"danio rerio\",\n\t\t\"F\": \"drosophila melanogaster\",\n\t\t\"W\": [\"caenorhabditis elegans\",\"schistosoma mansoni\"],\n\t\t\"E\": \"tetraodon nigroviridis\",\n\t\t\"f\": [\"xenopus (silurana) tropicalis\", \"xenopus tropicalis\"],\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/react-ebi-species/src/mapping.js\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar Icon = require('./SpeciesIcon.jsx');\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function(mountNode,species,colourOverride, colourPerKingdom) {\n    ReactDOM.render(\n        React.createElement(Icon,{\n          species: species,\n          colourOverride: colourOverride,\n          colourPerKingdom: colourPerKingdom\n        }), mountNode\n    );\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/~/react-ebi-species/src/renderer.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./DifferentialResults.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./DifferentialResults.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./DifferentialResults.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/src/DifferentialResults.css\n ** module id = 1947\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"table.table-striped tr:nth-child(even) {\\n    background-color: #f9f9f9;\\n}\\n\\ntable.table-striped tr:nth-child(odd) {\\n    background: #FFF;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults th, table.gxaDifferentialFacetedSearchResults th span {\\n    font-weight: bold;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults th {\\n    font-size: 90%;\\n    border: 0 solid #ddd;\\n    border-bottom-width: 2px;\\n    vertical-align: bottom;\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td {\\n    padding: 8px;\\n    line-height: 1.42857143;\\n    vertical-align: top;\\n    border-top: 1px solid #ddd\\n}\\n\\ntable.gxaDifferentialFacetedSearchResults tr td.col_species .react-ebi-species-icon {\\n    font-size: 300%;\\n    margin-left: 4px;\\n}\\n\\ntd.gxaExperimentalVariable {\\n    text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/src/DifferentialResults.css\n ** module id = 1948\n ** module chunks = 3\n **/","const React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./DifferentialFacetsTree.css');\n\n//*------------------------------------------------------------------*\n\nconst RequiredString = React.PropTypes.string.isRequired;\nconst RequiredBool = React.PropTypes.bool.isRequired;\n\nconst DifferentialFacetsTree = React.createClass({\n    propTypes: {\n        /*\n        [\n            { \"facetName\" : \"species\",\n              \"facetItems\" : [ {\"name\": \"homo sapiens\", \"value\": \"Homo sapiens\", checked: false, disabled: false},\n                               {\"name\": \"arabidopsis thaliana\", \"value\": \"arabidopsis thaliana\", checked: true, disabled: false} ]\n            },\n            { \"facetName\" : \"experimentType\",\n              \"facetItems\" : [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\", checked: false, disabled: true},\n                                {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\", checked: false, disabled: false} ]\n            },\n            { \"facetName\" : \"factors\",\n              \"facetItems\" : [ {\"name\": \"genotype\", \"value\": \"genotype\", checked: true, disabled: true} ]\n            },\n            { \"facetName\" : \"numReplicates\",\n              \"facetItems\" : [ {\"name\": \"3\", \"value\": \"3\", checked: true, disabled: true} ]\n            },\n            { \"facetName\" : \"regulation\".\n              \"facetItems\" : [ {\"name\": \"UP\", \"value\": \"Up\", checked: true, disabled: false},\n                            {\"name\": \"DOWN\", \"value\": \"Down\", checked: false, disabled: false} ]\n            }\n        ]\n        */\n        facets: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                facetName: RequiredString,\n                facetItems: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        name: RequiredString,\n                        value: RequiredString,\n                        checked: RequiredBool,\n                        disabled: RequiredBool\n                    }).isRequired\n                ).isRequired\n            }).isRequired\n        ).isRequired,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked (facetName, facetItemName, checked) {\n        this.props.setChecked(facetName, facetItemName, checked);\n    },\n\n    render () {\n        let facets = this.props.facets.map(facet =>\n            <Facet\n                key={facet.facetName}\n                facetName={facet.facetName}\n                facetItems={facet.facetItems}\n                setChecked={this._setChecked}\n            />\n        );\n\n        return (\n            <div className=\"hidden-xs gxaFacetsContainer\"><h3>Filter your results</h3>\n                {facets}\n            </div>\n        );\n    }\n});\n\nconst Facet = React.createClass({\n    propTypes: {\n        facetName: React.PropTypes.string.isRequired,\n        facetItems: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                name: RequiredString,\n                value: RequiredString,\n                checked: RequiredBool,\n                disabled: RequiredBool\n            }).isRequired\n        ).isRequired,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked (facetItemName, checked) {\n        this.props.setChecked(this.props.facetName, facetItemName, checked);\n    },\n\n    _prettifyFacetName (facetName) {\n        switch (facetName) {\n            case 'kingdom':\n                return 'Kingdom';\n            case 'species':\n                return 'Species';\n            case 'experimentType':\n                return 'Experiment type';\n            case 'factors':\n                return 'Experimental variables';\n            case 'numReplicates':\n                return 'Number of replicates';\n            case 'regulation':\n                return 'Regulation';\n            default:\n                return facetName;\n        }\n    },\n\n    render () {\n        let facetItems = this.props.facetItems.map(facetItem =>\n            <FacetItem\n                key = {facetItem.name}\n                name = {facetItem.name}\n                value = {facetItem.value}\n                checked = {facetItem.checked}\n                disabled = {facetItem.disabled}\n                setChecked = {this._setChecked}\n            />\n        );\n\n        let className = this.props.facetName === 'species' ? 'gxaSpeciesFacet' : '';\n\n        return (\n            <div className=\"gxaFacetItem\">\n                <h4>{this._prettifyFacetName(this.props.facetName)}</h4>\n                <ul className={className}>\n                    {facetItems}\n                </ul>\n            </div>\n        );\n    }\n});\n\nconst FacetItem = React.createClass({\n    propTypes: {\n        name: RequiredString,\n        value: RequiredString,\n        checked: RequiredBool,\n        disabled: RequiredBool,\n        setChecked: React.PropTypes.func.isRequired,\n    },\n\n    _setChecked () {\n        this.props.setChecked(this.props.name, !this.props.checked);\n    },\n\n    render () {\n        let className = this.props.disabled ? 'gxaDisabledFacet' : '';\n        return (\n            <li className={className}>\n                <input type=\"checkbox\" checked={this.props.checked} onChange={this._setChecked} disabled={this.props.disabled}/>\n                {this.props.value}\n            </li>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DifferentialFacetsTree;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/src/DifferentialFacetsTree.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./DifferentialFacetsTree.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./DifferentialFacetsTree.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./DifferentialFacetsTree.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/src/DifferentialFacetsTree.css\n ** module id = 1950\n ** module chunks = 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/*Responsive*/\\n@media (max-width: 768px) {\\n    .hidden-xs {display: none!important;} /*remove column like filter for small devices*/\\n}\\n\\n/* Facets-tree container */\\n.gxaFacetsContainer ul, .gxaFacetsContainer li {\\n    list-style-type: none;\\n    padding: 2px 0;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem {\\n    padding-bottom: 8px;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem h4:first-letter, .gxaFacetsContainer .gxaFacetItem ul li span:first-letter {\\n    text-transform: capitalize;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem h4 {\\n    font-weight: bold;\\n    font-size: 133%;\\n    padding: 0;\\n}\\n\\n.gxaFacetsContainer .gxaFacetItem .gxaDisabledFacet span {\\n    color: gray;\\n}\\n\\n.gxaFacetsContainer .gxaDisabledCheckbox {\\n    color: lightgray;\\n}\\n\\n.gxaSpeciesFacet li span {\\n    font-style: italic;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-differential-expression/~/css-loader!./expression-atlas-differential-expression/src/DifferentialFacetsTree.css\n ** module id = 1951\n ** module chunks = 3\n **/","const Url = require('url');\nconst QueryString = require('querystring');\n\n/**\n * Stringify the `query` object, assign it to the `ds` search field in the URL and store it in the History\n * @param {object} querySelect\n * @param {boolean} replace - use `replaceState` instead of `pushState`\n */\nexports.differentialPush = function pushQueryIntoBrowserHistory(querySelect, replace) {\n    let currentUrlObject = Url.parse(window.location.toString());\n\n    let newUrlQueryParams = QueryString.parse(currentUrlObject.query);\n    newUrlQueryParams.ds = JSON.stringify(querySelect);\n\n    let newUrlObject = {\n        protocol: currentUrlObject.protocol,\n        host: currentUrlObject.host,\n        hash: currentUrlObject.hash,\n        pathname: currentUrlObject.pathname,\n        query: newUrlQueryParams\n    };\n\n    if (replace) {\n        history.replaceState(null, '', Url.format(newUrlObject));\n    } else {\n        history.pushState(null, '', Url.format(newUrlObject));\n    }\n};\n\nexports.parseDifferentialUrlParameter = function getQuerySelectFromLocation(location = window.location) {\n    let currentURL = Url.parse(location.toString());\n    let differentialSelectParam = QueryString.parse(currentURL.query).ds;\n    return differentialSelectParam ? JSON.parse(differentialSelectParam) : {};\n};\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-differential-expression/src/urlManager.js\n **/"],"sourceRoot":""}