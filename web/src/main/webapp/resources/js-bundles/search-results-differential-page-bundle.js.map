{"version":3,"sources":["webpack:///search-results-differential-page-bundle.js","webpack:///./src/search-results/differential-page.js?7c28","webpack:///./src/search-results/differential-page.js","webpack:///./src/search-results/differential-router.js","webpack:///./src/search-results/facets.jsx?fe54","webpack:///./src/search-results/differential-results.jsx","webpack:///./~/query-string/query-string.js"],"names":["webpackJsonp","module","exports","__webpack_require__","global","call","this",2,"DifferentialRouter","facetsData","diffResultsData","facetContainerId","resultsContainerId","document","getElementById",5,"React","queryString","Facets","DifferentialResults","facetsElement","resultsElement","facetData","results","renderPage","query","parse","window","location","search","slice","pathname","select","JSON","render","setChecked","checked","facet","facetItem","newSelect","addSelection","removeSelection","newQueryString","geneQuery","stringify","console","log","navigateTo","url","state","title","history","pushState","renderComponent","facets","checkedFacets","addEventListener",7,"createClass","displayName","propTypes","PropTypes","object","isRequired","func","_setChecked","props","Object","keys","map","createElement","Facet","key","facetName","facetItems","checkedFacetItems","bind","string","arrayOf","shape","name","value","FacetItem","className","bool","type","onChange",32,"geneCount","number","organism","contrastId","comparison","experimentAccession","experimentName","differentialResultRows","diffResult","DifferentialResultRow",34,"__WEBPACK_AMD_DEFINE_RESULT__","str","trim","replace","split","reduce","ret","param","parts","val","decodeURIComponent","undefined","hasOwnProperty","Array","isArray","push","obj","val2","encodeURIComponent","join"],"mappings":"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","file":"search-results-differential-page-bundle.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/*!*************************************************!*\\\n  !*** ./src/search-results/differential-page.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {module.exports = global[\"$page\"] = __webpack_require__(/*! -!./src/search-results/differential-page.js */ 2);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n\n/***/ 2:\n/*!*************************************************!*\\\n  !*** ./src/search-results/differential-page.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* global require */\n\n\tvar DifferentialRouter = __webpack_require__(/*! ./differential-router.js */ 5);\n\n\tmodule.exports = function(facetsData, diffResultsData, facetContainerId, resultsContainerId) {\n\t    DifferentialRouter(\n\t        document.getElementById(facetContainerId),\n\t        document.getElementById(resultsContainerId),\n\t        facetsData, diffResultsData);\n\t};\n\n\n\n/***/ },\n\n/***/ 5:\n/*!***************************************************!*\\\n  !*** ./src/search-results/differential-router.js ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* global require */\n\t/* global require */\n\n\tvar React = __webpack_require__(/*! react */ 4);\n\tvar queryString = __webpack_require__(/*! query-string */ 34);\n\tvar Facets = __webpack_require__(/*! ./facets.jsx */ 7);\n\tvar DifferentialResults = __webpack_require__(/*! ./differential-results.jsx */ 32);\n\n\tmodule.exports = function (facetsElement, resultsElement, facetData, results) {\n\n\t    //TODO: add this outside the module, when module is first loaded\n\t    window.addEventListener('popstate', renderPage, false);\n\n\t    renderPage();\n\n\t    function renderPage() {\n\t        var query = queryString.parse(window.location.search.slice(1)),\n\t            pathname = window.location.pathname;\n\t        query.select = query.select && JSON.parse(query.select);\n\t        render(query, pathname);\n\t    }\n\n\t    function render(query, pathname) {\n\t        React.renderComponent(Facets({facets: facetData, checkedFacets: query.select, setChecked: setChecked}),\n\t            facetsElement\n\t        );\n\n\t        React.renderComponent(DifferentialResults({diffResultsData: results}),\n\t            resultsElement\n\t        );\n\n\t        function setChecked(checked, facet, facetItem) {\n\t            var newSelect = checked ? addSelection(query.select, facet, facetItem) : removeSelection(query.select, facet, facetItem);\n\t            var newQueryString = \"?geneQuery=\" + query.geneQuery + \"&select=\" + JSON.stringify(newSelect);\n\t            console.log(newQueryString);\n\t            navigateTo(pathname + newQueryString);\n\t        }\n\n\t        function navigateTo(url) {\n\t            var state, title;\n\t            history.pushState(state, title, url);\n\t            renderPage();\n\t        }\n\n\n\t        function addSelection(select, facet, facetItem) {\n\t            if (!select) {\n\t                select = {};\n\t            }\n\n\t            if (!select[facet]) {\n\t                select[facet] = {};\n\t            }\n\t            select[facet][facetItem] = true;\n\t            return select;\n\t        }\n\n\t        function removeSelection(select, facet, facetItem) {\n\t            select[facet][facetItem] = false;\n\t            return select;\n\t        }\n\n\t    }\n\n\t    //function queryToDifferentialResults(query) {\n\t    //    /* eg:\n\t    //     query.geneQuery=\"zinc finger\"\n\t    //     query.select={ \"kingdom\": {\"ensembl\": true}, \"factors\": {\"temperature\": true, \"time\": true} }\n\t    //\n\t    //     ->\n\t    //\n\t    //     {\n\t    //     \"geneQuery\": \"zinc finger\",\n\t    //     \"kingdom\": \"ensembl\",\n\t    //     \"factors\": { \"temperature\", \"time\" }\n\t    //     }\n\t    //\n\t    //     */\n\t    //    var select = query.select;\n\t    //    var geneQuery = query.geneQuery;\n\t    //    var heatmaps = [];\n\t    //\n\t    //    for (var species in select) {\n\t    //        if (select.hasOwnProperty(species)) {\n\t    //\n\t    //            var factors = select[species];\n\t    //\n\t    //            for (var factor in factors) {\n\t    //                if (factors.hasOwnProperty(factor)) {\n\t    //                    if (factors[factor]) {\n\t    //                        heatmaps.push({\n\t    //                            \"geneQuery\": geneQuery,\n\t    //                            \"species\": species,\n\t    //                            \"factor\": factor\n\t    //                        });\n\t    //                    }\n\t    //                }\n\t    //            }\n\t    //        }\n\t    //    }\n\t    //\n\t    //    return heatmaps;\n\t    //}\n\n\n\t};\n\n\n/***/ },\n\n/***/ 7:\n/*!***************************************!*\\\n  !*** ./src/search-results/facets.jsx ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @jsx React.DOM */\n\n\t/*global require */\n\tvar React = __webpack_require__(/*! react */ 4);\n\n\tvar Facets = React.createClass({displayName: \"Facets\",\n\t    propTypes: {\n\n\t        /*\n\t         Differential eg:\n\t         {\n\t         \"species\": [ {\"name\": \"homo sapiens\", \"value\": \"Homo sapiens\"}, {\"name\": \"arabidopsis thaliana\", \"value\": \"Arabidopsis thaliana\"} ],\n\t         \"experimentType\": [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\"}, {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\"} ],\n\t         \"factors\": [ {\"name\": \"genotype\", \"value\": \"Genotype\"} ],\n\t         \"numReplicates\": [ {\"name\": \"3\", \"value\": \"3\"} ],\n\t         \"regulation\": [ {\"name\": \"UP\", \"value\": \"Up\"} ]\n\t         }\n\n\t         Baseline eg:\n\t         {\n\t         \"homo sapiens\" : [ {\"factor\": \"CELL_LINE\", \"source\": \"Cell line\"}, {\"factor\": \"ORGANISM_PART\", \"source\": \"Tissue\"} ],\n\t         \"mus musculus\" : [ {\"factor\": \"CELL_LINE\", \"source\": \"Cell line\"}, {\"factor\": \"INDIVIDUAL\", \"source\": \"Individual\"} ]\n\t         }\n\t         */\n\t        facets: React.PropTypes.object.isRequired,\n\n\t        /*\n\t         Differential eg:\n\t         { \"species\" : { \"homo sapiens\": true, \"arabidopsis thaliana\": true }, \"regulation\": {\"UP\": true } }\n\n\t         Baseline eg:\n\t         eg:\n\t         { \"homo sapiens\" : { \"CELL_LINE\": true, \"ORGANISM_PART\": true } }\n\t         */\n\t        checkedFacets: React.PropTypes.object,\n\n\t        setChecked: React.PropTypes.func.isRequired\n\t    },\n\n\t    _setChecked: function (checked, facet, facetItem) {\n\t        this.props.setChecked(checked, facet, facetItem);\n\t    },\n\n\t    render: function () {\n\t        var facets = Object.keys(this.props.facets).map(function (facet) {\n\t            return React.createElement(Facet, {key: facet, facetName: facet, facetItems: this.props.facets[facet], \n\t                checkedFacetItems: this.props.checkedFacets && this.props.checkedFacets[facet], \n\t                setChecked: this._setChecked}\n\t            );\n\t        }.bind(this));\n\n\t        return (\n\t            React.createElement(\"ul\", null, \n\t                        facets\n\t            )\n\t        );\n\t    }\n\t});\n\n\tvar Facet = React.createClass({displayName: \"Facet\",\n\t    propTypes: {\n\t        facetName: React.PropTypes.string.isRequired,\n\n\t        // eg: [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\"}, {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\"} ]\n\t        facetItems: React.PropTypes.arrayOf(React.PropTypes.shape({\n\t            name: React.PropTypes.string.isRequired,\n\t            value: React.PropTypes.string.isRequired\n\t        })).isRequired,\n\n\t        // eg: { \"rnaseq_mrna_differential\": true, \"microarray_1colour_mrna_differential\": true }\n\t        checkedFacetItems: React.PropTypes.object,\n\n\t        setChecked: React.PropTypes.func.isRequired\n\t    },\n\n\t    _setChecked: function (checked, facetItem) {\n\t        this.props.setChecked(checked, this.props.facetName, facetItem);\n\t    },\n\n\t    render: function () {\n\t        var facetItems = this.props.facetItems.map(function (facetItem) {\n\t            return React.createElement(FacetItem, {key: facetItem.name, name: facetItem.name, value: facetItem.value, \n\t                checked: this.props.checkedFacetItems && this.props.checkedFacetItems[facetItem.name], \n\t                setChecked: this._setChecked}\n\t            );\n\n\t        }.bind(this));\n\n\t        return (\n\t            React.createElement(\"li\", {className: \"atlasAnalyticsSearchFacet\"}, \n\t                React.createElement(\"span\", null, this.props.facetName), \n\t                React.createElement(\"ul\", null, \n\t                            facetItems\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\n\tvar FacetItem = React.createClass({displayName: \"FacetItem\",\n\t    propTypes: {\n\t        name: React.PropTypes.string.isRequired,\n\t        value: React.PropTypes.string.isRequired,\n\t        checked: React.PropTypes.bool,\n\t        setChecked: React.PropTypes.func.isRequired\n\t    },\n\n\t    _setChecked: function () {\n\t        this.props.setChecked(!this.props.checked, this.props.name);\n\t    },\n\n\t    render: function () {\n\t        return (\n\t            React.createElement(\"li\", null, \n\t                React.createElement(\"input\", {type: \"checkbox\", checked: this.props.checked ? true : false, \n\t                    onChange: this._setChecked}\n\t                ), this.props.value)\n\t        );\n\t    }\n\t});\n\n\n\tmodule.exports = Facets;\n\n/***/ },\n\n/***/ 32:\n/*!*****************************************************!*\\\n  !*** ./src/search-results/differential-results.jsx ***!\n  \\*****************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/** @jsx React.DOM */\n\n\t/*global require */\n\tvar React = __webpack_require__(/*! react */ 4);\n\n\tvar DifferentialResults = React.createClass({displayName: \"DifferentialResults\",\n\n\t    propTypes: {\n\t        /*\n\t         eg: from http://www.ebi.ac.uk/gxa/query?geneQuery=zinc&_exactMatch=on&organism=Any&condition=\n\t         [\n\t         {\n\t         \"geneCount\": 10,\n\t         \"organism\": \"Mus musculus\",\n\t         \"contrastId\": \"g2_g4\",\n\t         \"comparison\": \"'LDB1 knock-down with Ldb1 delta 4/5 construct' vs 'control shRNA\",\n\t         \"experimentAccession\": \"E-GEOD-54549\",\n\t         \"experimentName\": \"Role of LDB1 in the transition from chromatin looping to transcription activation\"\n\t         },\n\t         {\n\t         \"geneCount\": 2,\n\t         \"organism\": \"Homo sapiens\",\n\t         \"contrastId\": \"g2_g5\",\n\t         \"comparison\": \"'SAP130 knock-down' vs 'mock'\",\n\t         \"experimentAccession\": \"E-GEOD-56788\",\n\t         \"experimentName\": \"RNA-seq analysis of vorinostat-resistant HCT116 cells following gene knockdown of potential vorinostat-resistance candidate genes\"\n\t         }\n\t         ]\n\t         */\n\t        diffResultsData: React.PropTypes.arrayOf(React.PropTypes.shape({\n\t            geneCount: React.PropTypes.number.isRequired,\n\t            organism: React.PropTypes.string.isRequired,\n\t            contrastId: React.PropTypes.string.isRequired,\n\t            comparison: React.PropTypes.string.isRequired,\n\t            experimentAccession: React.PropTypes.string.isRequired,\n\t            experimentName: React.PropTypes.string.isRequired\n\t        })).isRequired\n\t    },\n\n\t    render: function () {\n\t        var differentialResultRows = this.props.diffResultsData.map(function (diffResult) {\n\t            return React.createElement(DifferentialResultRow, {\n\t                key: diffResult.experimentAccession + diffResult.contrastId, \n\t                geneCount: diffResult.geneCount, organism: diffResult.organism, comparison: diffResult.comparison, experimentName: diffResult.experimentName, \n\t                contrastId: diffResult.contrastId, experimentAccession: diffResult.experimentAccession}\n\t            );\n\t        }.bind(this));\n\n\t        return (\n\t            React.createElement(\"table\", null, \n\t                React.createElement(\"tr\", null, \n\t                    React.createElement(\"th\", null, \"Gene count\"), \n\t                    React.createElement(\"th\", null, \"Species\"), \n\t                    React.createElement(\"th\", null, \"Comparison\"), \n\t                    React.createElement(\"th\", null, \"Experiment name\")\n\t                ), \n\t                        differentialResultRows\n\t            )\n\t        );\n\t    }\n\t});\n\n\n\tvar DifferentialResultRow = React.createClass({displayName: \"DifferentialResultRow\",\n\t    propTypes: {\n\t        geneCount: React.PropTypes.number.isRequired,\n\t        organism: React.PropTypes.string.isRequired,\n\t        comparison: React.PropTypes.string.isRequired,\n\t        experimentName: React.PropTypes.string.isRequired,\n\t        contrastId: React.PropTypes.string.isRequired,\n\t        experimentAccession: React.PropTypes.string.isRequired\n\t    },\n\n\t    // TODO Use this.props.contrastId and this.props.experimentAccession to add link to the relevant experiment/comparison\n\t    render: function () {\n\t        return (\n\t            React.createElement(\"tr\", null, \n\t                React.createElement(\"td\", null, this.props.geneCount), \n\t                React.createElement(\"td\", null, this.props.organism), \n\t                React.createElement(\"td\", null, this.props.comparison), \n\t                React.createElement(\"td\", null, this.props.experimentName)\n\t            )\n\t        );\n\t    }\n\t});\n\n\tmodule.exports = DifferentialResults;\n\n/***/ },\n\n/***/ 34:\n/*!****************************************!*\\\n  !*** ./~/query-string/query-string.js ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t\tquery-string\n\t\tParse and stringify URL query strings\n\t\thttps://github.com/sindresorhus/query-string\n\t\tby Sindre Sorhus\n\t\tMIT License\n\t*/\n\t(function () {\n\t\t'use strict';\n\t\tvar queryString = {};\n\n\t\tqueryString.parse = function (str) {\n\t\t\tif (typeof str !== 'string') {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tstr = str.trim().replace(/^(\\?|#)/, '');\n\n\t\t\tif (!str) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn str.trim().split('&').reduce(function (ret, param) {\n\t\t\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t\t\tvar key = parts[0];\n\t\t\t\tvar val = parts[1];\n\n\t\t\t\tkey = decodeURIComponent(key);\n\t\t\t\t// missing `=` should be `null`:\n\t\t\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\t\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\t\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\t\t\tret[key] = val;\n\t\t\t\t} else if (Array.isArray(ret[key])) {\n\t\t\t\t\tret[key].push(val);\n\t\t\t\t} else {\n\t\t\t\t\tret[key] = [ret[key], val];\n\t\t\t\t}\n\n\t\t\t\treturn ret;\n\t\t\t}, {});\n\t\t};\n\n\t\tqueryString.stringify = function (obj) {\n\t\t\treturn obj ? Object.keys(obj).map(function (key) {\n\t\t\t\tvar val = obj[key];\n\n\t\t\t\tif (Array.isArray(val)) {\n\t\t\t\t\treturn val.map(function (val2) {\n\t\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t\t}).join('&');\n\t\t\t\t}\n\n\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t\t}).join('&') : '';\n\t\t};\n\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() { return queryString; }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = queryString;\n\t\t} else {\n\t\t\twindow.queryString = queryString;\n\t\t}\n\t})();\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** search-results-differential-page-bundle.js\n **/","module.exports = global[\"$page\"] = require(\"-!/Users/amunoz/atlas/web/src/main/javascript/src/search-results/differential-page.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/search-results/differential-page.js\n ** module id = 0\n ** module chunks = 1\n **/","/* global require */\n\nvar DifferentialRouter = require('./differential-router.js');\n\nmodule.exports = function(facetsData, diffResultsData, facetContainerId, resultsContainerId) {\n    DifferentialRouter(\n        document.getElementById(facetContainerId),\n        document.getElementById(resultsContainerId),\n        facetsData, diffResultsData);\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/search-results/differential-page.js\n ** module id = 2\n ** module chunks = 1\n **/","/* global require */\n/* global require */\n\nvar React = require('react');\nvar queryString = require('query-string');\nvar Facets = require('./facets.jsx');\nvar DifferentialResults = require('./differential-results.jsx');\n\nmodule.exports = function (facetsElement, resultsElement, facetData, results) {\n\n    //TODO: add this outside the module, when module is first loaded\n    window.addEventListener('popstate', renderPage, false);\n\n    renderPage();\n\n    function renderPage() {\n        var query = queryString.parse(window.location.search.slice(1)),\n            pathname = window.location.pathname;\n        query.select = query.select && JSON.parse(query.select);\n        render(query, pathname);\n    }\n\n    function render(query, pathname) {\n        React.renderComponent(Facets({facets: facetData, checkedFacets: query.select, setChecked: setChecked}),\n            facetsElement\n        );\n\n        React.renderComponent(DifferentialResults({diffResultsData: results}),\n            resultsElement\n        );\n\n        function setChecked(checked, facet, facetItem) {\n            var newSelect = checked ? addSelection(query.select, facet, facetItem) : removeSelection(query.select, facet, facetItem);\n            var newQueryString = \"?geneQuery=\" + query.geneQuery + \"&select=\" + JSON.stringify(newSelect);\n            console.log(newQueryString);\n            navigateTo(pathname + newQueryString);\n        }\n\n        function navigateTo(url) {\n            var state, title;\n            history.pushState(state, title, url);\n            renderPage();\n        }\n\n\n        function addSelection(select, facet, facetItem) {\n            if (!select) {\n                select = {};\n            }\n\n            if (!select[facet]) {\n                select[facet] = {};\n            }\n            select[facet][facetItem] = true;\n            return select;\n        }\n\n        function removeSelection(select, facet, facetItem) {\n            select[facet][facetItem] = false;\n            return select;\n        }\n\n    }\n\n    //function queryToDifferentialResults(query) {\n    //    /* eg:\n    //     query.geneQuery=\"zinc finger\"\n    //     query.select={ \"kingdom\": {\"ensembl\": true}, \"factors\": {\"temperature\": true, \"time\": true} }\n    //\n    //     ->\n    //\n    //     {\n    //     \"geneQuery\": \"zinc finger\",\n    //     \"kingdom\": \"ensembl\",\n    //     \"factors\": { \"temperature\", \"time\" }\n    //     }\n    //\n    //     */\n    //    var select = query.select;\n    //    var geneQuery = query.geneQuery;\n    //    var heatmaps = [];\n    //\n    //    for (var species in select) {\n    //        if (select.hasOwnProperty(species)) {\n    //\n    //            var factors = select[species];\n    //\n    //            for (var factor in factors) {\n    //                if (factors.hasOwnProperty(factor)) {\n    //                    if (factors[factor]) {\n    //                        heatmaps.push({\n    //                            \"geneQuery\": geneQuery,\n    //                            \"species\": species,\n    //                            \"factor\": factor\n    //                        });\n    //                    }\n    //                }\n    //            }\n    //        }\n    //    }\n    //\n    //    return heatmaps;\n    //}\n\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/search-results/differential-router.js\n ** module id = 5\n ** module chunks = 1\n **/","/** @jsx React.DOM */\n\n/*global require */\nvar React = require('react');\n\nvar Facets = React.createClass({\n    propTypes: {\n\n        /*\n         Differential eg:\n         {\n         \"species\": [ {\"name\": \"homo sapiens\", \"value\": \"Homo sapiens\"}, {\"name\": \"arabidopsis thaliana\", \"value\": \"Arabidopsis thaliana\"} ],\n         \"experimentType\": [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\"}, {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\"} ],\n         \"factors\": [ {\"name\": \"genotype\", \"value\": \"Genotype\"} ],\n         \"numReplicates\": [ {\"name\": \"3\", \"value\": \"3\"} ],\n         \"regulation\": [ {\"name\": \"UP\", \"value\": \"Up\"} ]\n         }\n\n         Baseline eg:\n         {\n         \"homo sapiens\" : [ {\"factor\": \"CELL_LINE\", \"source\": \"Cell line\"}, {\"factor\": \"ORGANISM_PART\", \"source\": \"Tissue\"} ],\n         \"mus musculus\" : [ {\"factor\": \"CELL_LINE\", \"source\": \"Cell line\"}, {\"factor\": \"INDIVIDUAL\", \"source\": \"Individual\"} ]\n         }\n         */\n        facets: React.PropTypes.object.isRequired,\n\n        /*\n         Differential eg:\n         { \"species\" : { \"homo sapiens\": true, \"arabidopsis thaliana\": true }, \"regulation\": {\"UP\": true } }\n\n         Baseline eg:\n         eg:\n         { \"homo sapiens\" : { \"CELL_LINE\": true, \"ORGANISM_PART\": true } }\n         */\n        checkedFacets: React.PropTypes.object,\n\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked: function (checked, facet, facetItem) {\n        this.props.setChecked(checked, facet, facetItem);\n    },\n\n    render: function () {\n        var facets = Object.keys(this.props.facets).map(function (facet) {\n            return <Facet key={facet} facetName={facet} facetItems={this.props.facets[facet]}\n                checkedFacetItems={this.props.checkedFacets && this.props.checkedFacets[facet]}\n                setChecked={this._setChecked}\n            />;\n        }.bind(this));\n\n        return (\n            <ul>\n                        {facets}\n            </ul>\n        );\n    }\n});\n\nvar Facet = React.createClass({\n    propTypes: {\n        facetName: React.PropTypes.string.isRequired,\n\n        // eg: [ {\"name\": \"rnaseq_mrna_differential\", \"value\": \"RNA-seq mRNA\"}, {\"name\": \"microarray_1colour_mrna_differential\", \"value\": \"1 colour mRNA\"} ]\n        facetItems: React.PropTypes.arrayOf(React.PropTypes.shape({\n            name: React.PropTypes.string.isRequired,\n            value: React.PropTypes.string.isRequired\n        })).isRequired,\n\n        // eg: { \"rnaseq_mrna_differential\": true, \"microarray_1colour_mrna_differential\": true }\n        checkedFacetItems: React.PropTypes.object,\n\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked: function (checked, facetItem) {\n        this.props.setChecked(checked, this.props.facetName, facetItem);\n    },\n\n    render: function () {\n        var facetItems = this.props.facetItems.map(function (facetItem) {\n            return <FacetItem key={facetItem.name} name={facetItem.name} value={facetItem.value}\n                checked={this.props.checkedFacetItems && this.props.checkedFacetItems[facetItem.name]}\n                setChecked={this._setChecked}\n            />;\n\n        }.bind(this));\n\n        return (\n            <li className=\"atlasAnalyticsSearchFacet\">\n                <span>{this.props.facetName}</span>\n                <ul>\n                            {facetItems}\n                </ul>\n            </li>\n        );\n    }\n});\n\nvar FacetItem = React.createClass({\n    propTypes: {\n        name: React.PropTypes.string.isRequired,\n        value: React.PropTypes.string.isRequired,\n        checked: React.PropTypes.bool,\n        setChecked: React.PropTypes.func.isRequired\n    },\n\n    _setChecked: function () {\n        this.props.setChecked(!this.props.checked, this.props.name);\n    },\n\n    render: function () {\n        return (\n            <li>\n                <input type=\"checkbox\" checked={this.props.checked ? true : false}\n                    onChange={this._setChecked}\n                />{this.props.value}</li>\n        );\n    }\n});\n\n\nmodule.exports = Facets;\n\n\n/** WEBPACK FOOTER **\n ** ./src/search-results/facets.jsx\n **/","/** @jsx React.DOM */\n\n/*global require */\nvar React = require('react');\n\nvar DifferentialResults = React.createClass({\n\n    propTypes: {\n        /*\n         eg: from http://www.ebi.ac.uk/gxa/query?geneQuery=zinc&_exactMatch=on&organism=Any&condition=\n         [\n         {\n         \"geneCount\": 10,\n         \"organism\": \"Mus musculus\",\n         \"contrastId\": \"g2_g4\",\n         \"comparison\": \"'LDB1 knock-down with Ldb1 delta 4/5 construct' vs 'control shRNA\",\n         \"experimentAccession\": \"E-GEOD-54549\",\n         \"experimentName\": \"Role of LDB1 in the transition from chromatin looping to transcription activation\"\n         },\n         {\n         \"geneCount\": 2,\n         \"organism\": \"Homo sapiens\",\n         \"contrastId\": \"g2_g5\",\n         \"comparison\": \"'SAP130 knock-down' vs 'mock'\",\n         \"experimentAccession\": \"E-GEOD-56788\",\n         \"experimentName\": \"RNA-seq analysis of vorinostat-resistant HCT116 cells following gene knockdown of potential vorinostat-resistance candidate genes\"\n         }\n         ]\n         */\n        diffResultsData: React.PropTypes.arrayOf(React.PropTypes.shape({\n            geneCount: React.PropTypes.number.isRequired,\n            organism: React.PropTypes.string.isRequired,\n            contrastId: React.PropTypes.string.isRequired,\n            comparison: React.PropTypes.string.isRequired,\n            experimentAccession: React.PropTypes.string.isRequired,\n            experimentName: React.PropTypes.string.isRequired\n        })).isRequired\n    },\n\n    render: function () {\n        var differentialResultRows = this.props.diffResultsData.map(function (diffResult) {\n            return <DifferentialResultRow\n                key={diffResult.experimentAccession + diffResult.contrastId}\n                geneCount={diffResult.geneCount} organism={diffResult.organism} comparison={diffResult.comparison} experimentName={diffResult.experimentName}\n                contrastId={diffResult.contrastId} experimentAccession={diffResult.experimentAccession}\n            />;\n        }.bind(this));\n\n        return (\n            <table>\n                <tr>\n                    <th>Gene count</th>\n                    <th>Species</th>\n                    <th>Comparison</th>\n                    <th>Experiment name</th>\n                </tr>\n                        {differentialResultRows}\n            </table>\n        );\n    }\n});\n\n\nvar DifferentialResultRow = React.createClass({\n    propTypes: {\n        geneCount: React.PropTypes.number.isRequired,\n        organism: React.PropTypes.string.isRequired,\n        comparison: React.PropTypes.string.isRequired,\n        experimentName: React.PropTypes.string.isRequired,\n        contrastId: React.PropTypes.string.isRequired,\n        experimentAccession: React.PropTypes.string.isRequired\n    },\n\n    // TODO Use this.props.contrastId and this.props.experimentAccession to add link to the relevant experiment/comparison\n    render: function () {\n        return (\n            <tr>\n                <td>{this.props.geneCount}</td>\n                <td>{this.props.organism}</td>\n                <td>{this.props.comparison}</td>\n                <td>{this.props.experimentName}</td>\n            </tr>\n        );\n    }\n});\n\nmodule.exports = DifferentialResults;\n\n\n/** WEBPACK FOOTER **\n ** ./src/search-results/differential-results.jsx\n **/","/*!\n\tquery-string\n\tParse and stringify URL query strings\n\thttps://github.com/sindresorhus/query-string\n\tby Sindre Sorhus\n\tMIT License\n*/\n(function () {\n\t'use strict';\n\tvar queryString = {};\n\n\tqueryString.parse = function (str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn {};\n\t\t}\n\n\t\tstr = str.trim().replace(/^(\\?|#)/, '');\n\n\t\tif (!str) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn str.trim().split('&').reduce(function (ret, param) {\n\t\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t\tvar key = parts[0];\n\t\t\tvar val = parts[1];\n\n\t\t\tkey = decodeURIComponent(key);\n\t\t\t// missing `=` should be `null`:\n\t\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\t\tret[key] = val;\n\t\t\t} else if (Array.isArray(ret[key])) {\n\t\t\t\tret[key].push(val);\n\t\t\t} else {\n\t\t\t\tret[key] = [ret[key], val];\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}, {});\n\t};\n\n\tqueryString.stringify = function (obj) {\n\t\treturn obj ? Object.keys(obj).map(function (key) {\n\t\t\tvar val = obj[key];\n\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\treturn val.map(function (val2) {\n\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t}).join('&');\n\t\t\t}\n\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t}).join('&') : '';\n\t};\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function() { return queryString; });\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = queryString;\n\t} else {\n\t\twindow.queryString = queryString;\n\t}\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/query-string/query-string.js\n ** module id = 34\n ** module chunks = 1\n **/"],"sourceRoot":""}