{"version":3,"sources":["webpack:///./expression-atlas-heatmap-highcharts/index.js","webpack:///./expression-atlas-heatmap-highcharts/src/highchartsHeatmapRenderer.js","webpack:///./expression-atlas-heatmap-highcharts/~/react/lib/ReactEmptyComponent.js","webpack:///./expression-atlas-heatmap-highcharts/~/react/lib/ReactVersion.js","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.jsx","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.jsx","webpack:///./expression-atlas-heatmap-highcharts/~/highcharts-heatmap/heatmap.js","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css?45a0","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css","webpack:///./expression-atlas-heatmap-highcharts/~/css-loader/lib/css-base.js","webpack:///./expression-atlas-heatmap-highcharts/~/style-loader/addStyles.js","webpack:///./expression-atlas-heatmap-highcharts/~/download-profiles-button/index.js","webpack:///./expression-atlas-heatmap-highcharts/~/download-profiles-button/src/DownloadProfilesButton.jsx","webpack:///./expression-atlas-heatmap-highcharts/~/download-profiles-button/src/BlueprintText.jsx","webpack:///./expression-atlas-heatmap-highcharts/src/highchartsUtils.js","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css?70f8","webpack:///./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css","webpack:///./expression-atlas-heatmap-highcharts/~/anatomogram/index.js","webpack:///./expression-atlas-heatmap-highcharts/~/anatomogram/src/Anatomogram.jsx"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,YAAW,OAA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A,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;ACrPA;;AAEA;;AAEA;;;;;;;;;;ACJA;;;;AAIA,KAAI,QAAQ,oBAAQ,iBAAR,CAAR;;AAEJ,KAAI,QAAQ,oBAAQ,qCAAR,CAAR;AACJ,KAAI,SAAS,oBAAQ,sCAAR,CAAT;AACJ,KAAI,YAAY,oBAAQ,yCAAR,CAAZ;AACJ,KAAI,UAAU,oBAAQ,uCAAR,CAAV;AACJ,KAAI,iBAAiB,oBAAQ,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","file":"expressionAtlasHeatmapHighcharts.bundle.js","sourcesContent":["\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/highchartsHeatmapRenderer.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/index.js\n ** module id = 0\n ** module chunks = 4\n **/","\"use strict\";\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar EventEmitter = require('events');\n\nvar HighchartsHeatmapContainer = require('./HighchartsHeatmapContainer.jsx');\n    \n//*------------------------------------------------------------------*\n\n/**\n * @param {Object}      options\n * @param {string}          options.proxyPrefix - Proxy URL with protocol: required by CTTV\n * @param {boolean=}        options.disableGoogleAnalytics - Disable Google Analytics: required by CTTV\n * @param {string=}         options.atlasHost - Atlas host with port (note: don’t include port)\n * @param {string}          options.params\n * @param {boolean}         options.analyticsSearch\n * @param {boolean=}        options.isMultiExperiment\n * @param {boolean=}        options.showAnatomogram\n * @param {boolean=}        options.isWidget\n * @param {string | Object} options.target - a <div> id or a DOM element, as returned by ReactDOM.findDOMNode()\n * @param {function}        options.fail - Callback to run if the AJAX request to the server fails. (jqXHR, textStatus)\n * @param {function}        options.anatomogramDataEventEmitter\n */\nexports.render = function(options) {\n\n    var protocol = window.location.protocol + \"//\",\n        atlasHost = options.atlasHost === undefined ? \"www.ebi.ac.uk\" : options.atlasHost,\n        atlasPath = \"/gxa\";\n\n    var linksAtlasBaseURL = protocol + atlasHost + atlasPath,\n        atlasBaseURL = options.proxyPrefix ? options.proxyPrefix + \"/\" + atlasHost + atlasPath : linksAtlasBaseURL;\n\n    var endpointPath =  options.isMultiExperiment ? \"/widgets/heatmap/baselineAnalytics\" : \"/widgets/heatmap/referenceExperiment\";\n\n    var sourceURL = atlasBaseURL + endpointPath + \"?\" + options.params;\n\n    var ensemblEventEmitter = new EventEmitter();\n    ensemblEventEmitter.setMaxListeners(0);\n    var anatomogramEventEmitter = new EventEmitter();\n    anatomogramEventEmitter.setMaxListeners(0);\n\n    ReactDOM.render(\n        React.createElement(\n            HighchartsHeatmapContainer,\n            {\n                sourceURL: sourceURL,\n                atlasBaseURL: atlasBaseURL,\n                linksAtlasBaseURL: linksAtlasBaseURL,\n                showAnatomogram: options.showAnatomogram === undefined ? true : options.showAnatomogram,\n                isWidget: options.isWidget === undefined ? true : options.isWidget,\n                isMultiExperiment: options.isMultiExperiment,\n                disableGoogleAnalytics: options.disableGoogleAnalytics === undefined ? false : options.disableGoogleAnalytics,\n                fail: options.fail,\n                ensemblEventEmitter: ensemblEventEmitter,\n                anatomogramEventEmitter:anatomogramEventEmitter,\n                anatomogramDataEventEmitter: options.anatomogramDataEventEmitter\n            }\n        ),\n        (typeof options.target === \"string\") ? document.getElementById(options.target) : options.target\n    );\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/highchartsHeatmapRenderer.js\n ** module id = 1108\n ** module chunks = 4\n **/","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactEmptyComponent\n */\n\n'use strict';\n\nvar ReactElement = require('./ReactElement');\nvar ReactEmptyComponentRegistry = require('./ReactEmptyComponentRegistry');\nvar ReactReconciler = require('./ReactReconciler');\n\nvar assign = require('./Object.assign');\n\nvar placeholderElement;\n\nvar ReactEmptyComponentInjection = {\n  injectEmptyComponent: function (component) {\n    placeholderElement = ReactElement.createElement(component);\n  }\n};\n\nfunction registerNullComponentID() {\n  ReactEmptyComponentRegistry.registerNullComponentID(this._rootNodeID);\n}\n\nvar ReactEmptyComponent = function (instantiate) {\n  this._currentElement = null;\n  this._rootNodeID = null;\n  this._renderedComponent = instantiate(placeholderElement);\n};\nassign(ReactEmptyComponent.prototype, {\n  construct: function (element) {},\n  mountComponent: function (rootID, transaction, context) {\n    transaction.getReactMountReady().enqueue(registerNullComponentID, this);\n    this._rootNodeID = rootID;\n    return ReactReconciler.mountComponent(this._renderedComponent, rootID, transaction, context);\n  },\n  receiveComponent: function () {},\n  unmountComponent: function (rootID, transaction, context) {\n    ReactReconciler.unmountComponent(this._renderedComponent);\n    ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID);\n    this._rootNodeID = null;\n    this._renderedComponent = null;\n  }\n});\n\nReactEmptyComponent.injection = ReactEmptyComponentInjection;\n\nmodule.exports = ReactEmptyComponent;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/react/lib/ReactEmptyComponent.js\n ** module id = 1175\n ** module chunks = 4\n **/","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ReactVersion\n */\n\n'use strict';\n\nmodule.exports = '0.14.8';\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/react/lib/ReactVersion.js\n ** module id = 1253\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar $ = require('jquery');\nrequire('jQuery-ajaxTransport-XDomainRequest');\n\n//*------------------------------------------------------------------*\n\nvar HighchartsHeatmap = require('./HighchartsHeatmap.jsx');\nvar HighchartsUtils = require('./highchartsUtils.js');\nrequire('./HighchartsHeatmapContainer.css');\n\nvar Anatomogram = require('anatomogram');\n\n\n//*------------------------------------------------------------------*\n\nvar ExperimentDescription = React.createClass({\n    propTypes: {\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        experiment: React.PropTypes.shape({\n            URL: React.PropTypes.string.isRequired,\n            description: React.PropTypes.string.isRequired,\n            allSpecies: React.PropTypes.string.isRequired\n        }).isRequired\n    },\n\n    render: function () {\n\n        var experimentURL = this.props.linksAtlasBaseURL + this.props.experiment.URL;\n\n        return (\n            <div style={{width: \"100%\", paddingBottom: \"20px\"}}>\n                <div id=\"experimentDescription\">\n                    <a id=\"goto-experiment\" className=\"gxaThickLink\" title=\"Experiment Page\" href={experimentURL}>{this.props.experiment.description}</a>\n                </div>\n                <div id=\"experimentOrganisms\">Organism(s): <span style={{\"fontStyle\":\"italic\"}}>{this.props.experiment.allSpecies}</span></div>\n            </div>\n        );\n    }\n\n});\n\nvar HighchartsHeatmapContainer = React.createClass({\n    propTypes: {\n        sourceURL: React.PropTypes.string.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        showAnatomogram:React.PropTypes.bool.isRequired,\n        isWidget: React.PropTypes.bool.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired,\n        disableGoogleAnalytics: React.PropTypes.bool.isRequired,\n        fail: React.PropTypes.func,\n        googleAnalyticsCallback: React.PropTypes.func,\n        ensemblEventEmitter : React.PropTypes.object.isRequired,\n        anatomogramEventEmitter: React.PropTypes.object.isRequired,\n        anatomogramDataEventEmitter: React.PropTypes.object\n    },\n\n    render: function () {\n\n    var geneURL =\n        this.props.linksAtlasBaseURL + \"/query\" +\n        \"?geneQuery=\" + this.state.heatmapConfig.geneQuery +\n        \"&exactMatch=\" + this.state.heatmapConfig.isExactMatch +\n        \"&organism=\" + this.state.heatmapConfig.species;\n\n        var display;\n        var marginLeft;\n\n        if (this.state.anatomogramData) {\n            display = this.props.showAnatomogram ? \"block\" : \"none\";\n            marginLeft = this.props.showAnatomogram ? \"270px\" : \"0\";\n        } else {\n            display = \"none\";\n            marginLeft = \"0\";\n        }\n\n    return (\n      <div ref=\"this\">\n          { this.state.experimentData ?\n              <ExperimentDescription experiment={this.state.experimentData} linksAtlasBaseURL={this.props.linksAtlasBaseURL}/>\n              : null\n          }\n\n          { this.state.heatmapConfig ?\n              <div id=\"heatmap-anatomogram\" className=\"gxaHeatmapAnatomogramRow\">\n\n                  <div ref=\"anatomogramEnsembl\" className=\"gxaAside\" style={{display: display}}>\n                      { this._shouldShowAnatomogram()\n                        ? <Anatomogram anatomogramData={this.state.anatomogramData}\n                                     expressedTissueColour={\"gray\"} hoveredTissueColour={\"red\"}\n                                     profileRows={this.state.profiles.rows} eventEmitter={this.props.anatomogramEventEmitter} atlasBaseURL={this.props.atlasBaseURL}/>\n                        : null\n                      }\n                  </div>\n\n                  <div id=\"heatmap-react\" className=\"gxaInnerHeatmap\" style={{marginLeft: marginLeft, display:\"block\"}}>\n                      <HighchartsHeatmap\n                          isMultiExperiment={this.props.isMultiExperiment}\n                          profiles={this.state.profiles}\n                          heatmapConfig={this.state.heatmapConfig}\n                          anatomogramEventEmitter={this.props.anatomogramEventEmitter}\n                          ensemblEventEmitter={this.props.ensemblEventEmitter}\n                          atlasBaseURL={this.props.atlasBaseURL}\n                          googleAnalyticsCallback={this.state.googleAnalyticsCallback}\n                          xAxisCategories={this.state.xAxisCategories}\n                          yAxisCategories={this.state.yAxisCategories}\n                          yAxisCategoriesLinks={this.state.yAxisCategoriesLinks}\n                          seriesDataNA={this.state.seriesDataNA}\n                          seriesDataNAString={this.state.seriesDataNAString}\n                          seriesDataBelowCutoff={this.state.seriesDataBelowCutoff}\n                          seriesDataBelowCutoffString={this.state.seriesDataBelowCutoffString}\n                          seriesDataRanges={this.state.seriesDataRanges}\n                      />\n                  </div>\n              </div>\n              :\n              <div ref=\"loadingImagePlaceholder\">\n                  <img src={this.props.atlasBaseURL + \"/resources/images/loading.gif\"}/>\n              </div>\n          }\n\n          { this.props.isWidget ?\n              <div><p><a href={geneURL}>See more expression data at Expression Atlas.</a>\n                  <br/>This expression view is provided by <a href={this.props.linksAtlasBaseURL}>Expression Atlas</a>.\n                  <br/>Please direct any queries or feedback to <a href=\"mailto:arrayexpress-atlas@ebi.ac.uk\">arrayexpress-atlas@ebi.ac.uk</a></p>\n              </div>\n              :\n              null\n          }\n\n      </div>\n      );\n    },\n\n    _shouldShowAnatomogram: function() {\n      return this.props.showAnatomogram && this._couldShowAnatomogram() ;\n    },\n\n    _couldShowAnatomogram: function() {\n      return this.state.anatomogramData && Object.keys(this.state.anatomogramData).length >0 ;\n    },\n\n    componentDidUpdate: function() {\n        /*\n        I am a hack and I attach event listeners to the labels.\n        There seems to be no way to do it in the HighchartsHeatmap component -\n        the labels that are selected when HighchartsHeatmap.componentDidUpdate is called are redrawn when both components appear on the screen\n        */\n        Snap.selectAll('.highcharts-yaxis-labels > *')\n        .forEach(function (v) {\n          //careful - if the label doesn't fit, the element will have two children: displayed and full title\n          //here we assume the longest text is the correct title of the experiment\n          var title =\n            v.selectAll('*').items\n            .map(function(c){return c.node.textContent})\n            .reduce(function(l,r){return l.length > r.length? l : r}, \"\");\n          if (title) {\n            v.hover(\n              function onMouseEnterSendTitle() {\n                this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', title);\n              }\n                ,\n                function onMouseLeaveSendNull() {\n                this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', null);\n              } , this, this);\n          }\n        }, this);\n\n        if (this.props.anatomogramDataEventEmitter) {\n            this.props.anatomogramDataEventEmitter.emit('existAnatomogramData', this._couldShowAnatomogram());\n        }\n    },\n\n    getInitialState: function() {\n        return {\n            heatmapConfig: '',\n            profiles: {\n                rows: [],\n                minExpressionLevel: 0,\n                maxExpressionLevel: 0\n            },\n            jsonCoexpressions : [],\n            geneSetProfiles: {},\n            anatomogramData: {},\n            googleAnalyticsCallback: function (){},\n\n            xAxisCategories: {},\n            yAxisCategories: {},\n            yAxisCategoriesLinks: {},\n\n            seriesDataNA: [],\n            seriesDataNAString: \"NA\",\n            seriesDataBelowCutoff: [],\n            seriesDataBelowCutoffString: \"Below cutoff\",\n\n            seriesDataRanges: []\n        }\n    },\n\n    componentDidMount: function() {\n        var httpRequest = {\n            url: this.props.sourceURL,\n            dataType: \"json\",\n            method: \"GET\"\n        };\n\n        $.ajax(httpRequest).done(\n            function (data) {\n                if (this.isMounted()) {\n\n                    // var orderedData = HighchartsUtils.rankColumns(data.profiles, data.columnHeaders);\n                    // var filteredDataByThreshold = HighchartsUtils.applyThresholdToColumns(orderedData.profiles, orderedData.columnHeaders, 40);\n                    // var rankedExperiments = HighchartsUtils.rankExperiments(filteredDataByThreshold.rows, filteredDataByThreshold.columnHeaders.length);\n                    // if (this.props.isMultiExperiment) {\n                    //     data.profiles.rows = HighchartsUtils.applyThresholdToRows(rankedExperiments, filteredDataByThreshold.columnHeaders, 40);\n                    // } else { //We don't apply threshold for reference experiments\n                    //     data.profiles.rows = rankedExperiments;\n                    // }\n\n                    // var xAxisCategories = HighchartsUtils.getXAxisCategories(filteredDataByThreshold.columnHeaders);\n                    var xAxisCategories = HighchartsUtils.getXAxisCategories(data.columnHeaders);\n                    var yAxisCategories = HighchartsUtils.getYAxisCategories(data.profiles, data.config);\n                    var yAxisCategoriesLinks = HighchartsUtils.getYAxisCategoriesLinks();\n\n                    var seriesDataNA = [],\n                        seriesDataNAString = \"NA\";\n\n                    var seriesDataBelowCutoff = [],\n                        seriesDataBelowCutoffString = \"Below cutoff\";\n\n                    var seriesDataRanges = [{\n                        label: \"Low\",\n                        from: 0,\n                        to: 10,\n                        seriesData: []\n                    }, {\n                        label: \"Medium\",\n                        from: 10,\n                        to: 1000,\n                        seriesData: []\n                    }, {\n                        label: \"High\",\n                        from: 1000,\n                        to: 100000,\n                        seriesData: []\n                    }];\n\n                    var experimentTypes = [];\n\n                    for (var i = 0; i < data.profiles.rows.length; i++) {\n                        if (experimentTypes.indexOf(data.profiles.rows[i].experimentType) === -1) {\n                            experimentTypes.push(data.profiles.rows[i].experimentType);\n                        }\n                    }\n\n                    for (var i = 0; i < experimentTypes.length; i++) {\n                        var experimentTypeSeriesData = [];\n\n                        for (var j = 0; j < yAxisCategories.length; j++) {\n                            if (data.profiles.rows[j].experimentType !== experimentTypes[i]) {\n                                continue;\n                            }\n\n                            for (var k = 0; k < xAxisCategories.length; k++) {\n                                var expression = data.profiles.rows[j].expressions[k];\n                                //we switched from strings to doubles in April 2016, after a release you can assume we serve doubles that are optionally absent to mean \"NT\"\n                                if (!expression.hasOwnProperty(\"value\") || expression.value === \"NT\") {\n                                    //seriesDataNA.push([k, j, seriesDataNAString]);\n                                    continue;\n                                } else if (!expression.value) {\n                                    seriesDataBelowCutoff.push([k, j, seriesDataBelowCutoffString]);\n                                } else {\n                                    experimentTypeSeriesData.push([k, j, +expression.value]);\n                                }\n                            }\n                        }\n\n                        experimentTypeSeriesData.sort(function(a, b) {\n                            return a[2] - b[2];\n                        });\n\n                        for (var k = 0; k < seriesDataRanges.length; k++) {\n                            experimentTypeSeriesData.filter(\n                                function(datum) {\n                                    return datum[2] > seriesDataRanges[k].from && datum[2] <= seriesDataRanges[k].to;\n                                }).forEach(\n                                function(filteredDatum) {\n                                    seriesDataRanges[k].seriesData.push(filteredDatum);\n                                });\n                        }\n                    }\n\n\n                    this.setState({\n                        heatmapConfig: data.config,\n                        columnHeaders: data.columnHeaders,\n                        nonExpressedColumnHeaders: data.nonExpressedColumnHeaders,\n                        profiles: data.profiles,\n                        jsonCoexpressions : data.jsonCoexpressions,\n                        geneSetProfiles: data.geneSetProfiles,\n                        anatomogramData: data.anatomogram,\n                        experimentData: data.experiment,\n\n                        xAxisCategories: xAxisCategories,\n                        yAxisCategories: yAxisCategories,\n                        yAxisCategoriesLinks: yAxisCategoriesLinks,\n\n                        seriesDataBelowCutoff: seriesDataBelowCutoff,\n                        seriesDataBelowCutoffString: seriesDataBelowCutoffString,\n                        seriesDataNA: seriesDataNA,\n                        seriesDataNAString: seriesDataNAString,\n                        seriesDataRanges: seriesDataRanges\n\n                    });\n                }\n            }.bind(this)\n        ).fail(\n            function (jqXHR, textStatus, errorThrown) {\n                if (this.props.fail) {\n                    this.props.fail(jqXHR, textStatus, errorThrown);\n                } else if (textStatus === \"parsererror\") {\n                    $(this.refs.this.getDOMNode()).html(\"<div class='gxaError'>Could not parse JSON response</div>\");\n                } else {\n                    $(this.refs.this.getDOMNode()).html(jqXHR.responseText);\n                }\n            }.bind(this)\n        );\n\n        if (!this.props.disableGoogleAnalytics) {\n            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n            ga('create', 'UA-37676851-1', 'auto');\n            ga('send', 'pageview');\n            this.setState({googleAnalyticsCallback: ga});\n        }\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HighchartsHeatmapContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar ReactHighcharts = require('react-highcharts');\nvar Highcharts = ReactHighcharts.Highcharts;\nrequire('highcharts-heatmap')(Highcharts);\n\n//*------------------------------------------------------------------*\n\nrequire('./HighchartsHeatmap.css');\nvar DownloadProfilesButton = require('download-profiles-button');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar HighchartsHeatmap = React.createClass({\n\n    propTypes: {\n        isMultiExperiment: React.PropTypes.bool.isRequired,\n        profiles: React.PropTypes.object.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        anatomogramEventEmitter : React.PropTypes.instanceOf(EventEmitter).isRequired,\n        ensemblEventEmitter : React.PropTypes.instanceOf(EventEmitter),\n        googleAnalyticsCallback: React.PropTypes.func.isRequired\n    },\n\n    getInitialState: function () {\n        return ({\n            xAxisCategories:{},\n            yAxisCategories:{},\n            yAxisCategoriesLinks: {},\n            seriesDataNA: [],\n            seriesDataNAString: \"NA\",\n            seriesDataBelowCutoff: [],\n            seriesDataBelowCutoffString: \"Below cutoff\",\n            seriesDataRanges: [\n                {\n                    label: \"Low\",\n                    from: 0,\n                    to: 10,\n                    seriesData: []\n                },\n                {\n                    label: \"Medium\",\n                    from: 10,\n                    to: 1000,\n                    seriesData: []\n                },\n                {\n                    label: \"High\",\n                    from: 1000,\n                    to: 100000,\n                    seriesData: []\n                }\n            ],\n\n            legend_0: false,\n            legend_1: false,\n            legend_2: false,\n            legend_3: false\n\n        })\n    },\n\n    _handleClick: function (index) {\n        if (index == 0) {\n            this.setState({legend_0: !this.state.legend_0});\n        }\n        else if (index == 1) {\n            this.setState({legend_1: !this.state.legend_1});\n        }\n        else if (index == 2) {\n            this.setState({legend_2: !this.state.legend_2});\n        }\n        else if (index == 3) {\n            this.setState({legend_3: !this.state.legend_3});\n        }\n    },\n\n    _anatomogramTissueMouseEnter: function(svgPathId) {\n        Highcharts.fireEvent(this.refs.chart.getChart(), 'handleGxaAnatomogramTissueMouseEnter', {svgPathId: svgPathId});\n    },\n\n    _anatomogramTissueMouseLeave: function(svgPathId) {\n        Highcharts.fireEvent(this.refs.chart.getChart(), 'handleGxaAnatomogramTissueMouseLeave', {svgPathId: svgPathId});\n    },\n\n    _registerListenerIfNecessary(name, fn) {\n      if (this.props.anatomogramEventEmitter &&\n          this.props.anatomogramEventEmitter._events &&\n          !this.props.anatomogramEventEmitter._events.hasOwnProperty(name)) {\n              this.props.anatomogramEventEmitter.addListener(name, fn);\n          }\n    },\n\n    componentDidMount: function () {\n        this._registerListenerIfNecessary('gxaAnatomogramTissueMouseEnter', this._anatomogramTissueMouseEnter);\n        this._registerListenerIfNecessary('gxaAnatomogramTissueMouseLeave', this._anatomogramTissueMouseLeave);\n    },\n\n    componentDidUpdate: function () {\n        this._registerListenerIfNecessary('gxaAnatomogramTissueMouseEnter', this._anatomogramTissueMouseEnter);\n        this._registerListenerIfNecessary('gxaAnatomogramTissueMouseLeave', this._anatomogramTissueMouseLeave);\n        var heatmap = this.refs.chart.getChart();\n\n        this.state.legend_0 ? heatmap.series[0].hide() : heatmap.series[0].show();\n        this.state.legend_1 ? heatmap.series[1].hide() : heatmap.series[1].show();\n        this.state.legend_2 ? heatmap.series[2].hide() : heatmap.series[2].show();\n        this.state.legend_3 ? heatmap.series[3].hide() : heatmap.series[3].show();\n\n    },\n\n    _showCount: function() {\n        var shownRows = this.props.profiles.rows.length,\n            totalRows = this.props.profiles.searchResultTotal;\n\n        var what =\n            (this.props.isMultiExperiment ? 'experiment' : 'gene') +\n            (totalRows > 1 ? 's' : '');\n\n        var message = 'Showing ' + shownRows + ' ' +\n            (totalRows === shownRows ? what + ':' : 'of ' + totalRows + ' ' + what + ' found:');\n\n        return (\n            <div style={{display: 'inline-block', verticalAlign: 'top'}}>\n                {message}\n            </div>\n        );\n    },\n\n    _showZoomInstructions: function() {\n        return (\n            <div style={{fontSize: 'small', color: 'grey'}}>\n                To zoom in, click and drag left/right, or tap with two fingers and pinch\n            </div>\n        )\n    },\n\n    render: function () {\n        var atlasBaseURL = this.props.atlasBaseURL;\n        var yAxisCategoriesLinks = this.props.yAxisCategoriesLinks;\n        var yAxisCategories = this.props.yAxisCategories;\n\n        var xAxisLongestHeaderLength =\n            Math.max.apply(null, this.props.xAxisCategories.map(function(category) {return category.label.length}));\n\n        var marginTop =\n            this.props.xAxisCategories.length < 10 ? 30 :   // labels aren’t tilted\n                this.props.xAxisCategories.length < 50 ? Math.min(150, Math.round(xAxisLongestHeaderLength * 3.75)) : // labels at -45°\n                    Math.min(250, Math.round(xAxisLongestHeaderLength * 5.5));   // labels at -90°\n\n        var marginRight = 60;\n\n        var highchartsOptions = {\n            plotOptions: {\n                heatmap: {\n                    turboThreshold: 0\n                },\n                series: {\n                    point: {\n                        events: {\n                            mouseOver: function() {\n                                this.series.chart.userOptions.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', this.series.xAxis.categories[this.x].id);\n                            }\n                        }\n                    },\n                    events: {\n                        mouseOut: function () {\n                            this.chart.userOptions.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', null);\n                        }\n                    },\n\n                    states: {\n                        hover: {\n                            color: '#eeec38' //#edab12 color cell on mouse over\n                        },\n                        select: {\n                            color: '#eeec38'\n                        }\n                    }\n                }\n            },\n            credits: {\n                enabled: false //remove Highcharts text in the bottom right corner\n            },\n            chart: {\n                type: 'heatmap',\n                marginTop: marginTop,\n                marginRight: marginRight, //leave space for tilted long headers\n                spacingTop: 0,\n                plotBorderWidth: 1,\n                height: Math.max(70, yAxisCategories.length * 30 + marginTop),\n                zoomType: 'x',\n                events: {\n                  handleGxaAnatomogramTissueMouseEnter: function(e) {\n                    Highcharts.each(this.series, function (series) {\n                        Highcharts.each(series.points, function (point) {\n                            if (point.series.xAxis.categories[point.x].id === e.svgPathId) {\n                                point.select(true, true);\n                            }\n                        });\n                    });\n                  },\n                  handleGxaAnatomogramTissueMouseLeave: function(e) {\n                    var points = this.getSelectedPoints();\n                    if (points.length > 0) {\n                        Highcharts.each(points, function (point) {\n                            point.select(false);\n                        });\n                    }\n                  }\n                }\n            },\n            legend: {\n                enabled: false\n            },\n            title: null,\n            xAxis: { //tissues\n                tickLength: 5,\n                tickColor: 'rgb(192, 192, 192)',\n                lineColor: 'rgb(192, 192, 192)',\n                labels: {\n                    style: {\n                        fontSize: '9px',\n                        textOverflow: 'ellipsis'\n                    },\n                    autoRotation: [-45, -90],\n                    formatter: function() {\n                        return this.value.label;\n                    }\n                },\n                opposite: 'true',\n                categories: this.props.xAxisCategories\n            },\n            yAxis: { //experiments\n                useHTML: true,\n                reversed: true,\n                labels: {\n                    style: {\n                        fontSize: '10px',\n                        color: '#148ff3'\n                    },\n                    formatter: function() {\n                        return '<a href=\"' + atlasBaseURL +'/experiments/' + yAxisCategoriesLinks[this.value] + '\">' + this.value + '</a>';\n                    }\n                },\n                categories: this.props.yAxisCategories,\n                title: null,\n                gridLineWidth: 0,\n                minorGridLineWidth: 0,\n                endOnTick: false\n            },\n            tooltip: {\n                useHTML: true,\n                formatter: function() {\n                    return 'Sample name: <b>' + this.series.yAxis.categories[this.point.y] + '</b><br>' +\n                        'Experimental condition: <b>' + this.series.xAxis.categories[this.point.x].label + '</b><br>' +\n                        '<span style=\"border:1px rgb(192, 192, 192) solid; margin-right: 2px; width:6px; height:6px; display:inline-block; background-color:' + this.point.color + ';\"></span>' +\n                        'Expression level: <b>' + this.point.value + '</b>';\n                }\n            },\n            anatomogramEventEmitter: this.props.anatomogramEventEmitter,\n            ensemblEventEmitter: this.props.ensemblEventEmitter,\n            series: [{\n                name: this.props.seriesDataBelowCutoffString,\n                color: \"#eaeaea\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataBelowCutoff\n            }, {\n                name: this.props.seriesDataRanges[0].label,\n                color: \"#45affd\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataRanges[0].seriesData\n            }, {\n                name: this.props.seriesDataRanges[1].label,\n                color: \"#1E74CA\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataRanges[1].seriesData\n            }, {\n                name: this.props.seriesDataRanges[2].label,\n                color: \"#024990\",\n                borderWidth: 1,\n                borderColor: \"#fff\",\n                data: this.props.seriesDataRanges[2].seriesData\n            }]\n        };\n\n        var clsName_0 = this.state.legend_0 ? 'legend-item legend-item-off' : 'legend-item special';\n        var clsName_1 = this.state.legend_1 ? 'legend-item legend-item-off' : 'legend-item special';\n        var clsName_2 = this.state.legend_2 ? 'legend-item legend-item-off' : 'legend-item special';\n        var clsName_3 = this.state.legend_3 ? 'legend-item legend-item-off' : 'legend-item special';\n\n        var barcharts_legend = (\n            <div id =\"barcharts_legend_list_items\" ref=\"barcharts_legend_items\">\n                <div id=\"legend_0\" ref=\"legend_1\" className={clsName_0} >\n                    <div className=\"legend-rectangle col_below\"></div>\n                    <span style={{verticalAlign: \"middle\"}}>Below cutoff</span>\n                </div>\n                <div id=\"legend_1\" className={clsName_1} >\n                    <div className=\"legend-rectangle col_low\"></div>\n                    <span style={{verticalAlign: \"middle\"}}>Low</span>\n                </div>\n                <div id=\"legend_2\" className={clsName_2} >\n                    <div className=\"legend-rectangle col_med\"></div>\n                    <span style={{verticalAlign: \"middle\"}}>Medium</span>\n                </div>\n                <div id=\"legend_3\" className={clsName_3} >\n                    <div className=\"legend-rectangle col_high\"></div>\n                    <span style={{verticalAlign: \"middle\"}}>High</span>\n                </div>\n\n                <div className=\"legend-item special\">\n                    <span className=\"icon icon-generic\" data-icon=\"i\" data-toggle=\"tooltip\" data-placement=\"bottom\"\n                          title=\"This range of values indicates gene expression level across different experimental conditions (e.g. tissues). It is calculated differently between RNA and proteomics experiments.\">\n                    </span>\n                </div>\n\n                <div id=\"legend_4\" className=\"legend-item special\">\n                    <div className=\"legend-rectangle col_nd\"></div>\n                    <span style={{verticalAlign: \"middle\"}}>No data available</span>\n                </div>\n            </div>\n        );\n\n        return (\n            <div>\n                <div ref=\"countAndLegend\" className=\"gxaHeatmapCountAndLegend\" style={{paddingBottom: '15px', position: 'sticky'}}>\n                    {this._showCount()}\n                    <div style={{display: \"inline-block\", verticalAlign: \"top\", float: \"right\", marginRight: marginRight}}>\n                        <DownloadProfilesButton ref=\"downloadProfilesButton\"\n                                                downloadProfilesURL={this.props.heatmapConfig.downloadProfilesURL}\n                                                atlasBaseURL={this.props.atlasBaseURL}\n                                                isFortLauderdale={this.props.heatmapConfig.isFortLauderdale}\n                                                onDownloadCallbackForAnalytics={function() {this.props.googleAnalyticsCallback('send', 'event', 'HeatmapHighcharts', 'downloadData')}.bind(this)}/>\n                    </div>\n                    {this.props.xAxisCategories.length > 100 ? this._showZoomInstructions() : null}\n                </div>\n\n                <div id=\"highcharts_container\">\n                    <ReactHighcharts config={highchartsOptions} ref=\"chart\"/>\n                    {barcharts_legend}\n                </div>\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HighchartsHeatmap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.jsx\n **/","/*\n Highcharts JS v4.2.3 (2016-02-08)\n\n (c) 2011-2016 Torstein Honsi\n\n License: www.highcharts.com/license\n*/\n(function(d){typeof module===\"object\"&&module.exports?module.exports=d:d(Highcharts)})(function(d){var m=d.Axis,q=d.Chart,i=d.Color,x=d.Legend,s=d.LegendSymbolMixin,t=d.Series,y=d.Point,u=d.getOptions(),h=d.each,r=d.extend,v=d.extendClass,j=d.merge,k=d.pick,o=d.seriesTypes,w=d.wrap,n=function(){},p=d.ColorAxis=function(){this.isColorAxis=!0;this.init.apply(this,arguments)};r(p.prototype,m.prototype);r(p.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,\nstartOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:\"gray\",width:0.01},labels:{overflow:\"justify\"},minColor:\"#EFEFFF\",maxColor:\"#003875\",tickLength:5},init:function(a,b){var c=a.options.legend.layout!==\"vertical\",f;f=j(this.defaultColorAxisOptions,{side:c?2:1,reversed:!c},b,{opposite:!c,showEmpty:!1,title:null,isColor:!0});m.prototype.init.call(this,a,f);b.dataClasses&&this.initDataClasses(b);this.initStops(b);this.horiz=c;this.zoomEnabled=!1},tweenColors:function(a,b,c){var f;\n!b.rgba.length||!a.rgba.length?a=b.input||\"none\":(a=a.rgba,b=b.rgba,f=b[3]!==1||a[3]!==1,a=(f?\"rgba(\":\"rgb(\")+Math.round(b[0]+(a[0]-b[0])*(1-c))+\",\"+Math.round(b[1]+(a[1]-b[1])*(1-c))+\",\"+Math.round(b[2]+(a[2]-b[2])*(1-c))+(f?\",\"+(b[3]+(a[3]-b[3])*(1-c)):\"\")+\")\");return a},initDataClasses:function(a){var b=this,c=this.chart,f,e=0,l=this.options,g=a.dataClasses.length;this.dataClasses=f=[];this.legendItems=[];h(a.dataClasses,function(a,d){var h,a=j(a);f.push(a);if(!a.color)l.dataClassColor===\"category\"?\n(h=c.options.colors,a.color=h[e++],e===h.length&&(e=0)):a.color=b.tweenColors(i(l.minColor),i(l.maxColor),g<2?0.5:d/(g-1))})},initStops:function(a){this.stops=a.stops||[[0,this.options.minColor],[1,this.options.maxColor]];h(this.stops,function(a){a.color=i(a[1])})},setOptions:function(a){m.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker;this.coll=\"colorAxis\"},setAxisSize:function(){var a=this.legendSymbol,b=this.chart,c,f,e;if(a)this.left=c=a.attr(\"x\"),this.top=f=a.attr(\"y\"),\nthis.width=e=a.attr(\"width\"),this.height=a=a.attr(\"height\"),this.right=b.chartWidth-c-e,this.bottom=b.chartHeight-f-a,this.len=this.horiz?e:a,this.pos=this.horiz?c:f},toColor:function(a,b){var c,f=this.stops,e,l=this.dataClasses,g,d;if(l)for(d=l.length;d--;){if(g=l[d],e=g.from,f=g.to,(e===void 0||a>=e)&&(f===void 0||a<=f)){c=g.color;if(b)b.dataClass=d;break}}else{this.isLog&&(a=this.val2lin(a));c=1-(this.max-a)/(this.max-this.min||1);for(d=f.length;d--;)if(c>f[d][0])break;e=f[d]||f[d+1];f=f[d+1]||\ne;c=1-(f[0]-c)/(f[0]-e[0]||1);c=this.tweenColors(e.color,f.color,c)}return c},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];if(a){this.axisParent=a;m.prototype.getOffset.call(this);if(!this.added)this.added=!0,this.labelLeft=0,this.labelRight=this.width;this.chart.axisOffset[this.side]=b}},setLegendColor:function(){var a,b=this.options,c=this.reversed;a=c?1:0;c=c?0:1;a=this.horiz?[a,0,c,0]:[0,c,0,a];this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},\nstops:b.stops||[[0,b.minColor],[1,b.maxColor]]}},drawLegendSymbol:function(a,b){var c=a.padding,f=a.options,e=this.horiz,d=k(f.symbolWidth,e?200:12),g=k(f.symbolHeight,e?12:200),h=k(f.labelPadding,e?16:30),f=k(f.itemDistance,10);this.setLegendColor();b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,d,g).attr({zIndex:1}).add(b.legendGroup);this.legendItemWidth=d+c+(e?f:h);this.legendItemHeight=g+c+(e?h:0)},setState:n,visible:!0,setVisible:n,getSeriesExtremes:function(){var a;if(this.series.length)a=\nthis.series[0],this.dataMin=a.valueMin,this.dataMax=a.valueMax},drawCrosshair:function(a,b){var c=b&&b.plotX,f=b&&b.plotY,e,d=this.pos,g=this.len;if(b)e=this.toPixels(b[b.series.colorKey]),e<d?e=d-2:e>d+g&&(e=d+g+2),b.plotX=e,b.plotY=this.len-e,m.prototype.drawCrosshair.call(this,a,b),b.plotX=c,b.plotY=f,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup)},getPlotLinePath:function(a,b,c,f,e){return typeof e===\"number\"?this.horiz?[\"M\",e-4,this.top-6,\"L\",e+4,this.top-6,e,\nthis.top,\"Z\"]:[\"M\",this.left,e,\"L\",this.left-6,e+6,this.left-6,e-6,\"Z\"]:m.prototype.getPlotLinePath.call(this,a,b,c,f)},update:function(a,b){var c=this.chart,f=c.legend;h(this.series,function(a){a.isDirtyData=!0});if(a.dataClasses&&f.allItems)h(f.allItems,function(a){a.isDataClass&&a.legendGroup.destroy()}),c.isDirtyLegend=!0;c.options[this.coll]=j(this.userOptions,a);m.prototype.update.call(this,a,b);this.legendItem&&(this.setLegendColor(),f.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var a=\nthis,b=this.chart,c=this.legendItems,f=b.options.legend,e=f.valueDecimals,l=f.valueSuffix||\"\",g;c.length||h(this.dataClasses,function(f,m){var i=!0,j=f.from,k=f.to;g=\"\";j===void 0?g=\"< \":k===void 0&&(g=\"> \");j!==void 0&&(g+=d.numberFormat(j,e)+l);j!==void 0&&k!==void 0&&(g+=\" - \");k!==void 0&&(g+=d.numberFormat(k,e)+l);c.push(r({chart:b,name:g,options:{},drawLegendSymbol:s.drawRectangle,visible:!0,setState:n,isDataClass:!0,setVisible:function(){i=this.visible=!i;h(a.series,function(a){h(a.points,\nfunction(a){a.dataClass===m&&a.setVisible(i)})});b.legend.colorizeItem(this,i)}},f))});return c},name:\"\"});h([\"fill\",\"stroke\"],function(a){d.Fx.prototype[a+\"Setter\"]=function(){this.elem.attr(a,p.prototype.tweenColors(i(this.start),i(this.end),this.pos))}});w(q.prototype,\"getAxes\",function(a){var b=this.options.colorAxis;a.call(this);this.colorAxis=[];b&&new p(this,b)});w(x.prototype,\"getAllItems\",function(a){var b=[],c=this.chart.colorAxis[0];c&&(c.options.dataClasses?b=b.concat(c.getDataClassLegendSymbols()):\nb.push(c),h(c.series,function(a){a.options.showInLegend=!1}));return b.concat(a.call(this))});q={pointAttrToOptions:{stroke:\"borderColor\",\"stroke-width\":\"borderWidth\",fill:\"color\",dashstyle:\"dashStyle\"},pointArrayMap:[\"value\"],axisTypes:[\"xAxis\",\"yAxis\",\"colorAxis\"],optionalAxis:\"colorAxis\",trackerGroups:[\"group\",\"markerGroup\",\"dataLabelsGroup\"],getSymbol:n,parallelArrays:[\"x\",\"y\",\"value\"],colorKey:\"value\",translateColors:function(){var a=this,b=this.options.nullColor,c=this.colorAxis,f=this.colorKey;\nh(this.data,function(e){var d=e[f];if(d=e.options.color||(d===null?b:c&&d!==void 0?c.toColor(d,e):e.color||a.color))e.color=d})}};u.plotOptions.heatmap=j(u.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:\"#F8F8F8\",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:\"middle\",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:\"{point.x}, {point.y}: {point.value}<br/>\"},states:{normal:{animation:!0},hover:{halo:!1,brightness:0.2}}});\no.heatmap=v(o.scatter,j(q,{type:\"heatmap\",pointArrayMap:[\"y\",\"value\"],hasPointSpecificOptions:!0,pointClass:v(y,{setVisible:function(a){var b=this,c=a?\"show\":\"hide\";h([\"graphic\",\"dataLabel\"],function(a){if(b[a])b[a][c]()})}}),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var a;o.scatter.prototype.init.apply(this,arguments);a=this.options;a.pointRange=k(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1},translate:function(){var a=this.options,b=this.xAxis,\nc=this.yAxis,f=function(a,b,c){return Math.min(Math.max(b,a),c)};this.generatePoints();h(this.points,function(e){var d=(a.colsize||1)/2,g=(a.rowsize||1)/2,h=f(Math.round(b.len-b.translate(e.x-d,0,1,0,1)),0,b.len),d=f(Math.round(b.len-b.translate(e.x+d,0,1,0,1)),0,b.len),i=f(Math.round(c.translate(e.y-g,0,1,0,1)),0,c.len),g=f(Math.round(c.translate(e.y+g,0,1,0,1)),0,c.len);e.plotX=e.clientX=(h+d)/2;e.plotY=(i+g)/2;e.shapeType=\"rect\";e.shapeArgs={x:Math.min(h,d),y:Math.min(i,g),width:Math.abs(d-h),\nheight:Math.abs(g-i)}});this.translateColors();this.chart.hasRendered&&h(this.points,function(a){a.shapeArgs.fill=a.options.color||a.color})},drawPoints:o.column.prototype.drawPoints,animate:n,getBox:n,drawLegendSymbol:s.drawRectangle,getExtremes:function(){t.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;t.prototype.getExtremes.call(this)}}))});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/highcharts-heatmap/heatmap.js\n ** module id = 1272\n ** module chunks = 4\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmap.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmap.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmap.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css\n ** module id = 1273\n ** module chunks = 4\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gene_title {\\n    text-align: center;\\n    font-size: 70%;\\n    border: 0 red solid;\\n}\\n\\n#container {\\n    min-width: 410px;\\n    min-height: 210px;\\n    margin: 0 auto; /*avoid line overlap*/\\n    border: 0 red solid;\\n}\\n\\n#barcharts_legend_list_items {\\n    color: #606060;\\n    margin-left: 180px;\\n    border: 0 solid olive;\\n}\\n\\n.col_below {\\n    background: #d7d7d7;\\n}\\n\\n.col_low {\\n    background: #45affd;\\n}\\n\\n.col_med {\\n    background: #1E74CA/**#9fd2fa**/;\\n}\\n\\n.col_high {\\n    background: #024990/**#dff8ff**/;\\n}\\n\\n.col_nd {\\n    background: #fff;\\n}\\n\\n#barcharts_legend_list_items .legend-text {\\n    display: inline-block;\\n    padding: 4px;\\n    vertical-align: middle;\\n}\\n\\n#barcharts_legend_list_items .legend-item {\\n    cursor: pointer;\\n    display: inline-block;\\n    padding: 4px;\\n    vertical-align: middle;\\n}\\n\\n#barcharts_legend_list_items .legend-item:hover {\\n    color: black;\\n}\\n\\n#barcharts_legend_list_items .legend-item.legend-item-off {\\n    color: #ccc;\\n}\\n\\n#barcharts_legend_list_items .legend-item.legend-item-off div {\\n    background-color: #f7f7f7;\\n}\\n\\n#barcharts_legend_list_items .legend-item.special {\\n    cursor: default;\\n    margin-left: 8px;\\n    color: black;\\n}\\n\\n#barcharts_legend_list_items .legend-item .legend-rectangle {\\n    width: 12px;\\n    height: 12px;\\n    border: 1px rgba(0, 0, 0, 0.2) solid;\\n    display: inline-block;\\n    margin-right: 4px;\\n    vertical-align: middle;\\n}\\n\\n#barcharts_legend_list_items .legend-item .icon-generic:before {\\n    font-size: 180%;\\n    color: #7e7e7e;\\n}\\n\\n#barcharts_legend_list_items .legend-item:hover .icon-generic:before {\\n    color: #353535;\\n}\\n\\n/*****************************************EBI font*******************************************************/\\n@font-face {\\n    font-family: 'EBI-Conceptual';\\n    src: url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.eot');\\n    src: url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.eot?#iefix') format('embedded-opentype'),\\n    url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.woff') format('woff'),\\n    local('\\\\263A'),\\n    url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.svg#EBI-Conceptual') format('svg'),\\n    url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Conceptual/fonts/EBI-Conceptual.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n@font-face {\\n    font-family: 'EBI-Functional';\\n    src: url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.eot');\\n    src: url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.eot?#iefix') format('embedded-opentype'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.woff') format('woff'),\\n    local('\\\\263A'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.svg#EBI-Functional') format('svg'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Functional/fonts/EBI-Functional.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n@font-face {\\n    font-family: 'EBI-Generic';\\n    src: url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.eot');\\n    src: url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.eot?#iefix') format('embedded-opentype'),\\n    url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.woff') format('woff'),\\n    local('\\\\263A'),\\n    url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.svg#EBI-Generic') format('svg'),\\n    url('http://www.ebi.ac.uk//web_guidelines/fonts/EBI-Generic/fonts/EBI-Generic.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n@font-face {\\n    font-family: 'EBI-Species';\\n    src: url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot');\\n    src: url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.eot?#iefix') format('embedded-opentype'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.woff') format('woff'),\\n    local('\\\\263A'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.svg#EBI-Species') format('svg'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-Species/fonts/EBI-Species.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n@font-face {\\n    font-family: 'EBI-SocialMedia';\\n    src: url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.eot');\\n    src: url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.eot?#iefix') format('embedded-opentype'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.woff') format('woff'),\\n    local('\\\\263A'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.svg#EBI-Species') format('svg'),\\n    url('http://www.ebi.ac.uk/web_guidelines/fonts/EBI-SocialMedia/fonts/EBI-SocialMedia.ttf') format('truetype');\\n    font-weight: normal;\\n    font-style: normal\\n}\\n\\n.icon-socialmedia:before {\\n    font-family: 'EBI-SocialMedia';\\n    margin: 0 0.3em 0 0;\\n    content: attr(data-icon);\\n    color: white;\\n    font-size: 100%;\\n}\\n\\n.icon-conceptual:before {\\n    font-family: 'EBI-Conceptual';\\n    margin: 0 0.3em 0 0;\\n    content: attr(data-icon);\\n    color: #7e7e7e;\\n    font-size: 180%;\\n}\\n\\n.icon-species:before {\\n    font-family: 'EBI-Species';\\n    font-size: 100%;\\n    color: white;\\n    content: attr(data-icon);\\n    margin: 0 0 0 0;\\n}\\n\\n.icon {\\n    text-decoration: none;\\n    font-style: normal;\\n}\\n\\n.icon-static:before, .icon-generic:before {\\n    font-family: 'EBI-Generic';\\n    font-size: 100%;\\n    color: #BBB;\\n    content: attr(data-icon);\\n    margin: 0 0 0 0;\\n}\\n\\n.icon-functional:before {\\n    font-family: 'EBI-Functional';\\n    font-size: 100%;\\n    color: white;\\n    content: attr(data-icon);\\n    margin: 0 0.3em 0 0;\\n}\\n\\n/*****************************************END EBI font*******************************************************/\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/css-loader!./expression-atlas-heatmap-highcharts/src/HighchartsHeatmap.css\n ** module id = 1274\n ** module chunks = 4\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/css-loader/lib/css-base.js\n ** module id = 1275\n ** module chunks = 4\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/style-loader/addStyles.js\n ** module id = 1276\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/DownloadProfilesButton.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/download-profiles-button/index.js\n ** module id = 1277\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar Modal = require('react-bootstrap/lib/Modal');\nvar Button = require('react-bootstrap/lib/Button');\nvar Glyphicon = require('react-bootstrap/lib/Glyphicon');\nvar Tooltip = require('react-bootstrap/lib/Tooltip');\nvar OverlayTrigger = require('react-bootstrap/lib/OverlayTrigger');\n\nvar BlueprintText = require('./BlueprintText.jsx');\n\n//*------------------------------------------------------------------*\n\n\n\n//*------------------------------------------------------------------*\nvar DownloadProfilesButton = React.createClass({\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        downloadProfilesURL: React.PropTypes.string.isRequired,\n        isFortLauderdale: React.PropTypes.bool.isRequired,\n        onDownloadCallbackForAnalytics: React.PropTypes.func.isRequired\n    },\n    getInitialState: function() {\n        return { showModal: false };\n    },\n\n    _closeModal: function() {\n        this.setState({ showModal: false });\n    },\n\n    _afterDownloadButtonClicked: function() {\n        if(!this.props.isFortLauderdale) {\n            this._commenceDownload();\n        } else {\n            this.setState({ showModal: true });\n        }\n    },\n\n    _commenceDownload: function() {\n        this.props.onDownloadCallbackForAnalytics();\n        window.location.href=this.props.atlasBaseURL + this.props.downloadProfilesURL;\n    },\n\n    _commenceDownloadAndCloseModal: function() {\n        this._commenceDownload();\n        this._closeModal();\n    },\n\n    render: function() {\n        return (\n            <a ref=\"downloadProfilesLink\" onClick={this._afterDownloadButtonClicked}>\n                <Button bsStyle=\"primary\" bsSize=\"xsmall\"><Glyphicon style={{verticalAlign: 'middle', paddingBottom: '2px'}} glyph=\"download-alt\"/><span style={{verticalAlign: 'middle', paddingTop: '2px'}}> Download all results</span></Button>\n\n                <Modal show={this.state.showModal} onHide={this._closeModal} bsSize=\"large\">\n                    <Modal.Header closeButton>\n                    </Modal.Header>\n                    <Modal.Body style={{maxHeight: '360px'}}>\n                        <BlueprintText/>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button onClick={this._closeModal}>Close</Button>\n                        <Button bsStyle=\"primary\" onClick={this._commenceDownloadAndCloseModal}>Continue downloading</Button>\n                    </Modal.Footer>\n                </Modal>\n            </a>\n        );\n    }\n});\n\nmodule.exports = DownloadProfilesButton;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/~/download-profiles-button/src/DownloadProfilesButton.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar BlueprintText = React.createClass({\n    render: function() {\n        return (\n            <div>\n                <meta charSet=\"UTF-8\" />\n                <title>The Blueprint project Data Reuse statement</title>\n                <h3>The Blueprint project Data Reuse statement</h3>\n                <br />\n                <p>This document refers to the reuse of data generated by the EC funded FP7 High Impact Project, Blueprint.</p>\n                <p>Blueprint regularly released analysis results via its ftp site and makes the raw sequence data available through the sequence archives at the EMBL-EBI. Much Blueprint data is generated from samples whose data must be released through a managed access process. For these data sets external users must apply for permission to access the data from the European Genome-phenome Archive (EGA) through the Blueprint Data Access Committee.\n                    <br />\n                    The Blueprint consortium expects this data to be valuable to other researchers and in keeping with Fort Lauderdale principles data users may use the data for many studies, but are expected to allow the data producers to make the first presentations and to publish the first paper with global analyses of the data.\n                </p>\n                <h5>Global analyses of Project data</h5>\n                <p>\n                    Blueprint plans to publish global analyses of the sequencing data, epigenetic marks, expression levels and variation both in the context of normal hematopoietic cells and of those neoplastic and non-neoplastic diseases studied within th econsortium. Talks, posters, and papers on all such analyses are to be published first by the Blueprint project, by approved presenters on behalf of the Project, with the Project as author. When the first major Project paper on these analyses is published, then researchers inside and outside the Project are free to present and publish using the Project data for these and other analyses.\n                </p>\n                <h5>Large-scale analyses of Project data</h5>\n                <p>\n                    Groups within the Project may make presentations and publish papers on more extensive analyses of topics to be included in the main analysis presentations and papers, coincident with the main project analysis presentations and papers. The major points would be included in the main Project presentations and papers, but these additional presentations and papers allow more focused discussion of methods and results. The author list would include the Consortium.\n                </p>\n                <h5>Methods development using Project data</h5>\n                <p>\n                    Researchers who have used small amounts of Project data (&lt;= one chromosome) may present methods development posters, talks, and papers that include these data prior to the first major Project paper, without needing Project approval or authorship, although the Project should be acknowledged. Methods presentations or papers on global analyses or analyses using large amounts of Project data, on topics that the Consortium plans to examine, would be similar to large-scale analyses of Project data: researchers within the Project may make presentations or submit papers at the same time as the main Project presentations and papers, and others could do so after the Project publishes the first major analysis paper.\n                </p>\n                <h5>Disease studies using Project data</h5>\n                <p>\n                    Researchers may present and publish on use of Project data in specific chromosome regions (that are not of general interest) or as summaries (such as number of differentially expressed genes in cell types assayed by Blueprint) for studies on diseases not studied by BLUEPRINT without Project approval, prior to the first major Project paper being published. The Project should not be listed as an author.\n                </p>\n                <h5>Authors who use data from the project must acknowledge Blueprint using the following wording</h5>\n                <p>\n                    This study makes use of data generated by the Blueprint Consortium. A full list of the investigators who contributed to the generation of the data is available from www.blueprint-epigenome.eu. Funding for the project was provided by the European Union's Seventh Framework Programme (FP7/2007-2013) under grant agreement no 282510 BLUEPRINT.\n                </p>\n            </div>\n        );\n    }\n});\n\nmodule.exports = BlueprintText;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/~/download-profiles-button/src/BlueprintText.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nfunction getXAxisCategories (columnHeaders) {\n    return columnHeaders.map(function (columnHeader) {\n        return {\"label\": columnHeader.factorValue, \"id\" : columnHeader.factorValueOntologyTermId};\n    });\n}\n\nvar yAxisCategoriesLinks = {};\n\nfunction getYAxisCategories (profiles, heatmapConfig) {\n\n    return profiles.rows.map(function (profile) {\n        yAxisCategoriesLinks[profile.name] = profile.id + \"?geneQuery=\" + heatmapConfig.geneQuery +\n            \"&serializedFilterFactors=\" + encodeURIComponent(profile.serializedFilterFactors);\n        return profile.name;\n    });\n}\n\nfunction getYAxisCategoriesLinks () {\n    return yAxisCategoriesLinks;\n}\n\nfunction compareLevels(a,b) {\n    var a1 = parseFloat( a.value );\n    var b1 = parseFloat( b.value );\n\n    //Both are numbers\n    if( !isNaN(a1) && !isNaN(b1) ) return a1 > b1 ? -1: 1;\n\n    //a IS number\n    if( !isNaN(a1) )  return -1;\n\n    //b IS number\n    if( !isNaN(b1) ) return 1;\n\n    return a.value.localeCompare(b.value);\n    // return a > b ? 1 : -1;\n}\n\nfunction initializeRanking(cols) {\n    var rank_array = [];\n    for(var i=0; i<cols; i++) {\n        rank_array[i] = 0;\n    }\n\n    return rank_array;\n}\n\nfunction rankColumns (profiles, columnHeaders) {\n    var rank_array = initializeRanking(columnHeaders.length);\n\n    for (var i=0; i < profiles.rows.length; i++) {\n        var mapped = profiles.rows[i].expressions.map(function(el, i) {\n            return { index: i, value: el.value, factorName: el.factorName, color: el.color };\n        });\n\n        //Compare the level values for each expression within each row and sort them\n        var sorted_array = mapped.sort(compareLevels);\n        // Rank levels\n        for (var j=0; j < sorted_array.length; j++) {\n            var ind = sorted_array[j].index;\n            rank_array[ind] = rank_array[ind] + j + 1;\n        }\n    }\n\n    //Avg rank_array by rows\n    var rank_avg = [];\n    for(var i=0; i<rank_array.length; i++) {\n        rank_avg[i] = rank_array[i] / profiles.rows.length;\n    }\n\n    var avg_mapped = rank_avg.map(function(el, i) {\n        return { index: i, value: el}\n    });\n\n    //Sort tissues by increasing average rank\n    var sort_tissues = avg_mapped.sort(function (a,b) {\n        return a.value-b.value;\n    });\n\n    //Modify the rows\n    for (var i=0; i< profiles.rows.length; i++) {\n        var expressions = profiles.rows[i].expressions;\n        var new_expressions = [];\n        var new_columnHeaders = [];\n\n        for (var j = 0; j < sort_tissues.length; j++) {\n            var position = sort_tissues[j].index;\n            new_expressions.push(expressions[position]);\n            new_columnHeaders.push(columnHeaders[position]);\n        }\n\n        profiles.rows[i].expressions = new_expressions;\n    }\n\n    return {\n        profiles: profiles.rows,\n        columnHeaders: new_columnHeaders\n    }\n}\n\nfunction applyThresholdToColumns(rows, columns, threshold) {\n\n    var percentageExpressedBelowThreshold = [];\n    var percentageExpressedAboveThreshold = [];\n    for (var i=0; i < columns.length; i++) {\n        var count = 0;\n        for (var j=0; j < rows.length; j++) {\n            var value = rows[j].expressions[i].value;\n            if(value != \"NT\" && value != \"\") {\n                count++;\n            }\n        }\n\n        var totalExpressed = {};\n        totalExpressed.total = count;\n        totalExpressed.percentage = (count / rows.length) * 100;\n        totalExpressed.index = i;\n\n        if(totalExpressed.percentage > threshold) {\n            percentageExpressedAboveThreshold.push(totalExpressed);\n        } else {\n            percentageExpressedBelowThreshold.push(totalExpressed);\n        }\n    }\n\n    //Sort by percentage\n    var percentageExpressedAboveThresholdSorted = percentageExpressedAboveThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n    var percentageExpressedBelowThresholdSorted = percentageExpressedBelowThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n\n    var percentageExpressed = percentageExpressedAboveThresholdSorted.concat(percentageExpressedBelowThresholdSorted);\n\n    //Filter and order the columns with the new percentage\n    for (var i=0; i< rows.length; i++) {\n        var expressions = rows[i].expressions;\n        var new_expressions = [];\n        var new_columnHeaders = [];\n\n        for (var j = 0; j < percentageExpressed.length; j++) {\n            var position = percentageExpressed[j].index;\n            new_expressions.push(expressions[position]);\n            new_columnHeaders.push(columns[position]);\n        }\n\n        rows[i].expressions = new_expressions;\n    }\n\n    return {\n        rows: rows,\n        columnHeaders: new_columnHeaders\n    }\n}\n\nfunction applyThresholdToRows(rows, columns, threshold) {\n    var percentageExpressedBelowThreshold = [];\n    var percentageExpressedAboveThreshold = [];\n\n    for (var i=0; i < rows.length; i++) {\n        var count = 0;\n        for (var j=0; j < columns.length; j++) {\n            var value = rows[i].expressions[j].value;\n            if(value != \"NT\" && value != \"\") {\n                count++;\n            }\n        }\n\n        var totalExpressed = {};\n        totalExpressed.total = count;\n        totalExpressed.percentage = (count / columns.length) * 100;\n        totalExpressed.index = i;\n\n        if(totalExpressed.percentage > threshold) {\n            percentageExpressedAboveThreshold.push(totalExpressed);\n        } else {\n            percentageExpressedBelowThreshold.push(totalExpressed);\n        }\n    }\n\n    //Sort by percentage\n    var percentageExpressedAboveThresholdSorted = percentageExpressedAboveThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n    var percentageExpressedBelowThresholdSorted = percentageExpressedBelowThreshold.sort(function (a,b) {\n        return b.percentage-a.percentage;\n    });\n\n    var percentageExpressed = percentageExpressedAboveThresholdSorted.concat(percentageExpressedBelowThresholdSorted);\n\n    //Filter and order the rows with the new percentage\n    var new_rows = [];\n    for (var i = 0; i < percentageExpressed.length; i++) {\n        var position = percentageExpressed[i].index;\n        new_rows.push(rows[position]);\n    }\n\n    return new_rows;\n}\n\nfunction rankExperiments(rows, columns) {\n\n    //Initialize ranking\n    var rank_experiments = [];\n    for(i=0; i< columns; i++) {\n        rank_experiments[i] = new Array(rows.length);\n    }\n\n    for(i=0; i< columns; i++) {\n        for (j=0; j<rows.length; j++) {\n            rank_experiments[i][j] = 0;\n        }\n    }\n\n    //Sort\n    var sorted_cols = [];\n    for (var i=0; i < columns; i++) {\n\n        var cols_expressions = [];\n        for (j = 0; j < rows.length; j++) {\n            var expr = {};\n            expr.factorName = rows[j].expressions[i].factorName;\n            expr.value = rows[j].expressions[i].value;\n            expr.index = j;\n\n            cols_expressions.push(expr)\n        }\n\n        //Compare the level values for each expression within each row and sort them\n        var sorted_profiles = cols_expressions.sort(compareLevels);\n        sorted_cols.push(sorted_profiles);\n    }\n\n    // Rank levels\n    for (var j=0; j < sorted_cols.length; j++) {\n        for (var k=0; k < rows.length; k++) {\n            var ind = sorted_cols[j][k].index;\n            rank_experiments[j][ind] = rank_experiments[j][ind] + k + 1;\n        }\n    }\n\n    //Avg rank_experiments by cols\n    var exp_rank_avg = [];\n    for (var r=0; r<rows.length; r++) {\n        var sum = 0;\n        for (var cols=0; cols<rank_experiments.length; cols++) {\n            sum = sum + rank_experiments[cols][r];\n        }\n        exp_rank_avg.push(sum/rank_experiments.length);\n    }\n\n    var exp_rank_avg_mapped = exp_rank_avg.map(function(el, i) {\n        return { index: i, value: el}\n    });\n\n    //Sort experiments by increasing average rank\n    var sort_experiments = exp_rank_avg_mapped.sort(function (a,b) {\n        return a.value-b.value;\n    });\n\n    //Replace new rows\n    var new_rows = [];\n\n    for(var i=0; i<sort_experiments.length; i++) {\n        var position = sort_experiments[i].index;\n        new_rows.push(rows[position]);\n    }\n\n    return new_rows;\n}\n\n//*------------------------------------------------------------------*\n\nexports.getXAxisCategories = getXAxisCategories;\nexports.getYAxisCategories = getYAxisCategories;\nexports.getYAxisCategoriesLinks = getYAxisCategoriesLinks;\nexports.rankColumns = rankColumns;\nexports.rankExperiments = rankExperiments;\nexports.applyThresholdtoColumns = applyThresholdToColumns;\nexports.applyThresholdToRows = applyThresholdToRows;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/highchartsUtils.js\n ** module id = 1410\n ** module chunks = 4\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmapContainer.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmapContainer.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./HighchartsHeatmapContainer.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css\n ** module id = 1411\n ** module chunks = 4\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaInnerHeatmap {\\n    position: relative;\\n    overflow: hidden;\\n}\\n\\n.gxaAside {\\n    float: left;\\n}\\n\\n.gxaInnerHeatmap:after {\\n    clear: both;\\n    content: \\\".\\\";\\n    display: block;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/css-loader!./expression-atlas-heatmap-highcharts/src/HighchartsHeatmapContainer.css\n ** module id = 1412\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Anatomogram.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap-highcharts/~/anatomogram/index.js\n ** module id = 1413\n ** module chunks = 4\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\nrequire('jquery-ui-bundle');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar AnatomogramSelectImageButton = React.createClass({\n    propTypes: {\n        anatomogramId: React.PropTypes.string.isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        toggleSrcTemplate: React.PropTypes.string.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        var selectedToggleSrc = this.props.toggleSrcTemplate + \"_selected.png\",\n            unselectedToggleSrc = this.props.toggleSrcTemplate + \"_unselected.png\";\n\n        return(\n            <div>\n                <img ref=\"toggleButton\" onClick={this._onClick} src={this.props.selected ? selectedToggleSrc : unselectedToggleSrc}\n                     style={{width: \"24px\", height: \"24px\", padding: \"2px\"}}/>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        $(ReactDOM.findDOMNode(this.refs.toggleButton)).button();\n    },\n\n    _onClick: function() {\n        this.props.onClick(this.props.anatomogramId);\n    }\n});\n\n\nvar AnatomogramSelectImageButtons = React.createClass({\n    propTypes: {\n        selectedId: React.PropTypes.string.isRequired,\n        availableAnatomograms: React.PropTypes.array.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        if (this.props.availableAnatomograms.length > 1) {\n            var selectedId = this.props.selectedId,\n                onClick = this.props.onClick;\n            var anatomogramSelectImageButtons = this.props.availableAnatomograms.map(function(availableAnatomogram) {\n               return(\n                   <AnatomogramSelectImageButton key={availableAnatomogram.id + \"_toggle\"}\n                    anatomogramId={availableAnatomogram.id} selected={selectedId === availableAnatomogram.id} toggleSrcTemplate={availableAnatomogram.toggleSrcTemplate} onClick={onClick}/>\n               )\n            });\n\n            return (\n                <span>\n                    {anatomogramSelectImageButtons}\n                </span>\n            );\n\n        } else {\n            return (\n                null\n            )\n        }\n    }\n\n});\n\nvar AnatomogramImageParts = React.createClass({\n  propTypes: {\n    idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsHeatmapWantsHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsMousedOver: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsNotHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function () {\n    return {toDraw: [].concat(\n      AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props)\n        .map(this._highlightStrongly)\n      ,\n      this.props.idsExpressedInExperiment\n        .map(this._highlightSlightly)\n      ,\n      this.props.idsNotHighlighted\n        .map(this._highlightAsBackground)\n      )};\n  },\n\n  render: function() {\n    return <span/>;\n  },\n\n  _highlightStrongly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.hoveredTissueColour, opacity: 0.7 };\n  },\n\n  _highlightSlightly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.expressedTissueColour, opacity: 0.7 };\n  },\n\n  _highlightAsBackground: function(svgPathId) {\n    return {id: svgPathId, colour: \"gray\", opacity: 0.5 };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    var oldStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props);\n    var newStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(nextProps);\n    var oldWeak = this.props.idsExpressedInExperiment;\n    var newWeak = nextProps.idsExpressedInExperiment;\n\n    var toDraw = [].concat(\n      //ids that heatmap wants highlighted are the most highlighted\n      newStrong\n        .filter(function(id){return oldStrong.indexOf(id)<0})\n        .map(this._highlightStrongly)\n      ,\n      //ids that are expressed in the experiment are highlighted with a weaker colour, often the same as background\n      newWeak\n        .filter(function(id){return newStrong.indexOf(id)<0})\n        .filter(function(id){return oldWeak.indexOf(id)<0}.bind(this))\n        .map(this._highlightSlightly)\n      ,\n      nextProps.idsNotHighlighted\n        .filter(function(id){return this.props.idsNotHighlighted.indexOf(id)<0}.bind(this))\n        .map(this._highlightAsBackground)\n      );\n\n    this.setState({toDraw:toDraw});\n  },\n\n  statics: {\n    idsThatShouldBeStronglyHighlighted(properties){\n      return properties.idsHeatmapWantsHighlighted.concat(properties.idsMousedOver);\n    }\n  }\n});\n\nvar AnatomogramImage = React.createClass({\n  propTypes: {\n    file: React.PropTypes.string.isRequired,\n    height: React.PropTypes.string.isRequired,\n    expressedFactors: React.PropTypes.arrayOf(React.PropTypes.string),\n    expressedFactorsPerRow: React.PropTypes.object.isRequired,\n    allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function() {\n    return {\n      hoveredPathId: null,\n      hoveredRowId: null,\n      mousedOverSvgIds: []\n    };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    if(nextProps.file!==this.props.file){\n      this._loadAnatomogram(nextProps.file);\n    }\n  },\n\n  componentDidMount: function() {\n      this._loadAnatomogram(this.props.file);\n      this._draw();\n  },\n\n  componentDidUpdate: function(){\n    this._draw();\n  },\n\n  _draw: function() {\n    var svg= Snap(ReactDOM.findDOMNode(this.refs.anatomogram)).select(\"g\");\n    if(svg!==null){\n      this._drawOnSvg(svg,this.refs.imageParts.state.toDraw);\n      this.refs.imageParts.setState({toDraw:[]});\n    }\n  },\n  _drawInitialLayout: function(svg){\n    this._drawOnSvg(svg,this.refs.imageParts.getInitialState().toDraw);\n    this.refs.imageParts.setState({toDraw:[]});\n  },\n\n  _drawOnSvg: function(svg, instructions){\n    instructions.forEach(function(instruction){\n      this._highlightOrganismParts(svg,instruction.id, instruction.colour, instruction.opacity);\n    }.bind(this));\n  },\n\n  render: function () {\n    var idsExpressedInExperiment =[],\n        idsHoveredOver=[],\n        idsHeatmapWantsHighlighted = [],\n        idsNotHighlighted = [];\n    for(var i = 0 ; i< this.props.allSvgPathIds.length; i++){\n      var id = this.props.allSvgPathIds[i];\n      if(this.state.mousedOverSvgIds.indexOf(id)>-1){\n        idsHoveredOver.push(id);\n      } else if(this._hoveredRowContainsPathId(id) || this.state.hoveredPathId === id){\n        idsHeatmapWantsHighlighted.push(id);\n      } else if(this.props.expressedFactors.indexOf(id)>-1){\n        idsExpressedInExperiment.push(id);\n      } else {\n        idsNotHighlighted.push(id);\n      }\n    }\n\n    return (<span>\n        <svg ref=\"anatomogram\" style={{display: \"table-cell\", width: \"230px\", height:this.props.height + \"px\"}} />\n        <AnatomogramImageParts ref=\"imageParts\" key={this.props.file}\n            idsExpressedInExperiment={idsExpressedInExperiment}\n            idsHeatmapWantsHighlighted={idsHeatmapWantsHighlighted}\n            idsMousedOver={idsHoveredOver}\n            idsNotHighlighted={idsNotHighlighted}\n            expressedTissueColour={this.props.expressedTissueColour}\n            hoveredTissueColour={this.props.hoveredTissueColour}/>\n      </span>);\n  },\n\n  _highlightPath: function(svgPathId) {\n      this.setState({hoveredPathId: svgPathId});\n  },\n\n  _highlightRow: function(rowId) {\n      this.setState({hoveredRowId: rowId});\n  },\n\n  _loadAnatomogram: function(svgFile) {\n\n      var svgCanvas = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          $svgCanvas = $(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          allElements = svgCanvas.selectAll(\"*\");\n\n      if (allElements) {\n          allElements.remove();\n      }\n\n      var displayAllOrganismPartsCallback = this._drawInitialLayout;\n      var registerHoverEventsCallback = this._registerHoverEvents;\n      Snap.load(\n          svgFile,\n          function (fragment) {\n              var g = fragment.select(\"g\");\n              g.transform(\"S1.6,0,0\");\n              displayAllOrganismPartsCallback(g);\n              registerHoverEventsCallback(g);\n              svgCanvas.append(g);\n              var img = fragment.select(\"#ccLogo\");\n              var heightTranslate = $svgCanvas.height() - 15;\n              var widthTranslate = $svgCanvas.width() / 2 - 40;\n              img.transform(\"t\"+widthTranslate+\",\"+heightTranslate);\n              svgCanvas.append(img);\n          }\n      );\n  },\n\n  _hoveredRowContainsPathId: function(svgPathId) {\n    return (this.state.hoveredRowId\n            && this.props.expressedFactorsPerRow.hasOwnProperty(this.state.hoveredRowId)\n            && this.props.expressedFactorsPerRow[this.state.hoveredRowId].indexOf(svgPathId) > -1 );\n  },\n\n  _registerHoverEvents: function(svg) {\n      if (svg) {  // Sometimes svg is null... why?\n          var mouseoverCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseEnter', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = [].concat(previousState.mousedOverSvgIds);\n                  a.push(svgPathId);\n                  while(a.length >5){\n                    a.shift();\n                  }\n                  return {mousedOverSvgIds: a};\n              });\n          }.bind(this);\n          var mouseoutCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseLeave', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = previousState.mousedOverSvgIds.map(\n                      function(el){return el===svgPathId ? \"\" : el}\n                    );\n                  return {mousedOverSvgIds: a};\n                });\n          }.bind(this);\n\n          this.props.allSvgPathIds.forEach(function(svgPathId) {\n              var svgElement = svg.select(\"#\" + svgPathId);\n              if (svgElement) {\n                  svgElement.mouseover(function() {mouseoverCallback(svgPathId)});\n                  svgElement.mouseout(function() {mouseoutCallback(svgPathId)});\n              }\n          }, this);\n      }\n  },\n\n  _highlightOrganismParts: function(svg, svgPathId, colour, opacity) {\n      AnatomogramImage._recursivelyChangeProperties(svg.select(\"#\" + svgPathId), colour, opacity);\n  },\n\n  statics: {\n    _recursivelyChangeProperties: function(svgElement, colour, opacity) {\n\n        if (svgElement) {\n            var innerElements = svgElement.selectAll(\"*\");\n\n            if (innerElements.length > 0) {\n                innerElements.forEach(function(innerElement) {\n                    AnatomogramImage._recursivelyChangeProperties(innerElement);\n                });\n            }\n\n            svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n        }\n    },\n    _recursivelySelectElements: function(svgElement) {\n        if (!svgElement) {\n            return [];\n        }\n\n        var innerElements = svgElement.selectAll(\"*\");\n        if (innerElements.length === 0) {\n            return [svgElement];\n        } else {\n            var allElements = [];\n            innerElements.forEach(function(innerElement) {\n                allElements = allElements.concat(AnatomogramImage._recursivelySelectElements(innerElement));\n            });\n            return allElements;\n        }\n    }\n  }\n});\n\n\n\nvar Anatomogram = React.createClass({\n\n    propTypes: {\n        anatomogramData: React.PropTypes.object.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        profileRows: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                id: React.PropTypes.string,\n                name: React.PropTypes.string.isRequired,\n                expressions: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        factorName: React.PropTypes.string,\n                        color: React.PropTypes.string,\n                        value: React.PropTypes.number, // missing represents \"NA\"/\"NT\"\n                        svgPathId: React.PropTypes.string\n                    })\n                ).isRequired\n            })\n        ).isRequired,\n        eventEmitter: React.PropTypes.instanceOf(EventEmitter),\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n\n        var availableAnatomograms = [];\n        if (this.props.anatomogramData.maleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"male\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.maleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonMaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.femaleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"female\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.femaleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonFemaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.brainAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"brain\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.brainAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonBrainImageTemplate}\n            );\n        }\n\n\n        var allExpressedFactors = [],\n            expressedFactorsPerRow = {};\n        this.props.profileRows.forEach(function(profileRow) {\n            var expressedFactors = [];\n            profileRow.expressions.forEach(function(expression) {\n                if (! typeof expression.value !== \"undefined\" && expression.value) {\n                    expressedFactors.push(expression.svgPathId);\n                }\n            });\n            expressedFactorsPerRow[profileRow.name] = expressedFactors;\n            allExpressedFactors = allExpressedFactors.concat(expressedFactors);\n        });\n\n        function onlyUnique(value, index, self) {\n            return self.indexOf(value) === index;\n        }\n\n        return {\n            selectedId: availableAnatomograms[0].id,\n            availableAnatomograms: availableAnatomograms,\n            expressedFactors: allExpressedFactors.filter(onlyUnique),\n            expressedFactorsPerRow: expressedFactorsPerRow\n        }\n    },\n\n    render: function () {\n        function containsHuman(str) {\n            return str.indexOf(\"human\") > -1;\n        }\n\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: \"table\", paddingTop: \"4px\"}}>\n                <div style={{display: \"table-row\"}}>\n                    <div style={{display: \"table-cell\", verticalAlign: \"top\"}}>\n                        <AnatomogramSelectImageButtons selectedId={this.state.selectedId} availableAnatomograms={this.state.availableAnatomograms} onClick={this._handleChange}/>\n                    </div>\n                    <AnatomogramImage\n                      key={this.state.selectedId}\n                      ref=\"currentImage\"\n                      file={this._getAnatomogramSVGFile(this.state.selectedId)}\n                      height={containsHuman(this.props.anatomogramData.maleAnatomogramFile) ? \"375\" : \"265\"}\n                      expressedFactors={this.state.expressedFactors}\n                      expressedFactorsPerRow={this.state.expressedFactorsPerRow}\n                      allSvgPathIds={this.props.anatomogramData.allSvgPathIds}\n                      eventEmitter={this.props.eventEmitter}\n                      expressedTissueColour={this.props.expressedTissueColour}\n                      hoveredTissueColour={this.props.hoveredTissueColour}/>\n                </div>\n            </div>\n        );\n    },\n    _registerListenerIfNecessary(name, fn){\n        if (this.props.eventEmitter &&\n            this.props.eventEmitter._events &&\n            !this.props.eventEmitter._events.hasOwnProperty(name)){\n            this.props.eventEmitter.addListener(name, fn);\n          }\n    },\n\n    componentDidMount: function() {\n        this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n        this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    componentDidUpdate: function () {\n      this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n      this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    _handleChange: function(newSelectedId) {\n        if (newSelectedId !== this.state.selectedId) {\n            this.setState({selectedId: newSelectedId});\n        }\n    },\n\n    _highlightPath: function(svgPathId) {\n        this.refs.currentImage._highlightPath(svgPathId);\n    },\n\n    _highlightRow: function(rowId) {\n      this.refs.currentImage._highlightRow(rowId);\n    },\n\n    _getAnatomogramSVGFile: function(id) {\n        for (var i = 0 ; i < this.state.availableAnatomograms.length ; i++) {\n            if (id === this.state.availableAnatomograms[i].id) {\n                return this.state.availableAnatomograms[i].anatomogramFile;\n            }\n        }\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Anatomogram;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap-highcharts/~/anatomogram/src/Anatomogram.jsx\n **/"],"sourceRoot":""}