{"version":3,"sources":["webpack:///./expression-atlas-anatomogram/index.js","webpack:///./expression-atlas-anatomogram/src/anatomogramRenderer.js","webpack:///./expression-atlas-anatomogram/~/anatomogram/index.js","webpack:///./expression-atlas-anatomogram/~/anatomogram/src/Anatomogram.jsx"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEA,gF;;;;;;;;;;ACJA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDA;;AAEA;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","file":"expressionAtlasAnatomogram.bundle.js","sourcesContent":["\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/anatomogramRenderer.js');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-anatomogram/index.js\n ** module id = 0\n ** module chunks = 2\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar EventEmitter = require('events');\nvar eventEmitter = new EventEmitter();\n\nvar Anatomogram = require('anatomogram');\n\n//*------------------------------------------------------------------*\n\nfunction render(domNode, anatomogramData, profileRows, expressedColour, hoverColour, jQueryUITheme) {\n\n    if (jQueryUITheme !== \"\") {\n\n        var href = jQueryUITheme === \"atlas\" || typeof jQueryUITheme === \"undefined\" ?\n            window.location.protocol + \"//\" + window.location.host + \"/gxa/resources/css/jquery-ui-1.11.4.custom/css/jquery-ui-min.css\" :\n            \"https://code.jquery.com/ui/1.11.1/themes/\" + jQueryUITheme + \"/jquery-ui.css\";\n\n        var cssDoc = document.createElement(\"link\");\n        cssDoc.setAttribute(\"rel\", \"stylesheet\");\n        cssDoc.setAttribute(\"type\", \"text/css\");\n        cssDoc.setAttribute(\"href\", href);\n        document.getElementsByTagName(\"head\")[0].appendChild(cssDoc);\n\n    }\n\n    ReactDOM.render(\n        React.createElement(\n            Anatomogram,\n            {\n                anatomogramData: anatomogramData,\n                expressedTissueColour: expressedColour,\n                hoveredTissueColour: hoverColour,\n                atlasBaseURL: \"http://wwwdev.ebi.ac.uk/gxa\",\n                profileRows: profileRows,\n                eventEmitter: eventEmitter\n            }\n        ),\n        domNode\n    );\n}\n\n//*------------------------------------------------------------------*\n\nexports.render = render;\nexports.eventEmitter = eventEmitter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-anatomogram/src/anatomogramRenderer.js\n ** module id = 1011\n ** module chunks = 2\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Anatomogram.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-anatomogram/~/anatomogram/index.js\n ** module id = 1169\n ** module chunks = 2\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\nrequire('jquery-ui-bundle');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar AnatomogramSelectImageButton = React.createClass({\n    propTypes: {\n        anatomogramId: React.PropTypes.string.isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        toggleSrcTemplate: React.PropTypes.string.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        var selectedToggleSrc = this.props.toggleSrcTemplate + \"_selected.png\",\n            unselectedToggleSrc = this.props.toggleSrcTemplate + \"_unselected.png\";\n\n        return(\n            <div>\n                <img ref=\"toggleButton\" onClick={this._onClick} src={this.props.selected ? selectedToggleSrc : unselectedToggleSrc}\n                     style={{width: \"24px\", height: \"24px\", padding: \"2px\"}}/>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        $(ReactDOM.findDOMNode(this.refs.toggleButton)).button();\n    },\n\n    _onClick: function() {\n        this.props.onClick(this.props.anatomogramId);\n    }\n});\n\n\nvar AnatomogramSelectImageButtons = React.createClass({\n    propTypes: {\n        selectedId: React.PropTypes.string.isRequired,\n        availableAnatomograms: React.PropTypes.array.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        if (this.props.availableAnatomograms.length > 1) {\n            var selectedId = this.props.selectedId,\n                onClick = this.props.onClick;\n            var anatomogramSelectImageButtons = this.props.availableAnatomograms.map(function(availableAnatomogram) {\n               return(\n                   <AnatomogramSelectImageButton key={availableAnatomogram.id + \"_toggle\"}\n                    anatomogramId={availableAnatomogram.id} selected={selectedId === availableAnatomogram.id} toggleSrcTemplate={availableAnatomogram.toggleSrcTemplate} onClick={onClick}/>\n               )\n            });\n\n            return (\n                <span>\n                    {anatomogramSelectImageButtons}\n                </span>\n            );\n\n        } else {\n            return (\n                null\n            )\n        }\n    }\n\n});\n\nvar AnatomogramImageParts = React.createClass({\n  propTypes: {\n    idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsHeatmapWantsHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsMousedOver: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsNotHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function () {\n    return {toDraw: [].concat(\n      AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props)\n        .map(this._highlightStrongly)\n      ,\n      this.props.idsExpressedInExperiment\n        .map(this._highlightSlightly)\n      ,\n      this.props.idsNotHighlighted\n        .map(this._highlightAsBackground)\n      )};\n  },\n\n  render: function() {\n    return <span/>;\n  },\n\n  _highlightStrongly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.hoveredTissueColour, opacity: 0.7 };\n  },\n\n  _highlightSlightly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.expressedTissueColour, opacity: 0.7 };\n  },\n\n  _highlightAsBackground: function(svgPathId) {\n    return {id: svgPathId, colour: \"gray\", opacity: 0.5 };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    var oldStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props);\n    var newStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(nextProps);\n    var oldWeak = this.props.idsExpressedInExperiment;\n    var newWeak = nextProps.idsExpressedInExperiment;\n\n    var toDraw = [].concat(\n      //ids that heatmap wants highlighted are the most highlighted\n      newStrong\n        .filter(function(id){return oldStrong.indexOf(id)<0})\n        .map(this._highlightStrongly)\n      ,\n      //ids that are expressed in the experiment are highlighted with a weaker colour, often the same as background\n      newWeak\n        .filter(function(id){return newStrong.indexOf(id)<0})\n        .filter(function(id){return oldWeak.indexOf(id)<0}.bind(this))\n        .map(this._highlightSlightly)\n      ,\n      nextProps.idsNotHighlighted\n        .filter(function(id){return this.props.idsNotHighlighted.indexOf(id)<0}.bind(this))\n        .map(this._highlightAsBackground)\n      );\n\n    this.setState({toDraw:toDraw});\n  },\n\n  statics: {\n    idsThatShouldBeStronglyHighlighted: function(properties){\n      return properties.idsHeatmapWantsHighlighted.concat(properties.idsMousedOver);\n    }\n  }\n});\n\nvar AnatomogramImage = React.createClass({\n  propTypes: {\n    file: React.PropTypes.string.isRequired,\n    height: React.PropTypes.string.isRequired,\n    expressedFactors: React.PropTypes.arrayOf(React.PropTypes.string),\n    expressedFactorsPerRow: React.PropTypes.object.isRequired,\n    allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function() {\n    return {\n      hoveredPathId: null,\n      hoveredRowId: null,\n      mousedOverSvgIds: []\n    };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    if(nextProps.file!==this.props.file){\n      this._loadAnatomogram(nextProps.file);\n    }\n  },\n\n  componentDidMount: function() {\n      this._loadAnatomogram(this.props.file);\n      this._draw();\n  },\n\n  componentDidUpdate: function(){\n    this._draw();\n  },\n\n  _draw: function() {\n    var svg= Snap(ReactDOM.findDOMNode(this.refs.anatomogram)).select(\"g\");\n    if(svg!==null){\n      this._drawOnSvg(svg,this.refs.imageParts.state.toDraw);\n      this.refs.imageParts.setState({toDraw:[]});\n    }\n  },\n  _drawInitialLayout: function(svg){\n    this._drawOnSvg(svg,this.refs.imageParts.getInitialState().toDraw);\n    this.refs.imageParts.setState({toDraw:[]});\n  },\n\n  _drawOnSvg: function(svg, instructions){\n    instructions.forEach(function(instruction){\n      this._highlightOrganismParts(svg,instruction.id, instruction.colour, instruction.opacity);\n    }.bind(this));\n  },\n\n  render: function () {\n    var idsExpressedInExperiment =[],\n        idsHoveredOver=[],\n        idsHeatmapWantsHighlighted = [],\n        idsNotHighlighted = [];\n    for(var i = 0 ; i< this.props.allSvgPathIds.length; i++){\n      var id = this.props.allSvgPathIds[i];\n      if(this.state.mousedOverSvgIds.indexOf(id)>-1){\n        idsHoveredOver.push(id);\n      } else if(this._hoveredRowContainsPathId(id) || this.state.hoveredPathId === id){\n        idsHeatmapWantsHighlighted.push(id);\n      } else if(this.props.expressedFactors.indexOf(id)>-1){\n        idsExpressedInExperiment.push(id);\n      } else {\n        idsNotHighlighted.push(id);\n      }\n    }\n\n    return (<span>\n        <svg ref=\"anatomogram\" style={{display: \"table-cell\", width: \"230px\", height:this.props.height + \"px\"}} />\n        <AnatomogramImageParts ref=\"imageParts\" key={this.props.file}\n            idsExpressedInExperiment={idsExpressedInExperiment}\n            idsHeatmapWantsHighlighted={idsHeatmapWantsHighlighted}\n            idsMousedOver={idsHoveredOver}\n            idsNotHighlighted={idsNotHighlighted}\n            expressedTissueColour={this.props.expressedTissueColour}\n            hoveredTissueColour={this.props.hoveredTissueColour}/>\n      </span>);\n  },\n\n  _highlightPath: function(svgPathId) {\n      this.setState({hoveredPathId: svgPathId});\n  },\n\n  _highlightRow: function(rowId) {\n      this.setState({hoveredRowId: rowId});\n  },\n\n  _loadAnatomogram: function(svgFile) {\n\n      var svgCanvas = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          $svgCanvas = $(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          allElements = svgCanvas.selectAll(\"*\");\n\n      if (allElements) {\n          allElements.remove();\n      }\n\n      var displayAllOrganismPartsCallback = this._drawInitialLayout;\n      var registerHoverEventsCallback = this._registerHoverEvents;\n      Snap.load(\n          svgFile,\n          function (fragment) {\n              var g = fragment.select(\"g\");\n              g.transform(\"S1.6,0,0\");\n              displayAllOrganismPartsCallback(g);\n              registerHoverEventsCallback(g);\n              svgCanvas.append(g);\n              var img = fragment.select(\"#ccLogo\");\n              var heightTranslate = $svgCanvas.height() - 15;\n              var widthTranslate = $svgCanvas.width() / 2 - 40;\n              img.transform(\"t\"+widthTranslate+\",\"+heightTranslate);\n              svgCanvas.append(img);\n          }\n      );\n  },\n\n  _hoveredRowContainsPathId: function(svgPathId) {\n    return (this.state.hoveredRowId\n            && this.props.expressedFactorsPerRow.hasOwnProperty(this.state.hoveredRowId)\n            && this.props.expressedFactorsPerRow[this.state.hoveredRowId].indexOf(svgPathId) > -1 );\n  },\n\n  _registerHoverEvents: function(svg) {\n      if (svg) {  // Sometimes svg is null... why?\n          var mouseoverCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseEnter', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = [].concat(previousState.mousedOverSvgIds);\n                  a.push(svgPathId);\n                  while(a.length >5){\n                    a.shift();\n                  }\n                  return {mousedOverSvgIds: a};\n              });\n          }.bind(this);\n          var mouseoutCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseLeave', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = previousState.mousedOverSvgIds.map(\n                      function(el){return el===svgPathId ? \"\" : el}\n                    );\n                  return {mousedOverSvgIds: a};\n                });\n          }.bind(this);\n\n          this.props.allSvgPathIds.forEach(function(svgPathId) {\n              var svgElement = svg.select(\"#\" + svgPathId);\n              if (svgElement) {\n                  svgElement.mouseover(function() {mouseoverCallback(svgPathId)});\n                  svgElement.mouseout(function() {mouseoutCallback(svgPathId)});\n              }\n          }, this);\n      }\n  },\n\n  _highlightOrganismParts: function(svg, svgPathId, colour, opacity) {\n      AnatomogramImage._recursivelyChangeProperties(svg.select(\"#\" + svgPathId), colour, opacity);\n  },\n\n  statics: {\n    _recursivelyChangeProperties: function(svgElement, colour, opacity) {\n\n        if (svgElement) {\n            var innerElements = svgElement.selectAll(\"*\");\n\n            if (innerElements.length > 0) {\n                innerElements.forEach(function(innerElement) {\n                    AnatomogramImage._recursivelyChangeProperties(innerElement);\n                });\n            }\n\n            svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n        }\n    },\n    _recursivelySelectElements: function(svgElement) {\n        if (!svgElement) {\n            return [];\n        }\n\n        var innerElements = svgElement.selectAll(\"*\");\n        if (innerElements.length === 0) {\n            return [svgElement];\n        } else {\n            var allElements = [];\n            innerElements.forEach(function(innerElement) {\n                allElements = allElements.concat(AnatomogramImage._recursivelySelectElements(innerElement));\n            });\n            return allElements;\n        }\n    }\n  }\n});\n\n\n\nvar Anatomogram = React.createClass({\n\n    propTypes: {\n        anatomogramData: React.PropTypes.object.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        profileRows: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                id: React.PropTypes.string,\n                name: React.PropTypes.string.isRequired,\n                expressions: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        factorName: React.PropTypes.string,\n                        color: React.PropTypes.string,\n                        value: React.PropTypes.number, // missing represents \"NA\"/\"NT\"\n                        svgPathId: React.PropTypes.string\n                    })\n                ).isRequired\n            })\n        ).isRequired,\n        eventEmitter: React.PropTypes.instanceOf(EventEmitter),\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n\n        var availableAnatomograms = [];\n        if (this.props.anatomogramData.maleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"male\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.maleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonMaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.femaleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"female\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.femaleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonFemaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.brainAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"brain\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.brainAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonBrainImageTemplate}\n            );\n        }\n\n\n        var allExpressedFactors = [],\n            expressedFactorsPerRow = {};\n        this.props.profileRows.forEach(function(profileRow) {\n            var expressedFactors = [];\n            profileRow.expressions.forEach(function(expression) {\n                if (! typeof expression.value !== \"undefined\" && expression.value) {\n                    expressedFactors.push(expression.svgPathId);\n                }\n            });\n            expressedFactorsPerRow[profileRow.name] = expressedFactors;\n            allExpressedFactors = allExpressedFactors.concat(expressedFactors);\n        });\n\n        function onlyUnique(value, index, self) {\n            return self.indexOf(value) === index;\n        }\n\n        return {\n            selectedId: availableAnatomograms[0].id,\n            availableAnatomograms: availableAnatomograms,\n            expressedFactors: allExpressedFactors.filter(onlyUnique),\n            expressedFactorsPerRow: expressedFactorsPerRow\n        }\n    },\n\n    render: function () {\n        function containsHuman(str) {\n            return str.indexOf(\"human\") > -1;\n        }\n\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: \"table\", paddingTop: \"4px\"}}>\n                <div style={{display: \"table-row\"}}>\n                    <div style={{display: \"table-cell\", verticalAlign: \"top\"}}>\n                        <AnatomogramSelectImageButtons selectedId={this.state.selectedId} availableAnatomograms={this.state.availableAnatomograms} onClick={this._handleChange}/>\n                    </div>\n                    <AnatomogramImage\n                      key={this.state.selectedId}\n                      ref=\"currentImage\"\n                      file={this._getAnatomogramSVGFile(this.state.selectedId)}\n                      height={containsHuman(this.props.anatomogramData.maleAnatomogramFile) ? \"375\" : \"265\"}\n                      expressedFactors={this.state.expressedFactors}\n                      expressedFactorsPerRow={this.state.expressedFactorsPerRow}\n                      allSvgPathIds={this.props.anatomogramData.allSvgPathIds}\n                      eventEmitter={this.props.eventEmitter}\n                      expressedTissueColour={this.props.expressedTissueColour}\n                      hoveredTissueColour={this.props.hoveredTissueColour}/>\n                </div>\n            </div>\n        );\n    },\n\n    _registerListenerIfNecessary: function(name, fn){\n        if (this.props.eventEmitter &&\n            this.props.eventEmitter._events &&\n            !this.props.eventEmitter._events.hasOwnProperty(name)){\n            this.props.eventEmitter.addListener(name, fn);\n          }\n    },\n\n    componentDidMount: function() {\n        this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n        this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    componentDidUpdate: function () {\n      this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n      this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    _handleChange: function(newSelectedId) {\n        if (newSelectedId !== this.state.selectedId) {\n            this.setState({selectedId: newSelectedId});\n        }\n    },\n\n    _highlightPath: function(svgPathId) {\n        this.refs.currentImage._highlightPath(svgPathId);\n    },\n\n    _highlightRow: function(rowId) {\n      this.refs.currentImage._highlightRow(rowId);\n    },\n\n    _getAnatomogramSVGFile: function(id) {\n        for (var i = 0 ; i < this.state.availableAnatomograms.length ; i++) {\n            if (id === this.state.availableAnatomograms[i].id) {\n                return this.state.availableAnatomograms[i].anatomogramFile;\n            }\n        }\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Anatomogram;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-anatomogram/~/anatomogram/src/Anatomogram.jsx\n **/"],"sourceRoot":""}