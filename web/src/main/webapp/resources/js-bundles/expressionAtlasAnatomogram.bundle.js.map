{"version":3,"sources":["webpack:///./expression-atlas-anatomogram/index.js","webpack:///./expression-atlas-anatomogram/src/anatomogramRenderer.js","webpack:///./expression-atlas-anatomogram/~/anatomogram/index.js","webpack:///./expression-atlas-anatomogram/~/anatomogram/src/Anatomogram.jsx"],"names":[],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEA,gF;;;;;;;;;;ACJA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjDA;;AAEA;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","file":"expressionAtlasAnatomogram.bundle.js","sourcesContent":["\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/anatomogramRenderer.js');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-anatomogram/index.js\n ** module id = 0\n ** module chunks = 2\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar EventEmitter = require('events');\nvar eventEmitter = new EventEmitter();\n\nvar Anatomogram = require('anatomogram');\n\n//*------------------------------------------------------------------*\n\nfunction render(domNode, anatomogramData, profileRows, expressedColour, hoverColour, jQueryUITheme) {\n\n    if (jQueryUITheme !== \"\") {\n\n        var href = jQueryUITheme === \"atlas\" || typeof jQueryUITheme === \"undefined\" ?\n            window.location.protocol + \"//\" + window.location.host + \"/gxa/resources/css/jquery-ui-1.11.4.custom/css/jquery-ui-min.css\" :\n            \"https://code.jquery.com/ui/1.11.1/themes/\" + jQueryUITheme + \"/jquery-ui.css\";\n\n        var cssDoc = document.createElement(\"link\");\n        cssDoc.setAttribute(\"rel\", \"stylesheet\");\n        cssDoc.setAttribute(\"type\", \"text/css\");\n        cssDoc.setAttribute(\"href\", href);\n        document.getElementsByTagName(\"head\")[0].appendChild(cssDoc);\n\n    }\n\n    ReactDOM.render(\n        React.createElement(\n            Anatomogram,\n            {\n                anatomogramData: anatomogramData,\n                expressedTissueColour: expressedColour,\n                hoveredTissueColour: hoverColour,\n                atlasBaseURL: \"http://wwwdev.ebi.ac.uk/gxa\",\n                profileRows: profileRows,\n                eventEmitter: eventEmitter\n            }\n        ),\n        domNode\n    );\n}\n\n//*------------------------------------------------------------------*\n\nexports.render = render;\nexports.eventEmitter = eventEmitter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-anatomogram/src/anatomogramRenderer.js\n ** module id = 1011\n ** module chunks = 2\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Anatomogram.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-anatomogram/~/anatomogram/index.js\n ** module id = 1169\n ** module chunks = 2\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\nrequire('jquery-ui-bundle');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar AnatomogramSelectImageButton = React.createClass({\n    propTypes: {\n        anatomogramId: React.PropTypes.string.isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        toggleSrcTemplate: React.PropTypes.string.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        var selectedToggleSrc = this.props.toggleSrcTemplate + \"_selected.png\",\n            unselectedToggleSrc = this.props.toggleSrcTemplate + \"_unselected.png\";\n\n        return(\n            <div>\n                <img ref=\"toggleButton\" onClick={this._onClick} src={this.props.selected ? selectedToggleSrc : unselectedToggleSrc}\n                     style={{width: \"24px\", height: \"24px\", padding: \"2px\"}}/>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        $(ReactDOM.findDOMNode(this.refs.toggleButton)).button();\n    },\n\n    _onClick: function() {\n        this.props.onClick(this.props.anatomogramId);\n    }\n});\n\nvar AnatomogramImageParts = React.createClass({\n  propTypes: {\n    idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsHeatmapWantsHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsMousedOver: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsNotHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function () {\n    return {toDraw: [].concat(\n      AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props)\n        .map(this._highlightStrongly)\n      ,\n      this.props.idsExpressedInExperiment\n        .map(this._highlightSlightly)\n      ,\n      this.props.idsNotHighlighted\n        .map(this._highlightAsBackground)\n      )};\n  },\n\n  render: function() {\n    return <span/>;\n  },\n\n  _highlightStrongly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.hoveredTissueColour, opacity: 0.7 };\n  },\n\n  _highlightSlightly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.expressedTissueColour, opacity: 0.7 };\n  },\n\n  _highlightAsBackground: function(svgPathId) {\n    return {id: svgPathId, colour: \"gray\", opacity: 0.5 };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    var oldStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props);\n    var newStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(nextProps);\n    var oldWeak = this.props.idsExpressedInExperiment;\n    var newWeak = nextProps.idsExpressedInExperiment;\n\n    var toDraw = [].concat(\n      //ids that heatmap wants highlighted are the most highlighted\n      newStrong\n        .filter(function(id){return oldStrong.indexOf(id)<0})\n        .map(this._highlightStrongly)\n      ,\n      //ids that are expressed in the experiment are highlighted with a weaker colour, often the same as background\n      newWeak\n        .filter(function(id){return newStrong.indexOf(id)<0})\n        .filter(function(id){return oldWeak.indexOf(id)<0}.bind(this))\n        .map(this._highlightSlightly)\n      ,\n      nextProps.idsNotHighlighted\n        .filter(function(id){return this.props.idsNotHighlighted.indexOf(id)<0}.bind(this))\n        .map(this._highlightAsBackground)\n      );\n\n    this.setState({toDraw:toDraw});\n  },\n\n  statics: {\n    idsThatShouldBeStronglyHighlighted: function(properties){\n      return properties.idsHeatmapWantsHighlighted.concat(properties.idsMousedOver);\n    }\n  }\n});\n\nvar AnatomogramImage = React.createClass({\n  propTypes: {\n    file: React.PropTypes.string.isRequired,\n    height: React.PropTypes.string.isRequired,\n    expressedFactorsPerRow: React.PropTypes.object.isRequired,\n    allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function() {\n    return {\n      hoveredPathId: null,\n      hoveredRowId: null,\n      mousedOverSvgIds: []\n    };\n  },\n  _expressedFactors: function(){\n    var o = this.props.expressedFactorsPerRow;\n    var vs = Object.keys(o).map(function(e){return o[e];});\n    return (\n      [].concat.apply({},vs)\n      .filter(function uniq(e, ix, self) {\n          return self.indexOf(e) === ix;\n      })\n    );\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    if(nextProps.file!==this.props.file){\n      this._loadAnatomogram(nextProps.file);\n    }\n  },\n\n  componentDidMount: function() {\n      this._loadAnatomogram(this.props.file);\n      this._draw();\n  },\n\n  componentDidUpdate: function(){\n    this._draw();\n  },\n\n  _draw: function() {\n    var svg= Snap(ReactDOM.findDOMNode(this.refs.anatomogram)).select(\"g\");\n    if(svg!==null){\n      this._drawOnSvg(svg,this.refs.imageParts.state.toDraw);\n      this.refs.imageParts.setState({toDraw:[]});\n    }\n  },\n  _drawInitialLayout: function(svg){\n    this._drawOnSvg(svg,this.refs.imageParts.getInitialState().toDraw);\n    this.refs.imageParts.setState({toDraw:[]});\n  },\n\n  _drawOnSvg: function(svg, instructions){\n    instructions.forEach(function(instruction){\n      this._highlightOrganismParts(svg,instruction.id, instruction.colour, instruction.opacity);\n    }.bind(this));\n  },\n\n  render: function () {\n    var idsExpressedInExperiment =[],\n        idsHoveredOver=[],\n        idsHeatmapWantsHighlighted = [],\n        idsNotHighlighted = [],\n        expressedFactors = this._expressedFactors();\n\n    for(var i = 0 ; i< this.props.allSvgPathIds.length; i++){\n      var id = this.props.allSvgPathIds[i];\n      if(this.state.mousedOverSvgIds.indexOf(id)>-1){\n        idsHoveredOver.push(id);\n      } else if(this._hoveredRowContainsPathId(id) || this.state.hoveredPathId === id){\n        idsHeatmapWantsHighlighted.push(id);\n      } else if(expressedFactors.indexOf(id)>-1){\n        idsExpressedInExperiment.push(id);\n      } else {\n        idsNotHighlighted.push(id);\n      }\n    }\n\n    return (<span>\n        <svg ref=\"anatomogram\" style={{display: \"table-cell\", width: \"230px\", height:this.props.height + \"px\"}} />\n        <AnatomogramImageParts ref=\"imageParts\" key={this.props.file}\n            idsExpressedInExperiment={idsExpressedInExperiment}\n            idsHeatmapWantsHighlighted={idsHeatmapWantsHighlighted}\n            idsMousedOver={idsHoveredOver}\n            idsNotHighlighted={idsNotHighlighted}\n            expressedTissueColour={this.props.expressedTissueColour}\n            hoveredTissueColour={this.props.hoveredTissueColour}/>\n      </span>);\n  },\n\n  _highlightPath: function(svgPathId) {\n      this.setState({hoveredPathId: svgPathId});\n  },\n\n  _highlightRow: function(rowId) {\n      this.setState({hoveredRowId: rowId});\n  },\n\n  _loadAnatomogram: function(svgFile) {\n\n      var svgCanvas = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          $svgCanvas = $(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          allElements = svgCanvas.selectAll(\"*\");\n\n      if (allElements) {\n          allElements.remove();\n      }\n\n      var displayAllOrganismPartsCallback = this._drawInitialLayout;\n      var registerHoverEventsCallback = this._registerHoverEvents;\n      Snap.load(\n          svgFile,\n          function (fragment) {\n              var g = fragment.select(\"g\");\n              g.transform(\"S1.6,0,0\");\n              displayAllOrganismPartsCallback(g);\n              registerHoverEventsCallback(g);\n              svgCanvas.append(g);\n              var img = fragment.select(\"#ccLogo\");\n              var heightTranslate = $svgCanvas.height() - 15;\n              var widthTranslate = $svgCanvas.width() / 2 - 40;\n              img.transform(\"t\"+widthTranslate+\",\"+heightTranslate);\n              svgCanvas.append(img);\n          }\n      );\n  },\n\n  _hoveredRowContainsPathId: function(svgPathId) {\n    return (this.state.hoveredRowId\n            && this.props.expressedFactorsPerRow.hasOwnProperty(this.state.hoveredRowId)\n            && this.props.expressedFactorsPerRow[this.state.hoveredRowId].indexOf(svgPathId) > -1 );\n  },\n\n  _registerHoverEvents: function(svg) {\n      if (svg) {  // Sometimes svg is null... why?\n          var mouseoverCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseEnter', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = [].concat(previousState.mousedOverSvgIds);\n                  a.push(svgPathId);\n                  while(a.length >5){\n                    a.shift();\n                  }\n                  return {mousedOverSvgIds: a};\n              });\n          }.bind(this);\n          var mouseoutCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseLeave', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = previousState.mousedOverSvgIds.map(\n                      function(el){return el===svgPathId ? \"\" : el}\n                    );\n                  return {mousedOverSvgIds: a};\n                });\n          }.bind(this);\n\n          var attachCallbacks = function(svgElement,svgPathId){\n            if(svgElement){\n              svgElement.mouseover(function() {mouseoverCallback(svgPathId)});\n              svgElement.mouseout(function() {mouseoutCallback(svgPathId)});\n            }\n          }\n\n          this.props.allSvgPathIds.forEach(function(svgPathId) {\n            var svgElement = svg.select(\"#\" + svgPathId);\n            attachCallbacks(svgElement,svgPathId);\n            if(svgElement && svgElement.type === \"use\"){\n              attachCallbacks(svg.select(svgElement.node.getAttribute(\"xlink:href\")),svgPathId);\n            }\n          }, this);\n      }\n  },\n\n  _highlightOrganismParts: function(svg, svgPathId, colour, opacity) {\n      var el = svg.select(\"#\" + svgPathId);\n      if(el && el.type === \"use\"){\n        AnatomogramImage._recursivelyChangeProperties(svg.select(el.node.getAttribute(\"xlink:href\")), colour, opacity);\n      }\n      AnatomogramImage._recursivelyChangeProperties(el,colour, opacity);\n  },\n\n  statics: {\n    _recursivelyChangeProperties: function(svgElement, colour, opacity) {\n      if (svgElement) {\n        svgElement.selectAll(\"*\").forEach(\n          function(innerElement) {\n            AnatomogramImage._recursivelyChangeProperties(innerElement);\n        });\n        svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n      }\n    }\n  }\n});\n\n\n\nvar Anatomogram = React.createClass({\n\n    propTypes: {\n        anatomogramData: React.PropTypes.object.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        profileRows: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                id: React.PropTypes.string,\n                name: React.PropTypes.string.isRequired,\n                expressions: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        factorName: React.PropTypes.string,\n                        color: React.PropTypes.string,\n                        value: React.PropTypes.number, // missing represents \"NA\"/\"NT\"\n                        svgPathId: React.PropTypes.string\n                    })\n                ).isRequired\n            })\n        ).isRequired,\n        eventEmitter: React.PropTypes.instanceOf(EventEmitter),\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    _availableAnatomograms: function() {\n      return (\n        [].concat(\n          this.props.anatomogramData.maleAnatomogramFile ? [{\n            id: \"male\",\n            anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.maleAnatomogramFile,\n            toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonMaleImageTemplate\n          }]: [],\n          this.props.anatomogramData.femaleAnatomogramFile ? [{\n            id: \"female\",\n            anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.femaleAnatomogramFile,\n            toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonFemaleImageTemplate\n          }] : [],\n          this.props.anatomogramData.brainAnatomogramFile ? [{\n            id: \"brain\",\n            anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.brainAnatomogramFile,\n            toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonBrainImageTemplate          }] : []\n        )\n      );\n    },\n\n    getInitialState: function() {\n        return {\n            selectedId: this._availableAnatomograms()[0].id,\n        };\n    },\n\n    render: function () {\n        function containsHuman(str) {\n            return str.indexOf(\"human\") > -1;\n        }\n\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: \"table\", paddingTop: \"4px\"}}>\n                <div style={{display: \"table-row\"}}>\n                    <div style={{display: \"table-cell\", verticalAlign: \"top\"}}>\n                      {this._anatomogramSelectImageButtons()}\n                    </div>\n                    <AnatomogramImage\n                      key={this.state.selectedId}\n                      ref=\"currentImage\"\n                      file={this._getAnatomogramSVGFile(this.state.selectedId)}\n                      height={containsHuman(this.props.anatomogramData.maleAnatomogramFile) ? \"375\" : \"265\"}\n                      expressedFactorsPerRow={\n                        this.props.profileRows\n                        .reduce(function(result,row){\n                          result[row.name] =\n                            row.expressions.filter(function(expression){\n                              return expression.value;\n                            })\n                            .map(function(expression){\n                              return expression.svgPathId\n                            });\n                          return result;\n                        },{})}\n                      allSvgPathIds={this.props.anatomogramData.allSvgPathIds}\n                      eventEmitter={this.props.eventEmitter}\n                      expressedTissueColour={this.props.expressedTissueColour}\n                      hoveredTissueColour={this.props.hoveredTissueColour}/>\n                </div>\n            </div>\n        );\n    },\n\n    _anatomogramSelectImageButtons : function(){\n      return (\n        this._availableAnatomograms()\n        .map(function(availableAnatomogram) {\n           return(\n               <AnatomogramSelectImageButton\n                key={availableAnatomogram.id + \"_toggle\"}\n                anatomogramId={availableAnatomogram.id}\n                selected={this.state.selectedId === availableAnatomogram.id}\n                toggleSrcTemplate={availableAnatomogram.toggleSrcTemplate}\n                onClick={this._afterUserSelectedAnatomogram}/>\n           )\n        }.bind(this))\n      );\n    },\n\n    _registerListenerIfNecessary: function(name, fn){\n        if (this.props.eventEmitter &&\n            this.props.eventEmitter._events &&\n            !this.props.eventEmitter._events.hasOwnProperty(name)){\n            this.props.eventEmitter.addListener(name, fn);\n          }\n    },\n\n    componentDidMount: function() {\n        this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n        this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    componentDidUpdate: function () {\n      this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n      this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    _afterUserSelectedAnatomogram: function(newSelectedId) {\n        if (newSelectedId !== this.state.selectedId) {\n            this.setState({selectedId: newSelectedId});\n        }\n    },\n\n    _highlightPath: function(svgPathId) {\n        this.refs.currentImage._highlightPath(svgPathId);\n    },\n\n    _highlightRow: function(rowId) {\n      this.refs.currentImage._highlightRow(rowId);\n    },\n\n    _getAnatomogramSVGFile: function(id) {\n      return (\n        this._availableAnatomograms()\n        .filter(function(e,ix){\n          return (\n            e.id === id\n          )\n        })\n        .map(function(e){\n          return e.anatomogramFile;\n        })\n        .concat([\"\"])\n        [0]\n      );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Anatomogram;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-anatomogram/~/anatomogram/src/Anatomogram.jsx\n **/"],"sourceRoot":""}