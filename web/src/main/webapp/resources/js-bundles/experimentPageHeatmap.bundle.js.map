{"version":3,"sources":["webpack:///./expression-atlas-heatmap/src/experimentPageHeatmapAnatomogramRenderer.js","webpack:///./expression-atlas-heatmap/src/ExperimentPageHeatmapAnatomogramContainer.jsx","webpack:///./expression-atlas-heatmap/~/anatomogram/index.js","webpack:///./expression-atlas-heatmap/~/anatomogram/src/Anatomogram.jsx","webpack:///./expression-atlas-heatmap/~/atlas-feedback/index.js","webpack:///./expression-atlas-heatmap/~/atlas-feedback/src/Feedback.jsx","webpack:///./expression-atlas-heatmap/~/atlas-feedback/assets/emojione.sprites.png","webpack:///./expression-atlas-heatmap/~/atlas-feedback/src/gxaFeedback.css?f539","webpack:///./expression-atlas-heatmap/~/atlas-feedback/src/gxaFeedback.css","webpack:///./expression-atlas-heatmap/src/Heatmap.jsx","webpack:///./expression-atlas-heatmap/~/react-dom/server.js","webpack:///./~/rc-slider/assets/index.css?e9c0","webpack:///./~/rc-slider/assets/index.css?c1de","webpack:///./expression-atlas-heatmap/~/download-profiles-button/index.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/src/DownloadProfilesButton.jsx","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Modal.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Portal.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/ownerDocument.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/getContainer.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/ModalManager.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/isOverflowing.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/manageAriaHidden.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/addEventListener.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/addFocusListener.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Transition.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Overlay.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Position.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/calculatePosition.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/RootCloseWrapper.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/createChainedFunction.js","webpack:///./expression-atlas-heatmap/~/download-profiles-button/src/BlueprintText.jsx","webpack:///./expression-atlas-heatmap/~/heatmap-baseline-cell-variance/index.js","webpack:///./expression-atlas-heatmap/~/heatmap-baseline-cell-variance/src/HeatmapBaselineCellVariance.jsx","webpack:///./expression-atlas-heatmap/~/heatmap-baseline-cell-variance/~/react-highcharts/dist/ReactHighcharts.js","webpack:///./expression-atlas-heatmap/~/legend/index.js","webpack:///./expression-atlas-heatmap/~/legend/src/LegendDifferential.jsx","webpack:///./expression-atlas-heatmap/~/legend/src/LegendRow.jsx","webpack:///./expression-atlas-heatmap/~/legend/src/gxaGradient.css?afa1","webpack:///./expression-atlas-heatmap/~/legend/src/gxaGradient.css","webpack:///./expression-atlas-heatmap/~/help-tooltips/index.js","webpack:///./expression-atlas-heatmap/~/help-tooltips/src/helpTooltipsModule.js","webpack:///./expression-atlas-heatmap/~/help-tooltips/src/gxaHelpTooltip.css?3c44","webpack:///./expression-atlas-heatmap/~/help-tooltips/src/gxaHelpTooltip.css","webpack:///./expression-atlas-heatmap/~/legend/src/gxaLegend.css?33fb","webpack:///./expression-atlas-heatmap/~/legend/src/gxaLegend.css","webpack:///./expression-atlas-heatmap/~/legend/src/LegendBaseline.jsx","webpack:///./expression-atlas-heatmap/~/number-format/index.js","webpack:///./expression-atlas-heatmap/~/number-format/src/NumberFormat.jsx","webpack:///./expression-atlas-heatmap/~/cell-differential/index.js","webpack:///./expression-atlas-heatmap/~/cell-differential/src/CellDifferential.jsx","webpack:///./expression-atlas-heatmap/~/cell-differential/src/gxaShowHideCell.css?0b76","webpack:///./expression-atlas-heatmap/~/cell-differential/src/gxaShowHideCell.css","webpack:///./expression-atlas-heatmap/~/cell-differential/src/gxaDifferentialCellTooltip.css?b532","webpack:///./expression-atlas-heatmap/~/cell-differential/src/gxaDifferentialCellTooltip.css","webpack:///./expression-atlas-heatmap/~/display-levels-button/index.js","webpack:///./expression-atlas-heatmap/~/display-levels-button/src/DisplayLevelsButton.jsx","webpack:///./expression-atlas-heatmap/~/contrast-tooltips/index.js","webpack:///./expression-atlas-heatmap/~/contrast-tooltips/src/contrastTooltipModule.js","webpack:///./expression-atlas-heatmap/~/contrast-tooltips/src/ContrastTooltip.jsx","webpack:///./expression-atlas-heatmap/~/contrast-tooltips/src/gxaContrastTooltip.css?5c0a","webpack:///./expression-atlas-heatmap/~/contrast-tooltips/src/gxaContrastTooltip.css","webpack:///./expression-atlas-heatmap/src/genePropertiesTooltipModule.js","webpack:///./expression-atlas-heatmap/src/genePropertiesTooltipModule.css?66f5","webpack:///./expression-atlas-heatmap/src/genePropertiesTooltipModule.css","webpack:///./expression-atlas-heatmap/src/factorTooltipModule.js","webpack:///./expression-atlas-heatmap/src/FactorTooltip.jsx","webpack:///./expression-atlas-heatmap/src/factorTooltipModule.css?2322","webpack:///./expression-atlas-heatmap/src/factorTooltipModule.css","webpack:///./expression-atlas-heatmap/src/stickyHeaderModule.js","webpack:///./expression-atlas-heatmap/src/stickyHeaderModule.css?5845","webpack:///./expression-atlas-heatmap/src/stickyHeaderModule.css","webpack:///./expression-atlas-heatmap/src/Heatmap.css?6474","webpack:///./expression-atlas-heatmap/src/Heatmap.css","webpack:///./expression-atlas-heatmap/src/EnsemblLauncher.jsx","webpack:///./expression-atlas-heatmap/src/ensemblUtils.js","webpack:///./expression-atlas-heatmap/src/EnsemblLauncher.css?2822","webpack:///./expression-atlas-heatmap/src/EnsemblLauncher.css","webpack:///./expression-atlas-heatmap/src/experimentTypes.js","webpack:///./expression-atlas-heatmap/src/ExperimentPageHeatmapAnatomogramContainer.css?8fdb","webpack:///./expression-atlas-heatmap/src/ExperimentPageHeatmapAnatomogramContainer.css"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvDA;;;;AAIA,KAAI,QAAQ,oBAAQ,gBAAR,CAAZ;AACA,KAAI,WAAW,oBAAQ,oBAAR,CAAf;;AAEA,KAAI,IAAI,oBAAQ,iBAAR,CAAR;AACA,qBAAQ,yBAAR;AACA,qBAAQ,2BAAR;;AAEA,KAAI,eAAe,oBAAQ,iBAAR,CAAnB;;;;AAIA,KAAI,cAAc,oBAAQ,sBAAR,CAAlB;AACA,KAAI,kBAAgB,oBAAQ,yBAAR,CAApB;AACA,KAAI,UAAU,oBAAQ,wBAAR,CAAd;AACA,KAAI,kBAAkB,oBAAQ,gCAAR,CAAtB;;AAEA,KAAI,kBAAkB,oBAAQ,+BAAR,CAAtB;;;;AAIA,qBAAQ,0DAAR;;;;AAIA,KAAI,0DAA0D,MAAM,WAAN,CAAkB;AAAA;;AAC9E,gBAAW;AACT,oBAAW,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADzB;AAET,eAAM,MAAM,SAAN,CAAgB,KAAhB,CAAsB,CACxB,gBAAgB,QADQ,EACE,gBAAgB,eADlB,EACmC,gBAAgB,YADnD,EACiE,gBAAgB,mBADjF,CAAtB,EAEH,UAJM;AAKT,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAL5B;AAMT,4BAAmB,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AANjC,MADmE;AAS9E,sBAAiB,YAAW;AAC1B,gBAAO;AACL,0BAAa;AADR,UAAP;AAGD,MAb6E;;AAe9E,wBAAmB,YAAW;AAC1B,aAAI,cAAc;AACd,kBAAK,KAAK,KAAL,CAAW,SADF;AAEd,uBAAU,MAFI;AAGd,qBAAQ;AAHM,UAAlB;;AAMA,cAAK,aAAL,GAAqB,EAAE,IAAF,CAAO,WAAP,EAAoB,IAApB,CAChB,KAAK,0BADW,EAEnB,IAFmB,CAGjB,UAAU,KAAV,EAAiB,UAAjB,EAA6B,WAA7B,EAA0C;AACtC,iBAAI,eAAe,aAAnB,EAAkC;AAC9B,mBAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,IAA/B,CAAF,EAAwC,IAAxC,CAA6C,2DAA7C;AACH,cAFD,MAEO;AACH,mBAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,IAA/B,CAAF,EAAwC,IAAxC,CAA6C,MAAM,YAAnD;AACH;AACJ,UAND,CAME,IANF,CAMO,IANP,CAHiB,CAArB;AAWH,MAjC6E;;AAmC9E,iCAA4B,UAAU,IAAV,EAAgB;AACxC,cAAK,QAAL,CAAc,EAAC,aAAY,IAAb,EAAd;AACH,MArC6E;;AAuC9E,aAAQ,YAAY;AAClB,gBAAO,OAAO,IAAP,CAAY,KAAK,KAAL,CAAW,WAAvB,EAAoC,MAApC,GAEH,KAAK,KAAL,CAAW,WAAX,CAAuB,KAAvB,GACE;AAAA;aAAA;aAAI,KAAK,KAAL,CAAW,WAAX,CAAuB;AAA3B,UADF,GAEE,oBAAC,mCAAD;AACE,mBAAM,KAAK,KAAL,CAAW,IADnB;AAEE,4BAAe,KAAK,KAAL,CAAW,WAAX,CAAuB,MAFxC;AAGE,uBAAU,KAHZ;AAIE,0BAAa,KAAK,KAAL,CAAW,WAAX,CAAuB,WAJtC;AAKE,4BAAe,KAAK,KAAL,CAAW,WAAX,CAAuB,aALxC;AAME,oCAAuB,KAAK,KAAL,CAAW,WAAX,CAAuB,qBANhD;AAOE,uBAAU,KAAK,KAAL,CAAW,WAAX,CAAuB,QAPnC;AAQE,gCAAmB,KAAK,KAAL,CAAW,WAAX,CAAuB,iBAR5C;AASE,8BAAiB,KAAK,KAAL,CAAW,WAAX,CAAuB,eAT1C;AAUE,2BAAc,KAAK,KAAL,CAAW,WAAX,CAAuB,MAAvB,CAA8B,SAA9B,GAAwC,KAAK,KAAL,CAAW,WAAX,CAAuB,MAAvB,CAA8B,WAVtF;AAWE,gCAAmB,KAAK,KAAL,CAAW;AAXhC,WAJC,GAiBH;AAAA;aAAA,EAAK,KAAI,yBAAT;aACE,6BAAK,KAAK,KAAK,KAAL,CAAW,YAAX,GAA0B,+BAApC;AADF,UAjBJ;AAoBD;AA5D6E,EAAlB,CAA9D;;AA+DA,KAAI,sCAAsC,MAAM,WAAN,CAAkB;AAAA;;AACxD,gBAAW;AACP,sBAAa,MAAM,SAAN,CAAgB,MADtB;AAEP,wBAAe,MAAM,SAAN,CAAgB,SAAhB,CAA0B,CACrC,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC1C,2BAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADK;AAE1C,0BAAa,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFM;AAG1C,wCAA2B,MAAM,SAAN,CAAgB;AAHD,UAAtB,CAAxB,CADqC,EAMrC,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC1C,iBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADe;AAE1C,kCAAqB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AACvC,qBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADY;AAEvC,kCAAiB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAF1B;AAGvC,6BAAY,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAHI,cAAtB,EAIlB,UANuC;AAO1C,6BAAgB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAClC,qBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADO;AAElC,kCAAiB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAF/B;AAGlC,6BAAY,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAHD,cAAtB,EAIb,UAXuC;AAY1C,0BAAa,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAZM,UAAtB,CAAxB,CANqC,CAA1B,EAoBZ,UAtBI;AAuBP,gCAAuB,MAAM,SAAN,CAAgB,MAvBhC;AAwBP,mBAAU,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAxB1B;AAyBP,4BAAmB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC/D,uBAAU,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD8B;AAE/D,2BAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAF0B,UAAtB,CAAxB,CAzBZ;AA6BP,0BAAiB,MAAM,SAAN,CAAgB,MA7B1B;AA8BP,wBAAe,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UA9B/B;AA+BP,eAAM,MAAM,SAAN,CAAgB,KAAhB,CAAsB,CACxB,gBAAgB,QADQ,EACE,gBAAgB,eADlB,EACmC,gBAAgB,YADnD,EACiE,gBAAgB,mBADjF,CAAtB,EAEH,UAjCI;AAkCP,mBAAU,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAlCxB;AAmCP,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAnC9B;AAoCP,4BAAmB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UApCnC;AAqCP,8BAAsB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UArCtC;AAsCP,kCAAyB,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAtCzC,MAD6C;;AA0CxD,sBAAiB,YAAW;;AAE1B,aAAI,sBAAsB,IAAI,YAAJ,EAA1B;AACA,6BAAoB,eAApB,CAAoC,CAApC;AACA,aAAI,0BAA0B,IAAI,YAAJ,EAA9B;AACA,iCAAwB,eAAxB,CAAwC,CAAxC;AACA,gBAAO,EAAC,qBAAqB,mBAAtB,EAA2C,yBAAwB,uBAAnE,EAAP;AACD,MAjDuD;;AAmDxD,sBAAiB,YAAY;AAC3B,gBAAO,EAAC,yBAAyB,OAAO,EAAP,KAAc,WAAd,GAA4B,EAA5B,GAAiC,YAAW,CAAE,CAAxE,EAAP;AACD,MArDuD;;AAuDxD,aAAQ,YAAY;;AAEhB,aAAI,mCAAmC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAoC,KAApC,GAA4C,MAAnF;AACA,aAAI,iCAAiC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAoC,QAApC,GAA+C,KAApF;;AAEA,aAAI,wBAAwB,EAAE,gBAAF,CAA5B;;AAEA,aAAI,kBAAkB,EAAE,OAAF,CAAU,IAAV,GAAiB,IAAjB,GAElB;AAAA;aAAA,EAAK,WAAU,0CAAf;aACA,oBAAC,eAAD,IAAiB,oBACT,UAAS,KAAT,EAAe,OAAf,EAAuB;AACrB,0BAAK,KAAL,CAAW,uBAAX,CACE,MADF,EACS,OADT,EACiB,cADjB,EACiC,UADjC,EAEE,OAFF,EAEU,KAFV;AAGD,kBAJD,CAIE,IAJF,CAIO,IAJP,CADR;AADA,UAFJ;;AAWA,gBACI;AAAA;aAAA,EAAK,IAAG,qBAAR,EAA8B,WAAU,0BAAxC;aAEI;AAAA;iBAAA,EAAK,KAAI,oBAAT,EAA8B,WAAU,UAAxC;iBACM,KAAK,KAAL,CAAW,WAAX,GACE,oBAAC,WAAD,IAAa,iBAAiB,KAAK,KAAL,CAAW,WAAzC;AACa,4CAAuB,gCADpC,EACsE,qBAAqB,8BAD3F;AAEa,kCAAa,KAAK,KAAL,CAAW,QAAX,CAAoB,IAF9C,EAEoD,cAAc,KAAK,KAAL,CAAW,uBAF7E,EAEsG,cAAc,KAAK,KAAL,CAAW,YAF/H,GADF,GAII,IALV;iBAMM,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GACE,oBAAC,eAAD,IAAiB,YAAY,KAAK,KAAL,CAAW,IAAX,KAAoB,gBAAgB,QAApC,IAAgD,KAAK,KAAL,CAAW,IAAX,KAAoB,gBAAgB,mBAAjH;AACiB,0CAAqB,KAAK,KAAL,CAAW,aAAX,CAAyB,mBAD/D;AAEiB,8BAAS,KAAK,KAAL,CAAW,aAAX,CAAyB,OAFnD;AAGiB,gCAAW,KAAK,KAAL,CAAW,aAAX,CAAyB,SAHrD;AAIiB,iCAAY,KAAK,KAAL,CAAW,aAAX,CAAyB,UAJtD;AAKiB,mCAAc,KAAK,KAAL,CAAW,mBAL1C;AAMiB,mCAAc,KAAK,KAAL,CAAW,YAN1C,GADF,GAQI;AAdV,cAFJ;aAkBI;AAAA;iBAAA,EAAK,IAAG,eAAR,EAAwB,WAAU,oBAAlC;iBACI,oBAAC,OAAD,IAAS,MAAM,KAAK,KAAL,CAAW,IAA1B;AACS,oCAAe,KAAK,KAAL,CAAW,aADnC;AAES,oCAAe,KAAK,KAAL,CAAW,aAFnC;AAGS,4CAAuB,KAAK,KAAL,CAAW,qBAH3C;AAIS,+BAAU,KAAK,KAAL,CAAW,QAJ9B;AAKS,wCAAoB,KAAK,KAAL,CAAW,iBALxC;AAMS,sCAAiB,KAAK,KAAL,CAAW,eANrC;AAOS,+BAAU,KAPnB;AAQS,4CAAuB,qBARhC;AASS,0CAAqB,KAAK,KAAL,CAAW,mBATzC;AAUS,8CAAyB,KAAK,KAAL,CAAW,uBAV7C;AAWS,mCAAc,KAAK,KAAL,CAAW,YAXlC;AAYS,wCAAmB,KAAK,KAAL,CAAW,iBAZvC;AAaS,8CAAyB,KAAK,KAAL,CAAW,uBAb7C;AADJ,cAlBJ;aAkCK;AAlCL,UADJ;AAsCH,MA/GuD;;AAiHxD,wBAAmB,YAAW;AAC1B,aAAI,2BAA2B,EAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,kBAA/B,CAAF,CAA/B;AACA,kCAAyB,QAAzB,CAAkC,EAAC,YAAY,IAAb,EAAlC;;AAEA,WAAE,QAAF,EAAY,KAAZ,CAAkB,YAAY;AAC5B,kBAAK,QAAL,CAAc,EAAC,yBAAyB,OAAO,EAAP,KAAc,WAAd,GAA4B,EAA5B,GAAiC,YAAW,CAAE,CAAxE,EAAd;AACD,UAFiB,CAEhB,IAFgB,CAEX,IAFW,CAAlB;AAIH;AAzHuD,EAAlB,CAA1C;;;;AA8HA,QAAO,OAAP,GAAiB,uDAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;ACzNA;;AAEA;;AAEA,wE;;;;;;;;;ACJA;;;;AAIA,KAAI,QAAQ,oBAAQ,gBAAR,CAAZ;AACA,KAAI,WAAW,oBAAQ,oBAAR,CAAf;;AAEA,KAAI,IAAI,oBAAQ,iBAAR,CAAR;AACA,qBAAQ,2BAAR;AACA,qBAAQ,2BAAR;;AAEA,KAAI,OAAO,oBAAQ,qFAAR,CAAX;;AAEA,KAAI,eAAe,oBAAQ,iBAAR,CAAnB;;;;AAIA,KAAI,+BAA+B,MAAM,WAAN,CAAkB;AAAA;;AACjD,gBAAW;AACP,wBAAe,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD/B;AAEP,mBAAU,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAFxB;AAGP,4BAAmB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAHnC;AAIP,kBAAS,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAJvB,MADsC;;AAQjD,aAAQ,YAAW;AACf,aAAI,oBAAoB,KAAK,KAAL,CAAW,iBAAX,GAA+B,eAAvD;aACI,sBAAsB,KAAK,KAAL,CAAW,iBAAX,GAA+B,iBADzD;;AAGA,gBACI;AAAA;aAAA;aACI,6BAAK,KAAI,cAAT,EAAwB,SAAS,KAAK,QAAtC,EAAgD,KAAK,KAAK,KAAL,CAAW,QAAX,GAAsB,iBAAtB,GAA0C,mBAA/F;AACK,wBAAO,EAAC,OAAO,MAAR,EAAgB,QAAQ,MAAxB,EAAgC,SAAS,KAAzC,EADZ;AADJ,UADJ;AAMH,MAlBgD;;AAoBjD,wBAAmB,YAAW;AAC1B,WAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,YAA/B,CAAF,EAAgD,MAAhD;AACH,MAtBgD;;AAwBjD,eAAU,YAAW;AACjB,cAAK,KAAL,CAAW,OAAX,CAAmB,KAAK,KAAL,CAAW,aAA9B;AACH;AA1BgD,EAAlB,CAAnC;;AA8BA,KAAI,gCAAgC,MAAM,WAAN,CAAkB;AAAA;;AAClD,gBAAW;AACP,qBAAY,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD5B;AAEP,gCAAuB,MAAM,SAAN,CAAgB,KAAhB,CAAsB,UAFtC;AAGP,kBAAS,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAHvB,MADuC;;AAOlD,aAAQ,YAAW;AACf,aAAI,KAAK,KAAL,CAAW,qBAAX,CAAiC,MAAjC,GAA0C,CAA9C,EAAiD;AAC7C,iBAAI,aAAa,KAAK,KAAL,CAAW,UAA5B;iBACI,UAAU,KAAK,KAAL,CAAW,OADzB;AAEA,iBAAI,gCAAgC,KAAK,KAAL,CAAW,qBAAX,CAAiC,GAAjC,CAAqC,UAAS,oBAAT,EAA+B;AACrG,wBACI,oBAAC,4BAAD,IAA8B,KAAK,qBAAqB,EAArB,GAA0B,SAA7D;AACC,oCAAe,qBAAqB,EADrC,EACyC,UAAU,eAAe,qBAAqB,EADvF,EAC2F,mBAAmB,qBAAqB,iBADnI,EACsJ,SAAS,OAD/J,GADJ;AAIF,cALmC,CAApC;;AAOA,oBACI;AAAA;iBAAA;iBACK;AADL,cADJ;AAMH,UAhBD,MAgBO;AACH,oBACI,IADJ;AAGH;AACJ;;AA7BiD,EAAlB,CAApC;;AAiCA,KAAI,wBAAwB,MAAM,WAAN,CAAkB;AAAA;;AAC5C,gBAAW;AACT,mCAA0B,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UADjE;AAET,qCAA4B,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAFnE;AAGT,wBAAe,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAHtD;AAIT,4BAAmB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAJ1D;AAKT,gCAAuB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UALrC;AAMT,8BAAqB,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AANnC,MADiC;;AAU5C,sBAAiB,YAAY;AAC3B,gBAAO,EAAC,QAAQ,GAAG,MAAH,CACd,sBAAsB,kCAAtB,CAAyD,KAAK,KAA9D,EACG,GADH,CACO,KAAK,kBADZ,CADc,EAId,KAAK,KAAL,CAAW,wBAAX,CACG,GADH,CACO,KAAK,kBADZ,CAJc,EAOd,KAAK,KAAL,CAAW,iBAAX,CACG,GADH,CACO,KAAK,sBADZ,CAPc,CAAT,EAAP;AAUD,MArB2C;;AAuB5C,aAAQ,YAAW;AACjB,gBAAO,iCAAP;AACD,MAzB2C;;AA2B5C,yBAAoB,UAAS,SAAT,EAAoB;AACtC,gBAAO,EAAC,IAAI,SAAL,EAAgB,QAAQ,KAAK,KAAL,CAAW,mBAAnC,EAAwD,SAAS,GAAjE,EAAP;AACD,MA7B2C;;AA+B5C,yBAAoB,UAAS,SAAT,EAAoB;AACtC,gBAAO,EAAC,IAAI,SAAL,EAAgB,QAAQ,KAAK,KAAL,CAAW,qBAAnC,EAA0D,SAAS,GAAnE,EAAP;AACD,MAjC2C;;AAmC5C,6BAAwB,UAAS,SAAT,EAAoB;AAC1C,gBAAO,EAAC,IAAI,SAAL,EAAgB,QAAQ,MAAxB,EAAgC,SAAS,GAAzC,EAAP;AACD,MArC2C;;AAuC5C,gCAA2B,UAAS,SAAT,EAAoB;AAC7C,aAAI,YAAY,sBAAsB,kCAAtB,CAAyD,KAAK,KAA9D,CAAhB;AACA,aAAI,YAAY,sBAAsB,kCAAtB,CAAyD,SAAzD,CAAhB;AACA,aAAI,UAAU,KAAK,KAAL,CAAW,wBAAzB;AACA,aAAI,UAAU,UAAU,wBAAxB;;AAEA,aAAI,SAAS,GAAG,MAAH;;AAEX,mBACG,MADH,CACU,UAAS,EAAT,EAAY;AAAC,oBAAO,UAAU,OAAV,CAAkB,EAAlB,IAAsB,CAA7B;AAA+B,UADtD,EAEG,GAFH,CAEO,KAAK,kBAFZ,CAFW;;AAOX,iBACG,MADH,CACU,UAAS,EAAT,EAAY;AAAC,oBAAO,UAAU,OAAV,CAAkB,EAAlB,IAAsB,CAA7B;AAA+B,UADtD,EAEG,MAFH,CAEU,UAAS,EAAT,EAAY;AAAC,oBAAO,QAAQ,OAAR,CAAgB,EAAhB,IAAoB,CAA3B;AAA6B,UAA1C,CAA2C,IAA3C,CAAgD,IAAhD,CAFV,EAGG,GAHH,CAGO,KAAK,kBAHZ,CAPW,EAYX,UAAU,iBAAV,CACG,MADH,CACU,UAAS,EAAT,EAAY;AAAC,oBAAO,KAAK,KAAL,CAAW,iBAAX,CAA6B,OAA7B,CAAqC,EAArC,IAAyC,CAAhD;AAAkD,UAA/D,CAAgE,IAAhE,CAAqE,IAArE,CADV,EAEG,GAFH,CAEO,KAAK,sBAFZ,CAZW,CAAb;;AAiBA,cAAK,QAAL,CAAc,EAAC,QAAO,MAAR,EAAd;AACD,MA/D2C;;AAiE5C,cAAS;AACP,6CAAoC,UAAS,UAAT,EAAoB;AACtD,oBAAO,WAAW,0BAAX,CAAsC,MAAtC,CAA6C,WAAW,aAAxD,CAAP;AACD;AAHM;AAjEmC,EAAlB,CAA5B;;AAwEA,KAAI,mBAAmB,MAAM,WAAN,CAAkB;AAAA;;AACvC,gBAAW;AACT,eAAM,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADpB;AAET,iBAAQ,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFtB;AAGT,2BAAkB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,CAHT;AAIT,iCAAwB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAJtC;AAKT,wBAAe,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UALtD;AAMT,gCAAuB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UANrC;AAOT,8BAAqB,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAPnC,MAD4B;;AAWvC,sBAAiB,YAAW;AAC1B,gBAAO;AACL,4BAAe,IADV;AAEL,2BAAc,IAFT;AAGL,+BAAkB;AAHb,UAAP;AAKD,MAjBsC;;AAmBvC,gCAA2B,UAAS,SAAT,EAAoB;AAC7C,aAAG,UAAU,IAAV,KAAiB,KAAK,KAAL,CAAW,IAA/B,EAAoC;AAClC,kBAAK,gBAAL,CAAsB,UAAU,IAAhC;AACD;AACF,MAvBsC;;AAyBvC,wBAAmB,YAAW;AAC1B,cAAK,gBAAL,CAAsB,KAAK,KAAL,CAAW,IAAjC;AACA,cAAK,KAAL;AACH,MA5BsC;;AA8BvC,yBAAoB,YAAU;AAC5B,cAAK,KAAL;AACD,MAhCsC;;AAkCvC,YAAO,YAAW;AAChB,aAAI,MAAK,KAAK,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAAL,EAAkD,MAAlD,CAAyD,GAAzD,CAAT;AACA,aAAG,QAAM,IAAT,EAAc;AACZ,kBAAK,UAAL,CAAgB,GAAhB,EAAoB,KAAK,IAAL,CAAU,UAAV,CAAqB,KAArB,CAA2B,MAA/C;AACA,kBAAK,IAAL,CAAU,UAAV,CAAqB,QAArB,CAA8B,EAAC,QAAO,EAAR,EAA9B;AACD;AACF,MAxCsC;AAyCvC,yBAAoB,UAAS,GAAT,EAAa;AAC/B,cAAK,UAAL,CAAgB,GAAhB,EAAoB,KAAK,IAAL,CAAU,UAAV,CAAqB,eAArB,GAAuC,MAA3D;AACA,cAAK,IAAL,CAAU,UAAV,CAAqB,QAArB,CAA8B,EAAC,QAAO,EAAR,EAA9B;AACD,MA5CsC;;AA8CvC,iBAAY,UAAS,GAAT,EAAc,YAAd,EAA2B;AACrC,sBAAa,OAAb,CAAqB,UAAS,WAAT,EAAqB;AACxC,kBAAK,uBAAL,CAA6B,GAA7B,EAAiC,YAAY,EAA7C,EAAiD,YAAY,MAA7D,EAAqE,YAAY,OAAjF;AACD,UAFoB,CAEnB,IAFmB,CAEd,IAFc,CAArB;AAGD,MAlDsC;;AAoDvC,aAAQ,YAAY;AAClB,aAAI,2BAA0B,EAA9B;aACI,iBAAe,EADnB;aAEI,6BAA6B,EAFjC;aAGI,oBAAoB,EAHxB;AAIA,cAAI,IAAI,IAAI,CAAZ,EAAgB,IAAG,KAAK,KAAL,CAAW,aAAX,CAAyB,MAA5C,EAAoD,GAApD,EAAwD;AACtD,iBAAI,KAAK,KAAK,KAAL,CAAW,aAAX,CAAyB,CAAzB,CAAT;AACA,iBAAG,KAAK,KAAL,CAAW,gBAAX,CAA4B,OAA5B,CAAoC,EAApC,IAAwC,CAAC,CAA5C,EAA8C;AAC5C,gCAAe,IAAf,CAAoB,EAApB;AACD,cAFD,MAEO,IAAG,KAAK,yBAAL,CAA+B,EAA/B,KAAsC,KAAK,KAAL,CAAW,aAAX,KAA6B,EAAtE,EAAyE;AAC9E,4CAA2B,IAA3B,CAAgC,EAAhC;AACD,cAFM,MAEA,IAAG,KAAK,KAAL,CAAW,gBAAX,CAA4B,OAA5B,CAAoC,EAApC,IAAwC,CAAC,CAA5C,EAA8C;AACnD,0CAAyB,IAAzB,CAA8B,EAA9B;AACD,cAFM,MAEA;AACL,mCAAkB,IAAlB,CAAuB,EAAvB;AACD;AACF;;AAED,gBAAQ;AAAA;aAAA;aACJ,6BAAK,KAAI,aAAT,EAAuB,OAAO,EAAC,SAAS,YAAV,EAAwB,OAAO,OAA/B,EAAwC,QAAO,KAAK,KAAL,CAAW,MAAX,GAAoB,IAAnE,EAA9B,GADI;aAEJ,oBAAC,qBAAD,IAAuB,KAAI,YAA3B,EAAwC,KAAK,KAAK,KAAL,CAAW,IAAxD;AACI,2CAA0B,wBAD9B;AAEI,6CAA4B,0BAFhC;AAGI,gCAAe,cAHnB;AAII,oCAAmB,iBAJvB;AAKI,wCAAuB,KAAK,KAAL,CAAW,qBALtC;AAMI,sCAAqB,KAAK,KAAL,CAAW,mBANpC;AAFI,UAAR;AAUD,MAhFsC;;AAkFvC,qBAAgB,UAAS,SAAT,EAAoB;AAChC,cAAK,QAAL,CAAc,EAAC,eAAe,SAAhB,EAAd;AACH,MApFsC;;AAsFvC,oBAAe,UAAS,KAAT,EAAgB;AAC3B,cAAK,QAAL,CAAc,EAAC,cAAc,KAAf,EAAd;AACH,MAxFsC;;AA0FvC,uBAAkB,UAAS,OAAT,EAAkB;;AAEhC,aAAI,YAAY,KAAK,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAAL,CAAhB;aACI,aAAa,EAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAAF,CADjB;aAEI,cAAc,UAAU,SAAV,CAAoB,GAApB,CAFlB;;AAIA,aAAI,WAAJ,EAAiB;AACb,yBAAY,MAAZ;AACH;;AAED,aAAI,kCAAkC,KAAK,kBAA3C;AACA,aAAI,8BAA8B,KAAK,oBAAvC;AACA,cAAK,IAAL,CACI,OADJ,EAEI,UAAU,QAAV,EAAoB;AAChB,iBAAI,IAAI,SAAS,MAAT,CAAgB,GAAhB,CAAR;AACA,eAAE,SAAF,CAAY,UAAZ;AACA,6CAAgC,CAAhC;AACA,yCAA4B,CAA5B;AACA,uBAAU,MAAV,CAAiB,CAAjB;AACA,iBAAI,MAAM,SAAS,MAAT,CAAgB,SAAhB,CAAV;AACA,iBAAI,kBAAkB,WAAW,MAAX,KAAsB,EAA5C;AACA,iBAAI,iBAAiB,WAAW,KAAX,KAAqB,CAArB,GAAyB,EAA9C;AACA,iBAAI,SAAJ,CAAc,MAAI,cAAJ,GAAmB,GAAnB,GAAuB,eAArC;AACA,uBAAU,MAAV,CAAiB,GAAjB;AACH,UAbL;AAeH,MArHsC;;AAuHvC,gCAA2B,UAAS,SAAT,EAAoB;AAC7C,gBAAQ,KAAK,KAAL,CAAW,YAAX,IACG,KAAK,KAAL,CAAW,sBAAX,CAAkC,cAAlC,CAAiD,KAAK,KAAL,CAAW,YAA5D,CADH,IAEG,KAAK,KAAL,CAAW,sBAAX,CAAkC,KAAK,KAAL,CAAW,YAA7C,EAA2D,OAA3D,CAAmE,SAAnE,IAAgF,CAAC,CAF5F;AAGD,MA3HsC;;AA6HvC,2BAAsB,UAAS,GAAT,EAAc;AAChC,aAAI,GAAJ,EAAS;;AACL,iBAAI,oBAAoB,UAAS,SAAT,EAAoB;AACxC,sBAAK,KAAL,CAAW,YAAX,CAAwB,IAAxB,CAA6B,gCAA7B,EAA+D,SAA/D;AACA,sBAAK,QAAL,CAAc,UAAS,aAAT,EAAwB,YAAxB,EAAqC;AAC/C,yBAAI,IAAI,GAAG,MAAH,CAAU,cAAc,gBAAxB,CAAR;AACA,uBAAE,IAAF,CAAO,SAAP;AACA,4BAAM,EAAE,MAAF,GAAU,CAAhB,EAAkB;AAChB,2BAAE,KAAF;AACD;AACD,4BAAO,EAAC,kBAAkB,CAAnB,EAAP;AACH,kBAPD;AAQH,cAVuB,CAUtB,IAVsB,CAUjB,IAViB,CAAxB;AAWA,iBAAI,mBAAmB,UAAS,SAAT,EAAoB;AACvC,sBAAK,KAAL,CAAW,YAAX,CAAwB,IAAxB,CAA6B,gCAA7B,EAA+D,SAA/D;AACA,sBAAK,QAAL,CAAc,UAAS,aAAT,EAAwB,YAAxB,EAAqC;AAC/C,yBAAI,IAAI,cAAc,gBAAd,CAA+B,GAA/B,CACJ,UAAS,EAAT,EAAY;AAAC,gCAAO,OAAK,SAAL,GAAiB,EAAjB,GAAsB,EAA7B;AAAgC,sBADzC,CAAR;AAGA,4BAAO,EAAC,kBAAkB,CAAnB,EAAP;AACD,kBALH;AAMH,cARsB,CAQrB,IARqB,CAQhB,IARgB,CAAvB;;AAUA,kBAAK,KAAL,CAAW,aAAX,CAAyB,OAAzB,CAAiC,UAAS,SAAT,EAAoB;AACjD,qBAAI,aAAa,IAAI,MAAJ,CAAW,MAAM,SAAjB,CAAjB;AACA,qBAAI,UAAJ,EAAgB;AACZ,gCAAW,SAAX,CAAqB,YAAW;AAAC,2CAAkB,SAAlB;AAA6B,sBAA9D;AACA,gCAAW,QAAX,CAAoB,YAAW;AAAC,0CAAiB,SAAjB;AAA4B,sBAA5D;AACH;AACJ,cAND,EAMG,IANH;AAOH;AACJ,MA5JsC;;AA8JvC,8BAAyB,UAAS,GAAT,EAAc,SAAd,EAAyB,MAAzB,EAAiC,OAAjC,EAA0C;AAC/D,0BAAiB,4BAAjB,CAA8C,IAAI,MAAJ,CAAW,MAAM,SAAjB,CAA9C,EAA2E,MAA3E,EAAmF,OAAnF;AACH,MAhKsC;;AAkKvC,cAAS;AACP,uCAA8B,UAAS,UAAT,EAAqB,MAArB,EAA6B,OAA7B,EAAsC;;AAEhE,iBAAI,UAAJ,EAAgB;AACZ,qBAAI,gBAAgB,WAAW,SAAX,CAAqB,GAArB,CAApB;;AAEA,qBAAI,cAAc,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,mCAAc,OAAd,CAAsB,UAAS,YAAT,EAAuB;AACzC,0CAAiB,4BAAjB,CAA8C,YAA9C;AACH,sBAFD;AAGH;;AAED,4BAAW,IAAX,CAAgB,EAAC,QAAQ,MAAT,EAAiB,gBAAgB,OAAjC,EAAhB;AACH;AACJ,UAdM;AAeP,qCAA4B,UAAS,UAAT,EAAqB;AAC7C,iBAAI,CAAC,UAAL,EAAiB;AACb,wBAAO,EAAP;AACH;;AAED,iBAAI,gBAAgB,WAAW,SAAX,CAAqB,GAArB,CAApB;AACA,iBAAI,cAAc,MAAd,KAAyB,CAA7B,EAAgC;AAC5B,wBAAO,CAAC,UAAD,CAAP;AACH,cAFD,MAEO;AACH,qBAAI,cAAc,EAAlB;AACA,+BAAc,OAAd,CAAsB,UAAS,YAAT,EAAuB;AACzC,mCAAc,YAAY,MAAZ,CAAmB,iBAAiB,0BAAjB,CAA4C,YAA5C,CAAnB,CAAd;AACH,kBAFD;AAGA,wBAAO,WAAP;AACH;AACJ;AA9BM;AAlK8B,EAAlB,CAAvB;;AAsMA,KAAI,cAAc,MAAM,WAAN,CAAkB;AAAA;;;AAEhC,gBAAW;AACP,0BAAiB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADjC;AAEP,gCAAuB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFvC;AAGP,8BAAqB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAHrC;AAIP,sBAAa,MAAM,SAAN,CAAgB,OAAhB,CACT,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAClB,iBAAI,MAAM,SAAN,CAAgB,MADF;AAElB,mBAAM,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFX;AAGlB,0BAAa,MAAM,SAAN,CAAgB,OAAhB,CACT,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAClB,6BAAY,MAAM,SAAN,CAAgB,MADV;AAElB,wBAAO,MAAM,SAAN,CAAgB,MAFL;AAGlB,wBAAO,MAAM,SAAN,CAAgB,MAHL,E;AAIlB,4BAAW,MAAM,SAAN,CAAgB;AAJT,cAAtB,CADS,EAOX;AAVgB,UAAtB,CADS,EAaX,UAjBK;AAkBP,uBAAc,MAAM,SAAN,CAAgB,UAAhB,CAA2B,YAA3B,CAlBP;AAmBP,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAnB9B,MAFqB;;AAwBhC,sBAAiB,YAAW;;AAExB,aAAI,wBAAwB,EAA5B;AACA,aAAI,KAAK,KAAL,CAAW,eAAX,CAA2B,mBAA/B,EAAoD;AAChD,mCAAsB,IAAtB,CACI,EAAC,IAAI,MAAL;AACC,kCAAiB,KAAK,KAAL,CAAW,YAAX,GAA0B,iBAA1B,GAA8C,KAAK,KAAL,CAAW,eAAX,CAA2B,mBAD3F;AAEC,oCAAmB,KAAK,KAAL,CAAW,YAAX,GAA0B,KAAK,KAAL,CAAW,eAAX,CAA2B,6BAFzE,EADJ;AAKH;AACD,aAAI,KAAK,KAAL,CAAW,eAAX,CAA2B,qBAA/B,EAAsD;AAClD,mCAAsB,IAAtB,CACI,EAAC,IAAI,QAAL;AACC,kCAAiB,KAAK,KAAL,CAAW,YAAX,GAA0B,iBAA1B,GAA8C,KAAK,KAAL,CAAW,eAAX,CAA2B,qBAD3F;AAEC,oCAAmB,KAAK,KAAL,CAAW,YAAX,GAA0B,KAAK,KAAL,CAAW,eAAX,CAA2B,+BAFzE,EADJ;AAKH;AACD,aAAI,KAAK,KAAL,CAAW,eAAX,CAA2B,oBAA/B,EAAqD;AACjD,mCAAsB,IAAtB,CACI,EAAC,IAAI,OAAL;AACC,kCAAiB,KAAK,KAAL,CAAW,YAAX,GAA0B,iBAA1B,GAA8C,KAAK,KAAL,CAAW,eAAX,CAA2B,oBAD3F;AAEC,oCAAmB,KAAK,KAAL,CAAW,YAAX,GAA0B,KAAK,KAAL,CAAW,eAAX,CAA2B,8BAFzE,EADJ;AAKH;;AAGD,aAAI,sBAAsB,EAA1B;aACI,yBAAyB,EAD7B;AAEA,cAAK,KAAL,CAAW,WAAX,CAAuB,OAAvB,CAA+B,UAAS,UAAT,EAAqB;AAChD,iBAAI,mBAAmB,EAAvB;AACA,wBAAW,WAAX,CAAuB,OAAvB,CAA+B,UAAS,UAAT,EAAqB;AAChD,qBAAI,EAAE,OAAO,WAAW,KAApB,KAA8B,WAA9B,IAA6C,WAAW,KAA5D,EAAmE;AAC/D,sCAAiB,IAAjB,CAAsB,WAAW,SAAjC;AACH;AACJ,cAJD;AAKA,oCAAuB,WAAW,IAAlC,IAA0C,gBAA1C;AACA,mCAAsB,oBAAoB,MAApB,CAA2B,gBAA3B,CAAtB;AACH,UATD;;AAWA,kBAAS,UAAT,CAAoB,KAApB,EAA2B,KAA3B,EAAkC,IAAlC,EAAwC;AACpC,oBAAO,KAAK,OAAL,CAAa,KAAb,MAAwB,KAA/B;AACH;;AAED,gBAAO;AACH,yBAAY,sBAAsB,CAAtB,EAAyB,EADlC;AAEH,oCAAuB,qBAFpB;AAGH,+BAAkB,oBAAoB,MAApB,CAA2B,UAA3B,CAHf;AAIH,qCAAwB;AAJrB,UAAP;AAMH,MAzE+B;;AA2EhC,aAAQ,YAAY;AAChB,kBAAS,aAAT,CAAuB,GAAvB,EAA4B;AACxB,oBAAO,IAAI,OAAJ,CAAY,OAAZ,IAAuB,CAAC,CAA/B;AACH;;AAED,gBACI;AAAA;aAAA,EAAK,WAAU,gBAAf,EAAgC,OAAO,EAAC,SAAS,OAAV,EAAmB,YAAY,KAA/B,EAAvC;aACI;AAAA;iBAAA,EAAK,OAAO,EAAC,SAAS,WAAV,EAAZ;iBACI;AAAA;qBAAA,EAAK,OAAO,EAAC,SAAS,YAAV,EAAwB,eAAe,KAAvC,EAAZ;qBACI,oBAAC,6BAAD,IAA+B,YAAY,KAAK,KAAL,CAAW,UAAtD,EAAkE,uBAAuB,KAAK,KAAL,CAAW,qBAApG,EAA2H,SAAS,KAAK,aAAzI;AADJ,kBADJ;iBAII,oBAAC,gBAAD;AACE,0BAAK,KAAK,KAAL,CAAW,UADlB;AAEE,0BAAI,cAFN;AAGE,2BAAM,KAAK,sBAAL,CAA4B,KAAK,KAAL,CAAW,UAAvC,CAHR;AAIE,6BAAQ,cAAc,KAAK,KAAL,CAAW,eAAX,CAA2B,mBAAzC,IAAgE,KAAhE,GAAwE,KAJlF;AAKE,uCAAkB,KAAK,KAAL,CAAW,gBAL/B;AAME,6CAAwB,KAAK,KAAL,CAAW,sBANrC;AAOE,oCAAe,KAAK,KAAL,CAAW,eAAX,CAA2B,aAP5C;AAQE,mCAAc,KAAK,KAAL,CAAW,YAR3B;AASE,4CAAuB,KAAK,KAAL,CAAW,qBATpC;AAUE,0CAAqB,KAAK,KAAL,CAAW,mBAVlC;AAJJ;AADJ,UADJ;AAoBH,MApG+B;;AAsGhC,mCAA8B,UAAS,IAAT,EAAe,EAAf,EAAkB;AAC5C,aAAI,KAAK,KAAL,CAAW,YAAX,IACA,KAAK,KAAL,CAAW,YAAX,CAAwB,OADxB,IAEA,CAAC,KAAK,KAAL,CAAW,YAAX,CAAwB,OAAxB,CAAgC,cAAhC,CAA+C,IAA/C,CAFL,EAE0D;AACtD,kBAAK,KAAL,CAAW,YAAX,CAAwB,WAAxB,CAAoC,IAApC,EAA0C,EAA1C;AACD;AACN,MA5G+B;;AA8GhC,wBAAmB,YAAW;AAC1B,cAAK,4BAAL,CAAkC,6BAAlC,EAAiE,KAAK,cAAtE;AACA,cAAK,4BAAL,CAAkC,0BAAlC,EAA8D,KAAK,aAAnE;AACH,MAjH+B;;AAmHhC,yBAAoB,YAAY;AAC9B,cAAK,4BAAL,CAAkC,6BAAlC,EAAiE,KAAK,cAAtE;AACA,cAAK,4BAAL,CAAkC,0BAAlC,EAA8D,KAAK,aAAnE;AACD,MAtH+B;;AAwHhC,oBAAe,UAAS,aAAT,EAAwB;AACnC,aAAI,kBAAkB,KAAK,KAAL,CAAW,UAAjC,EAA6C;AACzC,kBAAK,QAAL,CAAc,EAAC,YAAY,aAAb,EAAd;AACH;AACJ,MA5H+B;;AA8HhC,qBAAgB,UAAS,SAAT,EAAoB;AAChC,cAAK,IAAL,CAAU,YAAV,CAAuB,cAAvB,CAAsC,SAAtC;AACH,MAhI+B;;AAkIhC,oBAAe,UAAS,KAAT,EAAgB;AAC7B,cAAK,IAAL,CAAU,YAAV,CAAuB,aAAvB,CAAqC,KAArC;AACD,MApI+B;;AAsIhC,6BAAwB,UAAS,EAAT,EAAa;AACjC,cAAK,IAAI,IAAI,CAAb,EAAiB,IAAI,KAAK,KAAL,CAAW,qBAAX,CAAiC,MAAtD,EAA+D,GAA/D,EAAoE;AAChE,iBAAI,OAAO,KAAK,KAAL,CAAW,qBAAX,CAAiC,CAAjC,EAAoC,EAA/C,EAAmD;AAC/C,wBAAO,KAAK,KAAL,CAAW,qBAAX,CAAiC,CAAjC,EAAoC,eAA3C;AACH;AACJ;AACJ;;AA5I+B,EAAlB,CAAlB;;;;AAkJA,QAAO,OAAP,GAAiB,WAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;AChfA;;AAEA;;AAEA;;;;;;;;;;ACJA;;;;AAGA,KAAI,QAAQ,oBAAQ,gBAAR,CAAZ;AACA,KAAI,oBAAoB,oBAAQ,6BAAR,CAAxB;AACA,KAAI,aAAa,oBAAQ,4BAAR,CAAjB;AACA,KAAI,0BAA0B,oBAAQ,4CAAR,CAA9B;;AAEA,KAAI,kBAAkB,oBAAQ,qCAAR,CAAtB;AACA,KAAI,qBAAqB,oBAAQ,wCAAR,CAAzB;AACA,KAAI,uBAAuB,oBAAQ,0CAAR,CAA3B;;AAEA,KAAI,mBAAmB,oBAAQ,yCAAR,CAAvB;AACA,KAAI,QAAQ,oBAAQ,yBAAR,CAAZ;;AAEA,qBAAQ,4BAAR;;;;AAIA,KAAI,sBAAsB,SAAS,uBAAT,CAAiC,mBAAjC,EAAqD;AAC7E,UACE,MAAM,WAAN,CAAkB;AAChB,kBAAa,sBADG;AAEhB,aAAQ,CAAC,iBAAD,CAFQ;;AAIhB,gBAAW;AACT,2BAAoB,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AADhC,MAJK;;AAQhB,sBAAiB,YAAW;AAC1B,cAAO;AACL,kBAAU,IAAI,IAAJ,GAAW,WAAX,EADL;AAEL,qBAAa,CAFR;AAGL,eAAO;AAHF,QAAP;AAKD,MAde;;AAgBhB,kBAAa,YAAY;AACvB,WAAI,WAAW,KAAK,GAAL,CAAS,IAAI,IAAJ,GAAW,OAAX,KAAuB,IAAI,IAAJ,CAAS,KAAK,KAAL,CAAW,OAApB,EAA6B,OAA7B,EAAhC,CAAf;AACA,WAAI,WAAW,KAAK,IAAL,CAAU,YAAY,OAAO,IAAP,GAAc,EAA1B,CAAV,CAAf;;AAEA,cAAO,KAAK,KAAL,CAAW,IAAX,IAAmB,WAAU,CAA7B,IAAkC,KAAK,KAAL,CAAW,UAAX,GAAwB,EAAjE;AACD,MArBe;;AAuBhB,YAAO,YAAY;AACjB,YAAK,QAAL,CAAc,EAAC,MAAM,KAAP,EAAd;AACD,MAzBe;;AA2BhB,gBAAY,UAAU,YAAV,EAAwB,mBAAxB,EAA6C;AACvD,YAAK,QAAL,CAAc,EAAC,MAAM,KAAP,EAAd;AACA,YAAK,KAAL,CAAW,kBAAX,CAA8B,KAA9B,CAAoC,IAApC,EAA0C,SAA1C;AACD,MA9Be;;AAiChB,aAAQ,YAAY;AAClB,WAAI,KAAK,KAAK,WAAL,KACG,oBAAC,mBAAD,IAAqB,KAAK,KAA1B,EAAiC,YAAY,KAAK,SAAlD,EAA6D,eAAe,KAAK,KAAjF,GADH,GAEG,6BAAK,KAAI,SAAT,GAFZ;AAGA,cACE;AAAC,gCAAD;SAAA,EAAyB,gBAAe,8BAAxC,EAAuE,wBAAwB,GAA/F,EAAoG,wBAAwB,IAA5H;SACG;AADH,QADF;AAMD,MA3Ce;;AA8ChB,wBAAmB,YAAY;AAC7B,WAAG,KAAK,WAAL,EAAH,EAAsB;AACpB,cAAK,QAAL,CAAc,UAAS,aAAT,EAAwB;AACpC,kBAAO,EAAC,YAAY,cAAc,UAAd,GAAyB,CAAtC,EAAP;AACD,UAFD;AAGD;AACF;AApDe,IAAlB,CADF;AAwDD,EAzDD;;AA2DA,KAAI,cAAc,MAAM,WAAN,CAAkB;AAAA;;AAChC,cAAW;AACP,iBAAY,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAD1B;AAEP,oBAAgB,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAF9B,IADqB;;AAMhC,WAAQ,CAAC,UAAD,CANwB;;AAQhC,oBAAiB,YAAY;AAC3B,YAAO;AACL,yCAAkC,KAD7B;AAEL,wBAAiB;AAFZ,MAAP;AAID,IAb+B;;AAehC,uBAAoB,YAAY;AAC9B,SAAG,KAAK,KAAL,CAAW,gCAAX,IAA+C,KAAK,KAAL,CAAW,eAAX,CAA2B,MAA3B,KAAoC,CAAtF,EAAwF;AACtF,YAAK,UAAL,CAAgB,YAAW;AAAC,aAAG,KAAK,KAAL,CAAW,eAAX,CAA2B,MAA3B,KAAoC,CAAvC,EAA0C;AAAC,gBAAK,qBAAL;AAA8B;AAAC,QAAtF,CAAuF,IAAvF,CAA4F,IAA5F,CAAhB,EAAmH,IAAnH;AACD;AACF,IAnB+B;;AAqBhC,+BAA4B,UAAS,CAAT,EAAY;AACtC,UAAK,QAAL,CAAc,EAAC,iBAAiB,EAAE,MAAF,CAAS,KAA3B,EAAd;AACD,IAvB+B;;AAyBhC,0BAAuB,YAAW;AAChC,UAAK,aAAL,CAAmB,CAAnB,EAAsB,KAAK,KAAL,CAAW,eAAjC;AACD,IA3B+B;;AA6BhC,0BAAuB,YAAY;AACjC,UAAK,aAAL,CAAmB,EAAnB;AACD,IA/B+B;;AAiChC,kBAAe,UAAS,KAAT,EAAgB,eAAhB,EAAiC;AAC9C,UAAK,KAAL,CAAW,UAAX,CAAsB,KAAtB,CAA4B,IAA5B,EAAkC,SAAlC;AACD,IAnC+B;;AAqChC,WAAQ,YAAY;AAClB,YAAQ;AAAA;OAAA,EAAK,WAAU,wBAAf;OACR,6BAAK,IAAG,kBAAR,EAA2B,WAAU,sBAArC,EAA4D,aAAU,GAAtE,EAA0E,SAAS,KAAK,KAAL,CAAW,aAA9F,GADQ;OAEJ;AAAA;SAAA;SAAA;AAAA,QAFI;OAGJ;AAAA;SAAA,EAAK,WAAU,8BAAf;SACC,KAAK,KAAL,CAAW,gCAAX,GAEG;AAAA;WAAA;WACE;AAAC,+BAAD;aAAA;AACE,0BAAU;AADZ;aAGE,oBAAC,oBAAD;AACA,+BAAe,UADf;AAEE,qBAAK,MAFP;AAGE,sBAAO,KAAK,KAAL,CAAW,eAHpB;AAIE,4BAAY,qBAJd;AAKE,yBAAU,KAAK;AALjB,eAHF;aAUE,oBAAC,oBAAD,CAAsB,QAAtB,OAVF;aAWE;AAAC,8BAAD;eAAA,EAAiB,OAAO,EAAC,OAAO,OAAR,EAAxB,EAA0C,SAAS,KAAK,qBAAxD;eAAA;AAAA;AAXF;AADF,UAFH,GAoBG;AAAA;WAAA;WACE;AAAC,4BAAD;aAAA,EAAiB,SAAQ,SAAzB,EAAmC,SAAS,KAAK,qBAAjD;aAAA;AAAA,YADF;WAEE;AAAC,4BAAD;aAAA,EAAiB,SAAS,YAAU;AAAC,sBAAK,QAAL,CAAc,EAAC,kCAAiC,IAAlC,EAAd;AAAuD,gBAAlE,CAAmE,IAAnE,CAAwE,IAAxE,CAA1B,EAAyG,SAAQ,SAAjH;aAAA;AAAA,YAFF;WAGE;AAAA;aAAA,EAAG,SAAS,KAAK,KAAL,CAAW,aAAvB;aAAA;AAAA;AAHF;AArBJ;AAHI,MAAR;AA+BD;AArE+B,EAAlB,CAAlB;;AAwEE,KAAI,SAAS,MAAM,WAAN,CAAkB;AAAA;;AAC7B,cAAW;AACT,YAAO,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADrB;AAET,YAAO,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFrB;AAGT,sBAAiB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAH7B;AAIT,eAAU,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAJtB,IADkB;;AAQ7B,aAAU,YAAW;AACnB,UAAK,KAAL,CAAW,eAAX,CAA2B,KAAK,KAAL,CAAW,KAAtC;AACD,IAV4B;;AAY7B,oBAAiB;AACf,wBAAmB,IADJ;AAEf,qBAAgB,KAFD;AAGf,mBAAc,IAHC;AAIf,aAAQ;AACJ,wBAAiB,UACd,OAAO,QAAP,CAAgB,IAAhB,CAAqB,OAArB,CAA6B,KAA7B,IAAqC,CAAC,CAAtC,GACC,uBADD,GAEC,EAHa,IAGR,gBAHQ,GAGS,GAJtB;AAKJ,cAAO,MALH;AAMJ,eAAQ,MANJ;AAOJ,eAAQ;AAPJ;AAJO,IAZY;;AA2B7B,WAAQ,YAAY;AAClB,YACE;AAAA;OAAA,EAAM,OAAO,EAAC,SAAQ,KAAT,EAAb;OACE;AAAA;SAAA,EAAM,WAAW,KAAK,KAAL,CAAW,QAAX,GAAqB,4BAArB,GAAmD,WAApE,EAAiF,SAAS,KAAK,QAA/F;SACC,MAAM,OAAN,CAAc,KAAK,KAAL,CAAW,KAAzB,EAA+B,KAAK,eAApC;AADD;AADF,MADF;AAOD;AAnC4B,EAAlB,CAAb;;AAsCA,KAAI,kBAAkB,MAAM,WAAN,CAAkB;AAAA;;AACpC,cAAW;AACP,iBAAY,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAD1B;AAEP,oBAAgB,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAF9B,IADyB;;AAMpC,WAAQ,CAAC,UAAD,CAN4B;;AAQpC,oBAAiB,YAAW;AAC1B,YAAO;AACL,cAAO,CAAC,CADH;AAEL,wBAAiB;AAFZ,MAAP;AAID,IAbmC;;AAepC,yBAAsB,YAAW;AAC/B,YAAO,KAAK,KAAL,CAAW,KAAX,KAAqB,KAAK,eAAL,GAAuB,KAAnD;AACD,IAjBmC;;AAmBpC,+BAA4B,UAAS,CAAT,EAAY;AACtC,UAAK,QAAL,CAAc,EAAC,iBAAiB,EAAE,MAAF,CAAS,KAA3B,EAAd;AACD,IArBmC;;AAuBpC,mBAAgB,UAAS,QAAT,EAAmB;AACjC,UAAK,QAAL,CAAc,EAAC,OAAO,QAAR,EAAd;AACD,IAzBmC;;AA2BpC,YAAS,YAAW;AAClB,UAAK,KAAL,CAAW,UAAX,CAAsB,KAAK,KAAL,CAAW,KAAjC,EAAwC,KAAK,KAAL,CAAW,eAAnD;AACD,IA7BmC;;AA+BpC,uBAAoB,YAAY;AAC9B,SAAG,KAAK,oBAAL,MAA+B,KAAK,KAAL,CAAW,eAAX,CAA2B,MAA3B,KAAoC,CAAtE,EAAwE;AACtE,YAAK,UAAL,CACE,YAAW;AACT,aAAG,KAAK,KAAL,CAAW,eAAX,CAA2B,MAA3B,KAAoC,CAAvC,EAA0C;AACxC,gBAAK,OAAL;AACD;AACF,QAJD,CAIE,IAJF,CAIO,IAJP,CADF,EAKgB,IALhB;AAMD;AACF,IAxCmC;;AA0CpC,WAAQ,YAAW;;AACjB,YACE;AAAA;OAAA,EAAK,WAAU,sBAAf;OACE;AAAA;SAAA;SAAA;AAAA,QADF;OAEE;AAAA;SAAA,EAAK,WAAU,cAAf;SACG,CAAC,CAAC,YAAD,EAAe,CAAf,CAAD,EAAmB,CAAC,gBAAD,EAAmB,CAAnB,CAAnB,EAA0C,CAAC,gBAAD,EAAmB,CAAnB,CAA1C,EAAiE,CAAC,gBAAD,EAAkB,CAAlB,CAAjE,EAAuF,CAAC,UAAD,EAAY,EAAZ,CAAvF,EAAwG,GAAxG,CAA4G,UAAS,EAAT,EAAY;AACvH,kBACE,oBAAC,MAAD;AACE,kBAAK,GAAG,CAAH,KAAO,KAAK,KAAL,CAAW,KAAX,KAAmB,GAAG,CAAH,CAA1B,CADP;AAEE,oBAAO,GAAG,CAAH,CAFT;AAGE,oBAAO,GAAG,CAAH,CAHT;AAIE,8BAAiB,KAAK,cAJxB;AAKE,uBAAU,KAAK,KAAL,CAAW,KAAX,KAAmB,GAAG,CAAH;AAL/B,aADF;AASD,UAV4G,CAU3G,IAV2G,CAUtG,IAVsG,CAA5G;AADH,QAFF;OAeE;AAAA;SAAA,EAAM,OAAO,EAAC,SAAS,KAAK,oBAAL,KAA8B,OAA9B,GAAuC,MAAjD,EAAb;SACE;AAAC,6BAAD;WAAA;AACE,wBAAU;AADZ;WAGE,oBAAC,oBAAD;AACA,6BAAe,UADf;AAEE,mBAAK,MAFP;AAGE,oBAAO,KAAK,KAAL,CAAW,eAHpB;AAIE,0BAAY,qBAJd;AAKE,uBAAU,KAAK;AALjB,aAHF;WAUE,oBAAC,oBAAD,CAAsB,QAAtB,OAVF;WAWE;AAAA;aAAA;aACE;AAAC,8BAAD;eAAA,EAAiB,SAAS,KAAK,OAA/B;eAAA;AAAA;AADF;AAXF;AADF;AAfF,MADF;AAqCD;;AAhFmC,EAAlB,CAAtB;;AAsFF,QAAO,OAAP,GAAiB,oBAAoB,eAApB,CAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClRA,iF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA,2FAAsE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,uDAAsD,iBAAiB,iBAAiB,8BAA8B,8BAA8B,iBAAiB,8BAA8B,6BAA6B,uBAAuB,gBAAgB,oBAAoB,iBAAiB,mBAAmB,GAAG,8BAA8B,mBAAmB,GAAG,kCAAkC,eAAe,qBAAqB,sBAAsB,GAAG,kCAAkC,iBAAiB,oBAAoB,mBAAmB,GAAG,sCAAsC,sBAAsB,qBAAqB,mBAAmB,wBAAwB,eAAe,GAAG,uCAAuC,eAAe,GAAG,yCAAyC,eAAe,GAAG,mFAAmF,kBAAkB,sCAAsC,GAAG,gBAAgB,iBAAiB,yBAAyB,mBAAmB,GAAG,sBAAsB,iBAAiB,yBAAyB,mBAAmB,GAAG,uBAAuB,eAAe,GAAG,2BAA2B,uBAAuB,gBAAgB,iBAAiB,iBAAiB,8BAA8B,6BAA6B,mBAAmB,iCAAiC,GAAG,6BAA6B,uBAAuB,qBAAqB,sBAAsB,oBAAoB,GAAG,gCAAgC,iBAAiB,eAAe,GAAG,kCAAkC,iBAAiB,sBAAsB,GAAG,mBAAmB,mBAAmB,gBAAgB,iBAAiB,sBAAsB,oBAAoB,4BAA4B,gBAAgB,2BAA2B,2BAA2B,2BAA2B,uBAAuB,4DAA4D,4DAA4D,2FAA2F,mFAAmF,mFAAmF,GAAG,uBAAuB,0BAA0B,eAAe,0FAA0F,0FAA0F,GAAG,mCAAmC,gBAAgB,eAAe,GAAG,uCAAuC,gBAAgB,GAAG,4CAA4C,gBAAgB,GAAG;;AAElqF;;;;;;;;;;;;;;;;;;;;ACPA;;;;AAIA,KAAI,QAAQ,oBAAQ,gBAAR,CAAZ;AACA,KAAI,WAAW,oBAAQ,oBAAR,CAAf;AACA,KAAI,iBAAiB,oBAAQ,2BAAR,CAArB;AACA,KAAI,aAAa,oBAAQ,4BAAR,CAAjB;AACA,KAAI,SAAS,oBAAQ,oBAAR,CAAb;AACA,qBAAQ,qCAAR;;AAEA,KAAI,yBAAwB,oBAAQ,mCAAR,CAA5B;;AAEA,KAAI,IAAI,oBAAQ,iBAAR,CAAR;;AAEA,qBAAQ,2BAAR;AACA,qBAAQ,2BAAR;AACA,qBAAQ,0BAAR,E;;AAEA,qBAAQ,mBAAR,EAAoB,CAApB;AACA,qBAAQ,gDAAR;;AAEA,qBAAQ,yBAAR;AACA,qBAAQ,4CAAR;;;;AAKA,KAAI,8BAA8B,oBAAQ,yCAAR,CAAlC;AACA,KAAI,SAAS,oBAAQ,iBAAR,CAAb;AACA,KAAI,iBAAiB,OAAO,cAA5B;AACA,KAAI,qBAAqB,OAAO,kBAAhC;AACA,KAAI,mBAAmB,oBAAQ,4BAAR,CAAvB;AACA,KAAI,sBAAsB,oBAAQ,gCAAR,CAA1B;AACA,KAAI,eAAe,oBAAQ,wBAAR,CAAnB;AACA,KAAI,eAAe,oBAAQ,wBAAR,CAAnB;AACA,KAAI,mBAAmB,oBAAQ,4BAAR,CAAvB;;AAEA,KAAI,8BAA8B,oBAAQ,2CAAR,CAAlC;AACA,KAAI,sBAAsB,oBAAQ,mCAAR,CAA1B;;AAEA,KAAI,qBAAqB,oBAAQ,kCAAR,CAAzB;AACA,qBAAQ,mCAAR;;;;AAIA,qBAAQ,wBAAR;;;;AAIA,KAAI,UAAU,MAAM,WAAN,CAAkB;AAAA;;;AAE5B,gBAAW;AACP,eAAM,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AACxB,yBAAY,MAAM,SAAN,CAAgB,IADJ;AAExB,2BAAc,MAAM,SAAN,CAAgB,IAFN;AAGxB,6BAAgB,MAAM,SAAN,CAAgB,IAHR;AAIxB,gCAAmB,MAAM,SAAN,CAAgB,IAJX;AAKxB,6BAAgB,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AALf,UAAtB,CADC;AAQP,wBAAe,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAR/B;AASP,wBAAe,MAAM,SAAN,CAAgB,SAAhB,CAA0B,CACrC,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC1C,2BAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADK;AAE1C,0BAAa,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFM;AAG1C,wCAA2B,MAAM,SAAN,CAAgB;AAHD,UAAtB,CAAxB,CADqC,EAMrC,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC1C,iBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADe;AAE1C,kCAAqB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AACvC,qBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADY;AAEvC,kCAAiB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAF1B;AAGvC,6BAAY,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAHI,cAAtB,EAIlB,UANuC;AAO1C,6BAAgB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAClC,qBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADO;AAElC,kCAAiB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD,UAF/B;AAGlC,6BAAY,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAHD,cAAtB,EAIb,UAXuC;AAY1C,0BAAa,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAZM,UAAtB,CAAxB,CANqC,CAA1B,EAoBZ,UA7BI;AA8BP,mBAAU,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UA9B1B;AA+BP,4BAAmB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAC/D,uBAAU,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD8B;AAE/D,2BAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAF0B,UAAtB,CAAxB,CA/BZ;AAmCP,0BAAiB,MAAM,SAAN,CAAgB,MAnC1B;AAoCP,gCAAuB,MAAM,SAAN,CAAgB,MApChC;AAqCP,8BAAqB,MAAM,SAAN,CAAgB,MArC9B;AAsCP,kCAAyB,MAAM,SAAN,CAAgB,MAtClC;AAuCP,0BAAiB,MAAM,SAAN,CAAgB,IAvC1B;AAwCP,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAxC9B;AAyCP,4BAAmB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAzCnC;AA0CP,kCAAyB,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AA1CvC,MAFiB;;AA+C5B,sBAAiB,YAAY;AACzB,aAAI,gBAAgB,KAAK,KAAL,CAAW,qBAAX,GAAoC,KAAK,KAAL,CAAW,qBAAX,CAAiC,GAAjC,OAA2C,MAA/E,GAAyF,KAA7G;AACA,aAAI,yBAAyB,EAA7B;AACA,aAAG,KAAK,KAAL,CAAW,iBAAd,EAAkC;AAChC,kBAAK,IAAI,IAAI,CAAb,EAAgB,IAAG,KAAK,KAAL,CAAW,iBAAX,CAA6B,MAAhD,EAAwD,GAAxD,EAA4D;AAC1D,wCAAuB,KAAK,KAAL,CAAW,iBAAX,CAA6B,CAA7B,EAAgC,MAAvD,IAA+D,CAA/D;AACD;AACF;AACD,gBAAO;AACH,kCAAqB,KADlB;AAEH,4BAAe,aAFZ;AAGH,+BAAkB,IAHf;AAIH,6BAAgB,IAJb;AAKH,8BAAiB,IALd;AAMH,4BAAe,IANZ;AAOH,kCAAqB,WAPlB;AAQH,qCAAuB,sBARpB;AASH,2CAA8B;AAT3B,UAAP;AAWH,MAlE2B;;AAoE5B,mCAA8B,YAAW;AACvC,aAAI,MAAM,CAAV;AACA,cAAI,IAAI,CAAR,IAAa,KAAK,KAAL,CAAW,sBAAxB,EAA+C;AAC7C,oBAAM,KAAK,KAAL,CAAW,sBAAX,CAAkC,CAAlC,CAAN;AACD;AACD,gBAAO,GAAP;AACD,MA1E2B;;AA4E5B,mBAAc,YAAW;AACvB,aAAG,KAAK,KAAL,CAAW,mBAAd,EAAkC;AAChC,oBAAO,KAAK,KAAL,CAAW,eAAlB;AACD,UAFD,MAEO,IAAI,CAAE,KAAK,KAAL,CAAW,iBAAjB,EAAmC;AACxC,oBAAO,KAAK,KAAL,CAAW,QAAlB;AACD,UAFM,MAEA;AACL,iBAAI,UAAU,EAAd;AACA,kBAAI,IAAI,IAAI,CAAZ,EAAe,IAAG,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,MAA3C,EAAoD,GAApD,EAAwD;AACpD,qBAAI,UAAU,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,CAAzB,CAAd;AACA,yBAAQ,IAAR,CAAa,OAAb;AACA,qBAAI,0BACA,KAAK,KAAL,CAAW,iBAAX,CACG,MADH,CACU,UAAS,CAAT,EAAW;AACjB,4BAAO,EAAE,MAAF,KAAY,QAAQ,EAApB,IAA0B,KAAK,KAAL,CAAW,sBAAX,CAAkC,EAAE,MAApC,CAAjC;AACD,kBAFO,CAEN,IAFM,CAED,IAFC,CADV,CADJ;AAKA,sBAAI,IAAI,IAAI,CAAZ,EAAgB,IAAI,wBAAwB,MAA5C,EAAqD,GAArD,EAA0D;AACxD,wBAAG,IAAH,CAAQ,KAAR,CAAc,OAAd,EAAsB,wBAAwB,CAAxB,EAA2B,YAA3B,CAAwC,IAAxC,CAA6C,KAA7C,CAAmD,CAAnD,EAAsD,KAAK,KAAL,CAAW,sBAAX,CAAkC,wBAAwB,CAAxB,EAA2B,MAA7D,CAAtD,CAAtB;AACD;AAEJ;AACD,oBAAO,OAAO,MAAP,CAAc,KAAK,KAAL,CAAW,QAAzB,EAAmC,EAAC,MAAM,EAAC,OAAO,OAAR,EAAP,EAAnC,CAAP;AACD;AACF,MAlG2B;;AAoG5B,mBAAc,UAAS,QAAT,EAAmB;AAC7B,cAAK,QAAL,CAAc,EAAC,iBAAiB,QAAlB,EAAd,EAA2C,YAAW;AAClD,kBAAK,KAAL,CAAW,uBAAX,CAAmC,IAAnC,CAAwC,6BAAxC,EAAuE,QAAvE;AACH,UAFD;AAGH,MAxG2B;;AA0G5B,gBAAW,UAAS,KAAT,EAAgB;AACvB,cAAK,QAAL,CAAc,EAAC,cAAc,KAAf,EAAd,EAAqC,YAAW;AAC5C,kBAAK,KAAL,CAAW,uBAAX,CAAmC,IAAnC,CAAwC,0BAAxC,EAAoE,KAApE;AACH,UAFD;AAGH,MA9G2B;;AAgH5B,mBAAc,UAAU,QAAV,EAAoB;AAC9B,aAAI,KAAK,KAAL,CAAW,mBAAf,EAAoC;AAChC,iBAAI,mBAAoB,aAAa,KAAK,KAAL,CAAW,gBAAzB,GAA6C,IAA7C,GAAoD,QAA3E;AACA,kBAAK,QAAL,CAAc,EAAC,kBAAkB,gBAAnB,EAAd,EAAoD,YAAY;AAC5D,sBAAK,KAAL,CAAW,mBAAX,CAA+B,IAA/B,CAAoC,yBAApC,EAA+D,gBAA/D;AACH,cAFD;AAGH;AACJ,MAvH2B;;AAyH5B,iBAAY,UAAU,MAAV,EAAkB;AAC1B,aAAI,KAAK,KAAL,CAAW,mBAAf,EAAoC;AAChC,iBAAI,iBAAkB,WAAW,KAAK,KAAL,CAAW,cAAvB,GAAyC,IAAzC,GAAgD,MAArE;AACA,kBAAK,QAAL,CAAc,EAAC,gBAAgB,cAAjB,EAAd,EAAgD,YAAW;AACvD,sBAAK,KAAL,CAAW,mBAAX,CAA+B,IAA/B,CAAoC,uBAApC,EAA6D,cAA7D;AACH,cAFD;AAGH;AACJ,MAhI2B;;AAkI5B,qBAAgB,YAAY;AACxB,cAAK,QAAL,CAAc,EAAC,qBAAqB,CAAC,KAAK,KAAL,CAAW,mBAAlC,EAAd;AACH,MApI2B;;AAsI5B,0BAAqB,YAAY;AAC7B,aAAI,mBAAmB,CAAC,KAAK,KAAL,CAAW,aAAnC;AACA,cAAK,QAAL,CAAc,EAAC,eAAe,gBAAhB,EAAd;AACA,aAAI,KAAK,KAAL,CAAW,qBAAf,EAAsC;AAClC,kBAAK,KAAL,CAAW,qBAAX,CAAiC,GAAjC,CAAqC,gBAArC;AACH;AACD,WAAE,MAAF,EAAU,MAAV;AACH,MA7I2B;;AA+I5B,wBAAmB,UAAS,WAAT,EAAsB;AACrC,cAAK,QAAL,CAAc,EAAC,qBAAqB,WAAtB,EAAd;AACA,cAAK,QAAL,CAAc,EAAC,eAAgB,gBAAgB,QAAjC,EAAd,E;AACH,MAlJ2B;;AAoJ5B,mBAAc,YAAY;AACtB,gBAAO,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,CAAzB,EAA4B,cAA5B,CAA2C,eAA3C,KAA+D,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,CAAzB,EAA4B,aAAlG;AACH,MAtJ2B;;AAwJ5B,mBAAc,YAAW;AACrB,aAAI,eAAe,KAAnB;AACA,cAAI,IAAI,IAAE,CAAV,EAAa,IAAI,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,CAAzB,EAA4B,WAA5B,CAAwC,MAAzD,EAAiE,GAAjE,EAAsE;AAClE,iBAAG,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,CAAzB,EAA4B,WAA5B,CAAwC,CAAxC,EAA2C,SAA3C,IAAwD,SAA3D,EAAsE;AAClE,gCAAe,IAAf;AACA;AACH;AACJ;AACD,gBAAO,YAAP;AACH,MAjK2B;;AAmK5B,yBAAoB,YAAY;AAC5B,gBAAQ,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,MAAzB,IAAmC,CAA3C;AACH,MArK2B;;AAuK5B,wCAAmC,UAAU,EAAV,EAAc,EAAd,EAAkB;AACnD,aAAI,KAAK,CACP,eADO,EACU,qBADV,EACiC,kBADjC,EACqD,gBADrD,EACuE,iBADvE,EAC0F,eAD1F,EAC2G,cAD3G,CAAT;AAGA,cAAI,IAAI,IAAI,CAAZ,EAAe,IAAG,GAAG,MAArB,EAA8B,GAA9B,EAAkC;AAChC,iBAAI,IAAI,GAAG,CAAH,CAAR;AACA,iBAAG,GAAG,CAAH,MAAU,GAAG,CAAH,CAAb,EAAmB;AACjB,wBAAO,KAAK,IAAZ;AACD;AACF;AACD,gBAAO,KAAP;AACD,MAlL2B;;AAoL5B,0BAAqB,UAAS,SAAT,EAAoB,SAApB,EAA+B;AAClD,aAAG,CAAE,KAAK,KAAL,CAAW,4BAAhB,EAA6C;AAC3C,iBAAI,KAAK,iCAAL,CAAuC,KAAK,KAA5C,EAAmD,SAAnD,CAAJ,EAAmE;AACjE,sBAAK,KAAL,CAAW,uBAAX,CAAmC,MAAnC,EAA2C,OAA3C,EAAoD,cAApD,EAAoE,UAApE;AACA,sBAAK,QAAL,CAAc,EAAC,8BAA8B,IAA/B,EAAd;AACD;AACF;AACF,MA3L2B;;AA6L5B,wBAAmB,YAAW;AAC1B,aAAI,QAAgB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,YAA/B,CAApB;aACI,kBAAkB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,eAA/B,CADtB;aAEI,eAAkB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,YAA/B,CAFtB;aAGI,gBAAkB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,YAA/B,CAHtB;aAII,aAAkB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,UAA/B,CAJtB;aAKI,iBAAkB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,cAA/B,CALtB;;AAOA,aAAI,eAAe,mBAAmB,KAAnB,EAA0B,eAA1B,EAA2C,YAA3C,EAAyD,aAAzD,EAAwE,UAAxE,EAAoF,cAApF,CAAnB;;AAEA,sBAAa,sBAAb;AACA,WAAE,cAAF,EAAkB,QAAlB,CAA2B,EAAC,WAAW,aAAa,kBAAb,EAAZ,EAA3B;;AAEA,WAAE,UAAF,EAAc,MAAd,CAAqB,aAAa,gBAAlC;AACA,WAAE,MAAF,EAAU,MAAV,CAAiB,aAAa,sBAA9B,EACU,MADV,CACiB,aAAa,gBAD9B,EAEU,EAFV,CAGa,mCAHb,EAIa,YAAW;AACP,0BAAa,iBAAb;AACA,eAAE,cAAF,EAAkB,QAAlB,CAA2B,QAA3B;AACH,UAPd;AASH,MApN2B;;AAsN5B,6BAAwB,YAAY;AAClC,aAAI,qBAAqB,CAAC,QAA1B;AACA,aAAI,cAAc,KAAK,YAAL,GAAoB,IAAtC;AACA,cAAI,IAAI,IAAI,CAAZ,EAAe,IAAG,YAAY,MAA9B,EAAsC,GAAtC,EAA0C;AACxC,kBAAI,IAAI,IAAI,CAAZ,EAAgB,IAAI,CAAC,YAAY,CAAZ,EAAe,WAAf,IAA8B,EAA/B,EAAmC,MAAvD,EAA+D,GAA/D,EAAqE;AACnE,qBAAI,QAAQ,YAAY,CAAZ,EAAe,WAAf,CAA2B,CAA3B,EAA8B,KAA1C;AACA,qBAAG,CAAC,MAAM,KAAN,CAAD,IAAiB,QAAQ,kBAA5B,EAA+C;AAC7C,0CAAqB,KAArB;AACD;AACF;AACF;AACD,gBAAO,kBAAP;AACD,MAlO2B;;AAoO5B,6BAAwB,YAAY;AAClC,aAAI,qBAAqB,QAAzB;AACA,aAAI,cAAc,KAAK,YAAL,GAAoB,IAAtC;AACA,cAAI,IAAI,IAAI,CAAZ,EAAe,IAAG,YAAY,MAA9B,EAAsC,GAAtC,EAA0C;AACxC,kBAAI,IAAI,IAAI,CAAZ,EAAgB,IAAI,CAAC,YAAY,CAAZ,EAAe,WAAf,IAA8B,EAA/B,EAAmC,MAAvD,EAA+D,GAA/D,EAAqE;AACnE,qBAAI,QAAQ,YAAY,CAAZ,EAAe,WAAf,CAA2B,CAA3B,EAA8B,KAA1C;AACA,qBAAG,CAAC,MAAM,KAAN,CAAD,IAAiB,QAAQ,kBAA5B,EAA+C;AAC7C,0CAAqB,KAArB;AACD;AACF;AACF;AACD,gBAAO,kBAAP;AACD,MAhP2B;;AAkP5B,iBAAY,YAAY;AACpB,aAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,UAAhB,IAA8B,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAlD,EAAqE;AACnE,oBAAO,oBAAC,cAAD;AACL,+BAAc,KAAK,KAAL,CAAW,YADpB;AAEL,qCAAoB,KAAK,sBAAL,GAA8B,QAA9B,EAFf;AAGL,qCAAoB,KAAK,sBAAL,GAA8B,QAA9B,EAHf;AAIL,oCAAmB,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAoC,IAApC,GAA2C,KAJzD,GAAP;AAKD,UAND,MAMO;AACL,iBAAI,KAAK,KAAK,YAAL,EAAT;AACA,oBAAO,oBAAC,kBAAD;AACL,+BAAc,KAAK,KAAL,CAAW,YADpB;AAEL,+BAAc,kBAAkB,EAAlB,GACI,GAAG,YAAH,CAAgB,QAAhB,EADJ,GAEI,KAJb;AAKL,+BAAc,kBAAkB,EAAlB,GACI,GAAG,YAAH,CAAgB,QAAhB,EADJ,GAEI,KAPb;AAQL,6BAAY,gBAAgB,EAAhB,GACM,GAAG,UAAH,CAAc,QAAd,EADN,GAEM,KAVb;AAWL,6BAAY,gBAAgB,EAAhB,GACM,GAAG,UAAH,CAAc,QAAd,EADN,GAEM,KAbb,GAAP;AAcD;AACJ,MA1Q2B;;AA4Q5B,iCAA4B,YAAW;AACrC,gBAAO,CAAE,KAAK,KAAL,CAAW,iBAAb,GACE,EADF,GAEE,KAAK,KAAL,CAAW,iBAAX,CAA6B,GAA7B,CAAiC,UAAS,KAAT,EAAe;AACvD,oBAAO,EAAC,MAAM,MAAM,QAAb,EAAuB,IAAI,MAAM,MAAjC,EAAyC,QAAQ,MAAM,YAAN,CAAmB,IAAnB,CAAwB,MAAzE,EAAP;AACD,UAFQ,CAFT;AAKD,MAlR2B;;AAoR5B,4BAAwB,UAAS,MAAT,EAAiB,MAAjB,EAAyB;AAC/C,cAAK,QAAL,CAAc,UAAS,aAAT,EAAwB;AACpC,iBAAG,cAAc,sBAAd,CAAqC,cAArC,CAAoD,MAApD,CAAH,EAA+D;AAC7D,+BAAc,sBAAd,CAAqC,MAArC,IAA+C,MAA/C;AACD;AACD,oBAAO,EAAC,wBAAwB,cAAc,sBAAvC,EAAP;AACD,UALD;AAMD,MA3R2B;;AA6R5B,qBAAgB,YAAW;AACzB,aAAI,SAAJ,EAAe,SAAf;AACA,aAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,IAAqC,CAAE,KAAK,KAAL,CAAW,mBAAlD,IAAyE,CAAE,KAAK,KAAL,CAAW,eAA1F,EAA0G;AACtG,yBAAY,KAAK,KAAL,CAAW,QAAX,CAAoB,IAApB,CAAyB,MAArC;AACA,yBAAY,KAAK,KAAL,CAAW,QAAX,CAAoB,iBAAhC;AACH,UAHD,MAGO;AACL,yBAAY,KAAK,KAAL,CAAW,eAAX,CAA2B,IAA3B,CAAgC,MAA5C;AACA,yBAAY,KAAK,KAAL,CAAW,eAAX,CAA2B,iBAAvC;AACD;;AAED,gBAAO;AAAA;aAAA,EAAK,OAAO,EAAC,SAAS,cAAV,EAA0B,iBAAiB,KAA3C,EAAZ;aACJ,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GACG;AAAA;iBAAA,EAAM,IAAG,WAAT;iBAAA;iBAA8B,SAA9B;iBAAA;iBAA6C,SAA7C;iBAAA;AAAA,cADH,GAEG;AAAA;iBAAA,EAAM,IAAG,WAAT;iBAAA;iBAA8B,SAA9B;iBAAA;iBAA6C,SAA7C;iBAAA;iBAAyD,KAAK,KAAL,CAAW,mBAAX,GAAiC,WAAjC,GAA+C,OAAxG;iBAAA;iBACG,CAAE,KAAK,KAAL,CAAW,iBAAb,IAAkC,CAAE,KAAK,KAAL,CAAW,iBAAX,CAA6B,MAAjE,GAA0E,GAA1E,GAAgF,WAAS,KAAK,YAAL,GAAoB,IAApB,CAAyB,MAAzB,GAAgC,SAAzC,IAAqD;AADxI,cAHC;aAKJ,KAAK,KAAL,CAAW,eAAX,IAA8B,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAA/C,GAAmE;AAAA;iBAAA,EAAG,MAAK,oBAAR,EAA6B,SAAS,KAAK,cAA3C;iBAA4D,KAAK,KAAL,CAAW,mBAAX,GAAiC,yBAAjC,GAA6D;AAAzH,cAAnE,GAAwN;AALpN,UAAP;AAOD,MA9S2B;;AAgT5B,oCAA+B,YAAW;AACxC,gBAAO,KAAK,KAAL,CAAW,aAAX,CAAyB,mBAAzB,CAA6C,KAA7C,CAAmD,QAAnD,KAAgE,OAAO,IAAP,CAAY,KAAK,KAAL,CAAW,sBAAvB,EAA+C,MAA/C,GAAwD,CAAxH,GACA,KAAK,KAAL,CAAW,aAAX,CAAyB,mBAAzB,GAA6C,iBAA7C,GAA+D,KAAK,SAAL,CAAe,KAAK,KAAL,CAAW,sBAA1B,CAD/D,GAEA,KAAK,KAAL,CAAW,aAAX,CAAyB,mBAFhC;AAGD,MApT2B;;AAsT5B,aAAQ,YAAY;AAChB,aAAI,gBAAgB,MAApB;;AAEA,gBACI;AAAA;aAAA;aACI;AAAA;iBAAA,EAAK,KAAI,gBAAT,EAA0B,WAAU,0BAApC,EAA+D,OAAO,EAAC,iBAAiB,aAAlB,EAAiC,YAAY,QAA7C,EAAtE;iBACK,KAAK,cAAL,EADL;iBAEI;AAAA;qBAAA,EAAK,OAAO,EAAC,SAAS,cAAV,EAA0B,eAAe,MAAzC,EAAiD,iBAAiB,KAAlE,EAAZ;qBACI,oBAAC,sBAAD,IAAwB,KAAI,wBAA5B;AACwB,8CAAqB,KAAK,6BAAL,EAD7C;AAEwB,uCAAc,KAAK,KAAL,CAAW,YAFjD;AAGwB,2CAAkB,KAAK,KAAL,CAAW,aAAX,CAAyB,gBAHnE;AAIwB,yDAAgC,YAAW;AAAC,kCAAK,KAAL,CAAW,uBAAX,CAAmC,MAAnC,EAA2C,OAA3C,EAAoD,cAApD,EAAoE,cAApE;AAAoF,0BAAhG,CAAiG,IAAjG,CAAsG,IAAtG,CAJxD;AADJ,kBAFJ;iBASI;AAAA;qBAAA,EAAK,OAAO,EAAC,SAAS,cAAV,EAA0B,eAAe,MAAzC,EAAZ;qBACK,KAAK,UAAL;AADL;AATJ,cADJ;aAeI;AAAA;iBAAA,EAAK,KAAI,YAAT,EAAsB,WAAU,oBAAhC,EAAqD,OAAO,EAAC,aAAa,aAAd,EAA5D;iBACI;AAAA;qBAAA,EAAO,KAAI,cAAX,EAA0B,WAAU,+BAApC,EAAoE,IAAG,eAAvE;qBACI,oBAAC,kBAAD,IAAoB,KAAI,oBAAxB;AACoB,kCAAQ,OAD5B;AAEoB,uCAAc,KAAK,YAAL,EAFlC;AAGoB,uCAAc,KAAK,YAAL,EAHlC;AAIoB,6CAAoB,KAAK,kBAAL,EAJxC;AAKoB,wDAA+B,CAAC,CAAC,KAAK,4BAAL,EALrD;AAMoB,+BAAM,KAAK,KAAL,CAAW,IANrC;AAOoB,wCAAe,KAAK,KAAL,CAAW,aAP9C;AAQoB,gDAAuB,KAAK,KAAL,CAAW,qBARtD;AASoB,2CAAkB,KAAK,KAAL,CAAW,gBATjD;AAUoB,uCAAc,KAAK,YAVvC;AAWoB,8CAAqB,KAAK,YAX9C;AAYoB,wCAAe,KAAK,KAAL,CAAW,aAZ9C;AAaoB,uCAAc,KAAK,KAAL,CAAW,YAb7C;AAcoB,wCAAe,KAAK,KAAL,CAAW,aAd9C;AAeoB,8CAAqB,KAAK,mBAf9C;AAgBoB,8CAAqB,KAAK,KAAL,CAAW,mBAhBpD;AAiBoB,8CAAqB,KAAK,KAAL,CAAW,mBAjBpD;AAkBoB,4CAAmB,KAAK,iBAlB5C;AAmBoB,sDAA6B,IAnBjD;AAoBoB,kDAAyB,KAAK,KAAL,CAAW,uBApBxD,GADJ;qBAsBI,oBAAC,gBAAD,IAAkB,UAAU,KAAK,YAAL,GAAoB,IAAhD;AACkB,yCAAgB,KAAK,KAAL,CAAW,cAD7C;AAEkB,qCAAY,KAAK,UAFnC;AAGkB,+BAAM,KAAK,KAAL,CAAW,IAHnC;AAIkB,wCAAe,KAAK,KAAL,CAAW,aAJ5C;AAKkB,uCAAc,KAAK,KAAL,CAAW,YAL3C;AAMkB,4CAAmB,KAAK,KAAL,CAAW,iBANhD;AAOkB,wCAAe,KAAK,KAAL,CAAW,aAP5C;AAQkB,8CAAqB,KAAK,KAAL,CAAW,mBARlD;AASkB,8CAAqB,KAAK,KAAL,CAAW,mBATlD;AAUkB,8CAAqB,KAAK,YAV5C;AAWkB,2CAAkB,KAAK,SAXzC;AAYkB,uCAAc,KAAK,YAAL,EAZhC;AAakB,6CAAoB,KAAK,kBAAL,EAbtC;AAckB,gDAAuB,IAdzC;AAtBJ,kBADJ;iBAwCI;AAAA;qBAAA,EAAK,KAAI,iBAAT,EAA2B,WAAU,yBAArC;qBACI;AAAA;yBAAA,EAAO,WAAU,cAAjB;yBACI,oBAAC,kBAAD,IAAoB,cAAc,KAAK,YAAL,EAAlC;AACwB,sCAAQ,WADhC;AAEwB,2CAAc,KAAK,YAAL,EAFtC;AAGwB,iDAAoB,KAAK,kBAAL,EAH5C;AAIwB,4DAA+B,CAAC,CAAC,KAAK,4BAAL,EAJzD;AAKwB,mCAAM,KAAK,KAAL,CAAW,IALzC;AAMwB,4CAAe,KAAK,KAAL,CAAW,aANlD;AAOwB,oDAAuB,KAAK,KAAL,CAAW,qBAP1D;AAQwB,+CAAkB,KAAK,KAAL,CAAW,gBARrD;AASwB,2CAAc,KAAK,YAT3C;AAUwB,4CAAe,KAAK,KAAL,CAAW,aAVlD;AAWwB,2CAAc,KAAK,KAAL,CAAW,YAXjD;AAYwB,gDAAmB,KAAK,KAAL,CAAW,iBAZtD;AAawB,4CAAe,KAAK,KAAL,CAAW,aAblD;AAcwB,kDAAqB,KAAK,mBAdlD;AAewB,kDAAqB,KAAK,KAAL,CAAW,mBAfxD;AAgBwB,kDAAqB,KAAK,KAAL,CAAW,mBAhBxD;AAiBwB,gDAAmB,KAAK,iBAjBhD;AAkBwB,0DAA6B,KAlBrD;AADJ;AADJ,kBAxCJ;iBAiEI;AAAA;qBAAA,EAAK,KAAI,cAAT,EAAwB,WAAU,sBAAlC;qBACI;AAAA;yBAAA,EAAO,WAAU,cAAjB;yBACI,oBAAC,kBAAD,IAAoB,cAAc,KAAK,YAAL,EAAlC;AACoB,sCAAQ,QAD5B;AAEoB,2CAAc,KAAK,YAAL,EAFlC;AAGoB,iDAAoB,KAAK,kBAAL,EAHxC;AAIoB,4DAA+B,CAAC,CAAC,KAAK,4BAAL,EAJrD;AAKoB,4CAAe,KAAK,KAAL,CAAW,aAL9C;AAMoB,mCAAM,KAAK,KAAL,CAAW,IANrC;AAOoB,oDAAuB,KAAK,KAAL,CAAW,qBAPtD;AAQoB,+CAAkB,KAAK,KAAL,CAAW,gBARjD;AASoB,2CAAc,KAAK,YATvC;AAUoB,4CAAe,KAAK,KAAL,CAAW,aAV9C;AAWoB,2CAAc,KAAK,KAAL,CAAW,YAX7C;AAYoB,4CAAe,KAAK,KAAL,CAAW,aAZ9C;AAaoB,kDAAqB,KAAK,mBAb9C;AAcoB,kDAAqB,KAAK,KAAL,CAAW,mBAdpD;AAeoB,kDAAqB,KAAK,KAAL,CAAW,mBAfpD;AAgBoB,gDAAmB,KAAK,iBAhB5C;AAiBoB,0DAA6B,KAjBjD,GADJ;yBAmBI,oBAAC,gBAAD,IAAkB,UAAU,KAAK,YAAL,GAAoB,IAAhD;AACkB,6CAAgB,KAAK,KAAL,CAAW,cAD7C;AAEkB,yCAAY,KAAK,UAFnC;AAGkB,mCAAM,KAAK,KAAL,CAAW,IAHnC;AAIkB,4CAAe,KAAK,KAAL,CAAW,aAJ5C;AAKkB,2CAAc,KAAK,KAAL,CAAW,YAL3C;AAMkB,gDAAmB,KAAK,KAAL,CAAW,iBANhD;AAOkB,4CAAe,KAAK,KAAL,CAAW,aAP5C;AAQkB,kDAAqB,KAAK,KAAL,CAAW,mBARlD;AASkB,kDAAqB,KAAK,KAAL,CAAW,mBATlD;AAUkB,+CAAkB,KAAK,SAVzC;AAWkB,2CAAc,KAAK,YAAL,EAXhC;AAYkB,iDAAoB,KAAK,kBAAL,EAZtC;AAakB,oDAAuB,KAbzC;AAnBJ;AADJ,kBAjEJ;iBAuGI;AAAA;qBAAA,EAAK,KAAI,cAAT,EAAwB,WAAU,sBAAlC;qBACI;AAAA;yBAAA,EAAO,WAAU,cAAjB;yBACI,oBAAC,kBAAD,IAAoB,cAAc,KAAK,YAAL,EAAlC;AACwB,sCAAQ,QADhC;AAEwB,2CAAc,KAAK,YAAL,EAFtC;AAGwB,iDAAoB,KAAK,kBAAL,EAH5C;AAIwB,4DAA+B,CAAC,CAAC,KAAK,4BAAL,EAJzD;AAKwB,kDAAqB,KAAK,YALlD;AAMwB,mCAAM,KAAK,KAAL,CAAW,IANzC;AAOwB,4CAAe,KAAK,KAAL,CAAW,aAPlD;AAQwB,oDAAuB,KAAK,KAAL,CAAW,qBAR1D;AASwB,+CAAkB,KAAK,KAAL,CAAW,gBATrD;AAUwB,2CAAc,KAAK,YAV3C;AAWwB,4CAAe,KAAK,KAAL,CAAW,aAXlD;AAYwB,2CAAc,KAAK,KAAL,CAAW,YAZjD;AAawB,gDAAmB,KAAK,KAAL,CAAW,iBAbtD;AAcwB,4CAAe,KAAK,KAAL,CAAW,aAdlD;AAewB,kDAAqB,KAAK,mBAflD;AAgBwB,kDAAqB,KAAK,KAAL,CAAW,mBAhBxD;AAiBwB,kDAAqB,KAAK,KAAL,CAAW,mBAjBxD;AAkBwB,gDAAmB,KAAK,iBAlBhD;AAmBwB,0DAA6B,IAnBrD;AAoBwB,sDAAyB,KAAK,KAAL,CAAW,uBApB5D;AADJ;AADJ,kBAvGJ;iBAiII,oBAAC,oBAAD,IAAsB,wBAAwB,KAAK,0BAAL,EAA9C;AACsB,2CAAsB,KAAK,qBADjD;AAEsB,8CAAyB,KAAK,KAAL,CAAW,uBAF1D;AAjIJ;AAfJ,UADJ;AAwJH;;AAjd2B,EAAlB,CAAd;;AAqdA,KAAI,qBAAqB,MAAM,WAAN,CAAkB;AAAA;;AACvC,gBAAW;AACP,wCAA+B,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAD7C,MAD4B;;AAKvC,kCAA6B,YAAY;AACrC,aAAI,gBAAgB,KAAK,KAAL,CAAW,aAA/B;AACA,aAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,UAApB,EAAgC;AAC5B,oBAAO,oBAAoB,aAApB,EAAmC,KAAK,KAAL,CAAW,YAA9C,EAA4D,KAAK,KAAL,CAAW,eAAvE,EAAwF,KAAK,KAAL,CAAW,IAAnG,EAAyG,KAAK,KAAL,CAAW,aAApH,EAAmI,cAAc,mBAAjJ,EACqB,KAAK,KAAL,CAAW,YADhC,EAC8C,KAAK,KAAL,CAAW,gBADzD,EAC2E,KAAK,KAAL,CAAW,mBADtF,EAC2G,KAAK,KAAL,CAAW,uBADtH,CAAP;AAEH,UAHD,MAIK,IAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,cAApB,EAAoC;AACrC,oBAAQ,oBAAC,eAAD,IAAiB,eAAe,aAAhC;AACiB,+BAAc,KAAK,KAAL,CAAW,YAD1C;AAEiB,4BAAW,KAAK,KAAL,CAAW,aAFvC;AAGiB,mCAAkB,KAAK,KAAL,CAAW,gBAH9C;AAIiB,+BAAc,KAAK,KAAL,CAAW,YAJ1C;AAKiB,sCAAqB,cAAc,mBALpD;AAMiB,mCAAkB,cAAc,gBANjD;AAOiB,4BAAW,cAAc,SAP1C,GAAR;AAQH,UATI,MAUA,IAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAApB,EAAuC;AACxC,oBAAO,oBAAoB,aAApB,EAAmC,KAAK,KAAL,CAAW,YAA9C,EAA4D,IAA5D,EAAkE,KAAK,KAAL,CAAW,IAA7E,EAAmF,KAAK,KAAL,CAAW,aAA9F,EAA6G,EAA7G,EACH,KAAK,KAAL,CAAW,YADR,EACsB,KAAK,KAAL,CAAW,gBADjC,EACmD,KAAK,KAAL,CAAW,mBAD9D,EACmF,KAAK,KAAL,CAAW,uBAD9F,CAAP;AAEH;AACJ,MAzBsC;;AA2BvC,aAAQ,YAAY;AAChB,aAAI,kBAAkB,KAAK,KAAL,CAAW,mBAAX,GAAiC,UAAjC,GAA8C,MAApE;AACA,aAAI,wBAAwB,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAoC,YAApC,GAAmD,eAA/E;;AAEA,gBACI;AAAA;aAAA;aACI;AAAA;iBAAA;iBACI;AAAA;qBAAA,EAAI,WAAU,kDAAd,EAAiE,SAAS,KAAK,KAAL,CAAW,YAAX,GAA0B,CAA1B,GAA8B,SAAxG;qBACI,oBAAC,aAAD,IAAe,MAAM,KAAK,KAAL,CAAW,IAAhC;AACe,uCAAc,KAAK,KAAL,CAAW,YADxC;AAEe,kCAAS,KAAK,KAAL,CAAW,OAFnC;AAGe,6CAAoB,KAAK,KAAL,CAAW,kBAH9C;AAIe,wDAA+B,KAAK,KAAL,CAAW,6BAJzD;AAKe,wCAAe,KAAK,KAAL,CAAW,aALzC;AAMe,wCAAe,KAAK,KAAL,CAAW,aANzC;AAOe,8CAAqB,KAAK,KAAL,CAAW,mBAP/C;AAQe,8CAAqB,KAAK,KAAL,CAAW,mBAR/C;AASe,4CAAmB,KAAK,KAAL,CAAW,iBAT7C;AAUe,uCAAc,KAAK,KAAL,CAAW,YAVxC;AADJ,kBADJ;iBAeM,KAAK,KAAL,CAAW,2BAAX,GAAyC,KAAK,2BAAL,EAAzC,GAA8E;AAfpF,cADJ;aAmBI;AAAA;iBAAA;iBACI;AAAA;qBAAA,EAAI,WAAU,kDAAd,EAAiE,OAAQ,KAAK,KAAL,CAAW,YAAX,GAA0B,EAAC,OAAO,OAAR,EAA1B,GAA6C,EAAtH;qBAA0H;AAAA;yBAAA;yBAAO;AAAP;AAA1H,kBADJ;iBAEM,KAAK,KAAL,CAAW,YAAX,GAA0B;AAAA;qBAAA,EAAI,WAAU,kDAAd;qBAAiE;AAAA;yBAAA;yBAAA;AAAA;AAAjE,kBAA1B,GAA4H;AAFlI;AAnBJ,UADJ;AA0BH;AAzDsC,EAAlB,CAAzB;;AA6DA,UAAS,iBAAT,CAA2B,KAA3B,EAAkC,OAAlC,EAA2C;AACvC,SAAI,SAAS,KAAb;AACA,SAAI,OAAO,MAAP,GAAgB,UAAU,CAA9B,EAAiC;;AAC7B,kBAAS,OAAO,SAAP,CAAiB,CAAjB,EAAoB,OAApB,CAAT;AACA,aAAI,OAAO,WAAP,CAAmB,GAAnB,IAA0B,UAAU,CAAxC,EAA2C;AACvC,sBAAS,OAAO,SAAP,CAAiB,CAAjB,EAAoB,OAAO,WAAP,CAAmB,GAAnB,CAApB,CAAT;AACH;AACD,kBAAS,SAAS,GAAlB;AACH;AACD,YAAO,MAAP;AACH;;AAGD,UAAS,mBAAT,CAA6B,aAA7B,EAA4C,YAA5C,EAA0D,eAA1D,EAA2E,IAA3E,EAAiF,iBAAjF,EAAoG,mBAApG,EAAyH,YAAzH,EAC6B,gBAD7B,EAC+C,mBAD/C,EACoE,uBADpE,EAC6F;;AAEzF,YAAO,kBAAkB,GAAlB,CAAsB,UAAU,gBAAV,EAA4B;AACrD,gBAAO,oBAAC,YAAD,IAAc,KAAK,kBAAkB,iBAAiB,WAAtD;AACc,mBAAM,IADpB;AAEc,4BAAe,aAF7B;AAGc,yBAAY,iBAAiB,WAH3C;AAIc,wBAAW,iBAAiB,yBAJ1C;AAKc,2BAAc,iBAAiB,YAL7C;AAMc,kCAAqB,mBANnC;AAOc,2BAAc,YAP5B;AAQc,uBAAU,iBAAiB,YAAjB,KAAkC,gBAR1D;AASc,kCAAqB,mBATnC;AAUc,sCAAyB,uBAVvC;AAWc,2BAAc,YAX5B,GAAP;AAYH,MAbM,CAAP;AAcH;;AAED,KAAI,eAAe,MAAM,WAAN,CAAkB;AAAA;;;AAEjC,sBAAiB,YAAY;AACzB,gBAAQ,EAAC,OAAO,KAAR,EAAe,UAAU,KAAzB,EAAR;AACH,MAJgC;;AAMjC,mBAAc,YAAY;AACtB,aAAI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAA7B,EAAoD;AAChD,kBAAK,QAAL,CAAc,EAAC,OAAO,IAAR,EAAd;AACH;AACD,cAAK,KAAL,CAAW,mBAAX,CAA+B,KAAK,KAAL,CAAW,SAA1C;AACH,MAXgC;;AAajC,mBAAc,YAAY;AACtB,aAAI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAA7B,EAAoD;AAChD,kBAAK,QAAL,CAAc,EAAC,OAAO,KAAR,EAAd;AACH;AACD,cAAK,KAAL,CAAW,mBAAX,CAA+B,IAA/B;AACA,cAAK,aAAL;AACH,MAnBgC;;AAqBjC,oBAAe,YAAW;AACtB,aAAG,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAApB,EAAuC;AACnC,eAAE,SAAS,WAAT,CAAqB,IAArB,CAAF,EAA8B,OAA9B,CAAsC,OAAtC;AACH;AACJ,MAzBgC;;AA2BjC,mCAA8B,UAAS,SAAT,EAAoB;AAC9C,aAAI,cAAc,KAAK,KAAL,CAAW,SAA7B,EAAwC;AACpC,eAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,UAA/B,CAAF,EAA8C,QAA9C,CAAuD,gBAAvD;AACH;AACJ,MA/BgC;;AAiCjC,mCAA8B,UAAS,SAAT,EAAoB;AAC9C,aAAI,cAAc,KAAK,KAAL,CAAW,SAA7B,EAAwC;AACpC,eAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,UAA/B,CAAF,EAA8C,WAA9C,CAA0D,gBAA1D;AACH;AACJ,MArCgC;;AAuCjC,cAAS,YAAY;AACjB,aAAI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAA7B,EAAoD;AAChD,kBAAK,KAAL,CAAW,YAAX,CAAwB,KAAK,KAAL,CAAW,YAAnC;AACH;AACJ,MA3CgC;;AA6CjC,wBAAmB,YAAY;AAC3B,aAAG,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAApB,EAAuC;AACnC,iCAAoB,IAApB,CAAyB,KAAK,KAAL,CAAW,YAApC,EAAkD,KAAK,KAAL,CAAW,aAAX,CAAyB,SAA3E,EAAsF,SAAS,WAAT,CAAqB,IAArB,CAAtF,EAAkH,KAAK,KAAL,CAAW,mBAA7H,EAAkJ,KAAK,KAAL,CAAW,YAA7J;AACH;AACD,aAAI,KAAK,KAAL,CAAW,uBAAf,EAAwC;AACpC,kBAAK,KAAL,CAAW,uBAAX,CAAmC,WAAnC,CAA+C,gCAA/C,EAAiF,KAAK,4BAAtF;AACA,kBAAK,KAAL,CAAW,uBAAX,CAAmC,WAAnC,CAA+C,gCAA/C,EAAiF,KAAK,4BAAtF;AACH;AACJ,MArDgC;;AAuDjC,aAAQ,YAAY;AAChB,aAAI,wBAAwB,KAAK,KAAL,CAAW,KAAX,IAAoB,CAAC,KAAK,KAAL,CAAW,QAAhC,GAA2C;AAAA;aAAA,EAAM,OAAO,EAAC,UAAU,UAAX,EAAuB,OAAM,MAA7B,EAAqC,OAAM,KAA3C,EAAkD,MAAK,MAAvD,EAA+D,OAAM,OAArE,EAA8E,OAAM,OAApF,EAAb;aAAA;AAAA,UAA3C,GAAwK,IAApM;AACA,aAAI,uBAAuB,KAAK,KAAL,CAAW,QAAX,GAAsB;AAAA;aAAA,EAAM,WAAU,aAAhB,EAA8B,OAAO,EAAC,UAAU,UAAX,EAAuB,OAAM,KAA7B,EAAoC,OAAM,KAA1C,EAAiD,MAAK,OAAtD,EAA+D,OAAM,OAArE,EAA8E,OAAM,OAApF,EAArC;aAAA;AAAA,UAAtB,GAA4K,IAAvM;AACA,aAAI,UAAU,qCAAqC,KAAK,KAAL,CAAW,QAAX,GAAsB,iCAAtB,GAA0D,wBAA/F,KAA4H,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,sBAAjD,GAA0E,EAAtM,CAAd;AACA,aAAI,WAAW,2BAAf;AACA,aAAI,aAAa,UAAU,aAAV,GAA0B,kBAAkB,KAAK,KAAL,CAAW,UAA7B,EAAyC,EAAzC,CAA1B,GAAyE,KAAK,KAAL,CAAW,UAArG;;AAEA,gBACI;AAAA;aAAA,EAAI,KAAI,YAAR,EAAqB,WAAW,OAAhC,EAAyC,cAAc,KAAK,YAA5D,EAA0E,cAAc,KAAK,YAA7F,EAA2G,SAAS,KAAK,OAAzH,EAAkI,SAAQ,GAA1I;aACI;AAAA;iBAAA,EAAK,uBAAqB,KAAK,KAAL,CAAW,YAArC,EAAmD,6BAA2B,KAAK,KAAL,CAAW,mBAAzF,EAA8G,WAAW,QAAzH;iBACK,UADL;iBAEK,qBAFL;iBAGK;AAHL;AADJ,UADJ;AASH;;AAvEgC,EAAlB,CAAnB;;AA4EA,KAAI,kBAAkB,MAAM,WAAN,CAAkB;AAAA;;;AAEpC,aAAQ,YAAY;AAChB,aAAI,gBAAgB,KAAK,KAAL,CAAW,aAA/B;;AAEA,aAAI,kBAAkB,KAAK,KAAL,CAAW,SAAX,CAAqB,GAArB,CAAyB,UAAU,QAAV,EAAoB;AAC/D,iBAAI,wBAAwB,KAAK,KAAL,CAAW,SAAX,GAAuB,KAAK,KAAL,CAAW,SAAX,CAAqB,SAAS,EAA9B,CAAvB,GAA2D,EAAC,IAAI,KAAL,EAAY,UAAU,KAAtB,EAA6B,UAAU,KAAvC,EAAvF;AACA,oBAAO,oBAAC,cAAD,IAAgB,KAAK,SAAS,EAA9B;AACgB,gCAAe,aAD/B;AAEgB,+BAAc,KAAK,KAAL,CAAW,YAFzC;AAGgB,+BAAc,KAAK,KAAL,CAAW,YAHzC;AAIgB,2BAAU,SAAS,EAAT,KAAgB,KAAK,KAAL,CAAW,gBAJrD;AAKgB,+BAAc,SAAS,WALvC,EAKoD,sBAAsB,SAAS,oBALnF;AAMgB,6BAAY,SAAS,EANrC,EAMyC,qBAAqB,KAAK,KAAL,CAAW,mBANzE;AAOgB,mCAAkB,KAAK,KAAL,CAAW,gBAP7C;AAQgB,iCAAgB,sBAAsB,EARtD;AASgB,uCAAsB,sBAAsB,QAT5D;AAUgB,uCAAsB,sBAAsB,QAV5D,GAAP;AAWH,UAb8C,CAa7C,IAb6C,CAaxC,IAbwC,CAAzB,CAAtB;;AAeA,gBACI;AAAA;aAAA;aAAM;AAAN,UADJ;AAGH;;AAvBmC,EAAlB,CAAtB;;AA4BA,KAAI,iBAAiB,MAAM,WAAN,CAAkB;AAAA;;;AAEnC,sBAAiB,YAAY;AACzB,gBAAQ,EAAC,OAAM,KAAP,EAAc,UAAS,KAAvB,EAAR;AACH,MAJkC;;AAMnC,mBAAc,YAAY;AACtB,cAAK,QAAL,CAAc,EAAC,OAAM,IAAP,EAAd;AACH,MARkC;;AAUnC,mBAAc,YAAY;AACtB,cAAK,QAAL,CAAc,EAAC,OAAM,KAAP,EAAd;AACA,cAAK,aAAL;AACH,MAbkC;;AAenC,oBAAe,YAAW;AACtB,WAAE,SAAS,WAAT,CAAqB,IAArB,CAAF,EAA8B,OAA9B,CAAsC,OAAtC;AACH,MAjBkC;;AAmBnC,cAAS,YAAY;AACjB,cAAK,KAAL,CAAW,YAAX,CAAwB,KAAK,KAAL,CAAW,UAAnC;AACH,MArBkC;;AAuBnC,wBAAmB,YAAY;AAC3B,0BAAiB,KAAK,KAAL,CAAW,YAA5B,EAA0C,KAAK,KAAL,CAAW,aAAX,CAAyB,SAAnE,EAA8E,SAAS,WAAT,CAAqB,IAArB,CAA9E,EAA0G,KAAK,KAAL,CAAW,mBAArH,EAA0I,KAAK,KAAL,CAAW,UAArJ;;AAEA,aAAI,KAAK,eAAL,EAAJ,EAA4B;AACxB,kBAAK,oBAAL,CAA0B,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,mBAA/B,CAA1B;;AAEA,iBAAI,eAAe,EAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAAF,CAAnB;AACA,0BAAa,OAAb,CAAqB;AACjB,uBAAM,KADW;AAEjB,uBAAM,KAFW;AAGjB,+BAAc;AAHG,cAArB,EAIG,MAJH;AAKA,0BAAa,OAAb,CAAqB;AACjB,0BAAS,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,mBAA/B,CADQ;AAEjB,2BAAU,OAFO;AAGjB,wBAAO,OAHU;AAIjB,wBAAO,OAJU;AAKjB,8BAAa;AALI,cAArB;AAOA,0BAAa,QAAb,CAAsB,iBAAtB;AACH;AACJ,MA5CkC;;AA8CnC,2BAAsB,UAAS,WAAT,EAAsB;;AAExC,aAAI,eAAe,EAAE,WAAF,CAAnB;;AAEA,aAAI,YAAY,KAAK,KAAL,CAAW,YAAX,GAA0B,sBAA1B,GAAmD,KAAK,KAAL,CAAW,mBAA9D,GAAoF,GAApF,IAA2F,KAAK,KAAL,CAAW,oBAAX,GAAkC,KAAK,KAAL,CAAW,oBAAX,GAAkC,GAApE,GAA0E,EAArK,IAA4K,KAAK,KAAL,CAAW,UAAvL,GAAoM,cAApN;AACA,aAAI,kBAAkB,KAAK,KAAL,CAAW,YAAX,GAA0B,qCAAhD;;AAEA,aAAI,gBAAgB,KAAK,KAAL,CAAW,YAAX,GAA0B,sBAA1B,GAAmD,KAAK,KAAL,CAAW,mBAA9D,GAAoF,GAApF,GAA0F,KAAK,KAAL,CAAW,UAArG,GAAkH,cAAtI;AACA,aAAI,sBAAsB,KAAK,KAAL,CAAW,YAAX,GAA0B,sCAApD;;AAEA,aAAI,sBAAsB,KAAK,KAAL,CAAW,YAAX,GAA0B,sBAA1B,GAAmD,KAAK,KAAL,CAAW,mBAA9D,GAAoF,GAApF,GAA0F,KAAK,KAAL,CAAW,UAArG,GAAkH,oBAA5I;AACA,aAAI,wBAAwB,KAAK,KAAL,CAAW,YAAX,GAA0B,4CAAtD;;AAEA,aAAI,sBAAsB,KAAK,KAAL,CAAW,YAAX,GAA0B,sBAA1B,GAAmD,KAAK,KAAL,CAAW,mBAA9D,GAAoF,GAApF,GAA0F,KAAK,KAAL,CAAW,UAArG,GAAkH,oBAA5I;AACA,aAAI,4BAA4B,KAAK,KAAL,CAAW,YAAX,GAA0B,4CAA1D;;AAEA,aAAI,UACA;AAAA;aAAA;aACK,KAAK,KAAL,CAAW,gBAAX,GAA8B;AAAA;iBAAA,EAAG,MAAM,SAAT,EAAoB,IAAG,YAAvB,EAAoC,OAAM,yDAA1C,EAAoG,SAAS,KAAK,WAAlH;iBAA+H,6BAAK,KAAK,eAAV;AAA/H,cAA9B,GAAiM,IADtM;aAEK,KAAK,KAAL,CAAW,cAAX,GAA4B;AAAA;iBAAA,EAAG,MAAM,aAAT,EAAwB,IAAG,YAA3B,EAAwC,OAAM,iDAA9C,EAAgG,SAAS,KAAK,WAA9G;iBAA2H,6BAAK,KAAK,mBAAV;AAA3H,cAA5B,GAA+L,IAFpM;aAGK,KAAK,KAAL,CAAW,oBAAX,GAAkC;AAAA;iBAAA,EAAG,MAAM,mBAAT,EAA8B,IAAG,kBAAjC,EAAoD,OAAM,yDAA1D,EAAoH,SAAS,KAAK,WAAlI;iBAA+I,6BAAK,KAAK,qBAAV;AAA/I,cAAlC,GAA2N,IAHhO;aAIK,KAAK,KAAL,CAAW,oBAAX,GAAkC;AAAA;iBAAA,EAAG,MAAM,mBAAT,EAA8B,IAAG,kBAAjC,EAAoD,OAAM,0DAA1D,EAAqH,SAAS,KAAK,WAAnI;iBAAgJ,6BAAK,KAAK,yBAAV;AAAhJ,cAAlC,GAAgO;AAJrO,UADJ;;;;;AAWA,sBAAa,IAAb,CAAkB,eAAe,oBAAf,CAAoC,OAApC,CAAlB;;AAEA,sBAAa,IAAb,CAAkB,GAAlB,EAAuB,OAAvB,CAA+B;AAC3B,2BAAc;AADa,UAA/B;;;AAKA,sBAAa,IAAb,CAAkB,GAAlB,EAAuB,IAAvB,CAA4B,UAAU,KAAV,EAAiB,MAAjB,EAAyB;AACjD,eAAE,MAAF,EAAU,QAAV,CAAmB;AACf,0BAAQ,CADO;AAEf,6BAAW,SAFI;AAGf,8BAAY;AAHG,cAAnB;AAKH,UAND;AAOH,MAvFkC;;AAyFnC,kBAAa,UAAU,KAAV,EAAiB;;AAE1B,eAAM,eAAN;AACH,MA5FkC;;AA8FnC,sBAAiB,YAAY;AACzB,gBAAO,KAAK,KAAL,CAAW,gBAAX,IAA+B,KAAK,KAAL,CAAW,cAA1C,IAA4D,KAAK,KAAL,CAAW,oBAAvE,IAA+F,KAAK,KAAL,CAAW,oBAAjH;AACH,MAhGkC;;AAkGnC,aAAQ,YAAY;AAChB,aAAI,UAAU,KAAK,eAAL,KAAyB,EAAC,UAAU,MAAX,EAAzB,GAA8C,EAA5D;AACA,aAAI,YAAY,KAAK,eAAL,KAAyB,EAAC,KAAK,MAAN,EAAzB,GAAyC,EAAzD;;AAEA,aAAI,iBAAiB,KAAK,KAAL,CAAW,YAAX,GAA0B,yCAA/C;;AAEA,aAAI,cACA;AAAA;aAAA,EAAK,OAAO,EAAC,WAAW,OAAZ,EAAqB,cAAc,KAAnC,EAAZ;aACI;AAAA;iBAAA,EAAG,MAAK,GAAR,EAAY,KAAI,aAAhB,EAA8B,SAAS,KAAK,WAA5C,EAAyD,OAAM,qBAA/D;iBAAqF,6BAAK,KAAK,cAAV;AAArF;AADJ,UADJ;;AAMA,aAAI,wBAAwB,KAAK,KAAL,CAAW,KAAX,IAAoB,CAAC,KAAK,KAAL,CAAW,QAAhC,GAA2C;AAAA;aAAA,EAAM,OAAO,EAAC,UAAU,UAAX,EAAuB,OAAO,MAA9B,EAAsC,OAAO,KAA7C,EAAoD,MAAM,MAA1D,EAAkE,QAAQ,OAA1E,EAAmF,OAAO,OAA1F,EAAb;aAAA;AAAA,UAA3C,GAA8K,IAA1M;AACA,aAAI,uBAAuB,KAAK,KAAL,CAAW,QAAX,GAAsB;AAAA;aAAA,EAAM,WAAU,aAAhB,EAA8B,OAAO,EAAC,UAAU,UAAX,EAAuB,OAAO,KAA9B,EAAqC,OAAO,KAA5C,EAAmD,MAAM,OAAzD,EAAkE,QAAQ,OAA1E,EAAmF,OAAO,OAA1F,EAArC;aAAA;AAAA,UAAtB,GAAkL,IAA7M;AACA,aAAI,UAAU,qCAAqC,KAAK,KAAL,CAAW,QAAX,GAAsB,iCAAtB,GAA0D,wBAA/F,KAA4H,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,uBAAjD,GAA2E,EAAvM,CAAd;AACA,aAAI,WAAW,2BAAf;AACA,aAAI,eAAe,UAAU,aAAV,GAA0B,kBAAkB,KAAK,KAAL,CAAW,YAA7B,EAA2C,EAA3C,CAA1B,GAA2E,KAAK,KAAL,CAAW,YAAzG;;AAEA,gBACI;AAAA;aAAA,EAAI,WAAW,OAAf,EAAwB,SAAQ,GAAhC,EAAoC,OAAO,OAA3C,EAAoD,cAAc,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,KAAK,YAAtD,GAAqE,SAAvI,EAAkJ,cAAc,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,KAAK,YAAtD,GAAqE,KAAK,aAA1O,EAAyP,SAAS,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,KAAK,OAAtD,GAAgE,SAAlU;aACI;AAAA;iBAAA,EAAK,oBAAkB,KAAK,KAAL,CAAW,UAAlC,EAA8C,6BAA2B,KAAK,KAAL,CAAW,mBAApF,EAAyG,WAAW,QAApH,EAA8H,OAAO,SAArI;iBACK,YADL;iBAEK,qBAFL;iBAGK;AAHL,cADJ;aAMK,KAAK,eAAL,KAAyB,WAAzB,GAAuC,IAN5C;aAOK,KAAK,eAAL,KAAyB;AAAA;iBAAA,EAAK,KAAI,qBAAT,EAA+B,OAAO,EAAC,SAAS,MAAV,EAAtC;iBAAA;AAAA,cAAzB,GAAsG;AAP3G,UADJ;AAWH;;AA/HkC,EAAlB,CAArB;;AAmIA,KAAI,gBAAgB,MAAM,WAAN,CAAkB;AAAA;;;AAElC,4BAAuB,YAAW;AAC9B,aAAI,KAAK,KAAL,CAAW,YAAX,IAA2B,KAAK,KAAL,CAAW,kBAA1C,EAA8D;AAC1D,iBAAI,MAAM,KAAK,KAAL,CAAW,6BAAX,GACN,iBAAiB,WAAjB,EAA8B,QAA9B,CADM,GAEN,iBAAiB,WAAjB,EAA8B,QAA9B,EAAwC,UAAxC,CAFJ;AAGA,oBACI,oBAAC,GAAD,IAAK,SAAS,KAAK,KAAL,CAAW,OAAzB;AACkB,sCAAqB,KAAK,KAAL,CAAW,mBADlD;AAEkB,oCAAmB,KAAK,KAAL,CAAW,iBAFhD,GADJ;AAKH,UATD,MASO,IAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,UAAhB,IAA8B,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAlD,EAAqE;AACxE,oBACQ,oBAAC,mBAAD,IAAqB,UAAS,aAA9B;AACqB,2BAAS,gBAD9B;AAEqB,kCAAiB,KAAK,KAAL,CAAW,mBAFjD;AAGqB,gCAAe,KAAK,KAAL,CAAW,aAH/C;AAIqB,wBAAM,OAJ3B,EAImC,UAAS,MAJ5C,GADR;AAOH,UARM,MAQA;AACH,oBACQ,oBAAC,mBAAD,IAAqB,UAAS,kCAA9B;AACqB,2BAAS,qCAD9B;AAEqB,kCAAiB,KAAK,KAAL,CAAW,mBAFjD;AAGqB,gCAAe,KAAK,KAAL,CAAW,aAH/C;AAIqB,wBAAM,OAJ3B,EAImC,UAAS,MAJ5C,GADR;AAOH;AACJ,MA7BiC;;AA+BlC,aAAQ,YAAY;AAChB,gBACI;AAAA;aAAA,EAAK,WAAU,+BAAf;aACI,8BAAM,iBAAe,KAAK,KAAL,CAAW,IAAX,CAAgB,cAArC,EAAqD,KAAI,aAAzD,GADJ;aAEI;AAAA;iBAAA,EAAK,OAAO,EAAC,SAAS,YAAV,EAAwB,eAAe,QAAvC,EAAiD,WAAW,QAA5D,EAAZ;iBACK,KAAK,qBAAL;AADL;AAFJ,UADJ;AAQH,MAxCiC;;AA0ClC,wBAAmB,YAAY;AAC3B,sBAAa,KAAK,KAAL,CAAW,YAAxB,EAAsC,YAAtC,EAAoD,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAApD;AACH;;AA5CiC,EAAlB,CAApB;;AAiDA,KAAI,mBAAmB,UAAS,QAAT,EAAmB;AACxC,SAAI,gBAAgB,GAAG,MAAH,CAAU,KAAV,CAAgB,EAAhB,EAClB,GAAG,KAAH,CAAS,IAAT,CAAc,SAAd,EAAyB,GAAzB,CACE,UAAS,EAAT,EAAa,EAAb,EAAgB;AACd,gBAAO,CACL,+BAAO,KAAK,IAAE,EAAd,EAAkB,MAAK,OAAvB,EAA+B,OAAO,EAAtC,GADK,EAEL;AAAA;aAAA,EAAM,KAAK,IAAE,EAAF,GAAM,CAAjB;aAAqB,aAAW;AAAhC,UAFK,EAGL,4BAAI,KAAK,IAAE,EAAF,GAAM,CAAf,GAHK,CAAP;AAID,MANH,CADkB,EAQf,KARe,CAQT,CARS,EAQP,CAAC,CARM,CAApB;AASA,YAAQ,MAAM,WAAN,CAAkB;;AAExB,0BAAiB,YAAW;AACxB,oBAAO,EAAC,OAAO,KAAK,KAAL,CAAW,mBAAnB,EAAP;AACH,UAJuB;;AAMxB,iBAAQ,YAAW;AACf,oBACI;AAAC,2BAAD;iBAAA,EAAY,MAAM,wBAAwB,KAAK,KAAL,CAAW,OAArD,EAA8D,OAAO,KAAK,KAAL,CAAW,mBAAhF,EAAqG,UAAU,KAAK,YAApH;iBACI;AAAA;qBAAA,EAAK,OAAO,EAAC,cAAc,MAAf,EAAuB,aAAa,KAApC,EAAZ;qBACK;AADL;AADJ,cADJ;AAOH,UAduB;;AAgBxB,uBAAc,UAAS,KAAT,EAAgB;AAC1B,kBAAK,KAAL,CAAW,iBAAX,CAA6B,MAAM,MAAN,CAAa,KAA1C;AACA,kBAAK,QAAL,CAAc,EAAC,OAAO,KAAK,KAAL,CAAW,mBAAnB,EAAd;;;AAGA,eAAE,MAAF,EAAU,MAAV;AACH;AAtBuB,MAAlB,CAAR;AAwBD,EAlCD;;AAqCA,KAAI,mBAAmB,MAAM,WAAN,CAAkB;AAAA;;AACrC,gBAAW;AACP,mBAAU,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,MAAxC,EAAgD;AADnD,MAD0B;;AAKrC,qBAAgB,UAAU,OAAV,EAAoB;AAChC,aAAI,iBAAiB,KAAK,KAAL,CAAW,aAAX,CAAyB,OAAzB,GAAmC,GAAnC,IAChB,KAAK,KAAL,CAAW,IAAX,CAAgB,cAAhB,GACG,QAAQ,IAAR,GAAe,GAAf,GAAqB,QAAQ,aADhC,GAEG,QAAQ,IAHK,CAArB;AAIA,gBAAQ,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GACJ,oBAAC,cAAD,IAAgB,KAAK,cAArB;AACgB,iBAAI,QAAQ,EAD5B;AAEgB,mBAAM,QAAQ,IAF9B;AAGgB,mBAAM,KAAK,KAAL,CAAW,IAHjC;AAIgB,6BAAgB,QAAQ,cAJxC;AAKgB,0BAAa,QAAQ,WALrC;AAMgB,sCAAyB,QAAQ,uBANjD;AAOgB,4BAAe,KAAK,KAAL,CAAW,aAP1C;AAQgB,2BAAc,KAAK,KAAL,CAAW,YARzC;AASgB,gCAAmB,KAAK,KAAL,CAAW,iBAT9C;AAUgB,4BAAe,KAAK,KAAL,CAAW,aAV1C;AAWgB,oCAAuB,KAAK,KAAL,CAAW,qBAXlD;AAYgB,kCAAqB,KAAK,KAAL,CAAW,mBAZhD;AAagB,+BAAkB,KAAK,KAAL,CAAW,gBAb7C,GADI,GAgBJ,oBAAC,cAAD,IAAgB,KAAK,cAArB;AACgB,uBAAU,QAAQ,EAAR,KAAe,KAAK,KAAL,CAAW,cADpD;AAEgB,yBAAY,KAAK,KAAL,CAAW,UAFvC;AAGgB,4BAAe,QAAQ,aAHvC;AAIgB,iBAAI,QAAQ,EAJ5B;AAKgB,mBAAM,QAAQ,IAL9B;AAMgB,mBAAM,KAAK,KAAL,CAAW,IANjC;AAOgB,0BAAa,QAAQ,WAPrC;AAQgB,4BAAe,KAAK,KAAL,CAAW,aAR1C;AASgB,2BAAc,KAAK,KAAL,CAAW,YATzC;AAUgB,gCAAmB,KAAK,KAAL,CAAW,iBAV9C;AAWgB,4BAAe,KAAK,KAAL,CAAW,aAX1C;AAYgB,kCAAqB,KAAK,KAAL,CAAW,mBAZhD;AAagB,kCAAqB,KAAK,KAAL,CAAW,mBAbhD;AAcgB,2BAAc,KAAK,KAAL,CAAW,YAdzC;AAegB,iCAAoB,KAAK,KAAL,CAAW,kBAf/C;AAgBgB,oCAAuB,KAAK,KAAL,CAAW,qBAhBlD;AAiBgB,kCAAqB,KAAK,KAAL,CAAW,mBAjBhD;AAkBgB,+BAAkB,KAAK,KAAL,CAAW,gBAlB7C,GAhBJ;AAoCH,MA9CoC;;AAgDrC,aAAQ,YAAY;AAChB,aAAI,mBAAmB,KAAK,KAAL,CAAW,QAAX,CAAoB,GAApB,CAAwB,UAAU,OAAV,EAAmB;;AAE9D,oBAAO,KAAK,cAAL,CAAoB,OAApB,CAAP;AACH,UAH8C,CAG7C,IAH6C,CAGxC,IAHwC,CAAxB,CAAvB;;AAKA,gBACI;AAAA;aAAA;aACC;AADD,UADJ;AAKH;AA3DoC,EAAlB,CAAvB;;AA+DA,KAAI,iBAAiB,MAAM,WAAN,CAAkB;AAAA;;AACnC,gBAAW;AACP,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD9B;AAEP,4BAAmB,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAFnC,MADwB;;AAMnC,sBAAiB,YAAY;AACzB,gBAAQ,EAAC,OAAM,KAAP,EAAc,UAAS,KAAvB,EAA8B,QAAQ,KAAK,KAAL,CAAW,aAAjD,EAAR;AACH,MARkC;;AAUnC,mBAAc,YAAY;AACtB,aAAI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAA7B,EAAoD;AAChD,kBAAK,QAAL,CAAc,EAAC,OAAM,IAAP,EAAd;AACH;;AAED,cAAK,KAAL,CAAW,gBAAX,CAA4B,KAAK,KAAL,CAAW,IAAvC;AACH,MAhBkC;;AAkBnC,mBAAc,YAAY;AACtB,aAAI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAA7B,EAAoD;AAChD,kBAAK,QAAL,CAAc,EAAC,OAAM,KAAP,EAAd;AACH;AACD,cAAK,aAAL;AACA,cAAK,KAAL,CAAW,gBAAX,CAA4B,IAA5B;AACH,MAxBkC;;AA0BnC,cAAS,YAAY;AACjB,aAAI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAA7B,EAAoD;AAChD,kBAAK,KAAL,CAAW,UAAX,CAAsB,KAAK,KAAL,CAAW,EAAjC;AACH;AACJ,MA9BkC;;AAgCnC,sBAAiB,YAAY;AACzB,aAAI,gBAAgB,kBAAkB,KAAK,KAAL,CAAW,EAA7B,GAAkC,aAAlC,GAAkD,KAAK,KAAL,CAAW,aAAX,CAAyB,SAA3E,IAAwF,KAAK,KAAL,CAAW,uBAAX,GAAqC,8BAA8B,mBAAmB,KAAK,KAAL,CAAW,uBAA9B,CAAnE,GAA4H,EAApN,CAApB;AACA,aAAI,UAAU,KAAK,KAAL,CAAW,mBAAX,GAAiC,sBAAsB,KAAK,KAAL,CAAW,IAAjC,GAAwC,cAAxC,GAAyD,KAAK,KAAL,CAAW,aAAX,CAAyB,YAAnH,GAAkI,YAAY,KAAK,KAAL,CAAW,EAAvK;;AAEA,aAAI,eAAe,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAqC,KAAK,KAAL,CAAW,cAAX,IAA6B,qBAA7B,GAAqD,oBAArD,GAA4E,gBAAjH,GAAsI,EAAzJ;;AAEA,aAAI,sBAAsB,KAAK,KAAL,CAAW,iBAAX,IAAgC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAoC,aAApC,GAAoD,OAApF,CAA1B;;;;AAIA,gBACI;AAAA;aAAA,EAAM,OAAO,YAAb,EAA2B,OAAO,EAAC,WAAW,YAAZ,EAAlC;aACI,8BAAM,WAAU,8BAAhB,EAA+C,aAAW,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAqC,KAAK,KAAL,CAAW,cAAX,IAA6B,qBAA7B,GAAqD,GAArD,GAA2D,GAAhG,GAAuG,EAAjK,GADJ;aAEI;AAAA;iBAAA,EAAG,KAAI,UAAP,EAAkB,IAAI,KAAK,KAAL,CAAW,mBAAX,GAAiC,EAAjC,GAAsC,KAAK,KAAL,CAAW,EAAvE,EAA2E,MAAM,mBAAjF,EAAsG,SAAS,KAAK,mBAApH,EAAyI,OAAO,EAAC,iBAAiB,KAAlB,EAAhJ;iBAA2K,KAAK,KAAL,CAAW;AAAtL;AAFJ,UADJ;AAMH,MAhDkC;;AAkDnC,0BAAqB,UAAU,KAAV,EAAiB;;AAElC,eAAM,eAAN;AACH,MArDkC;;AAuDnC,yBAAoB,YAAW;AAC3B,aAAG,KAAK,KAAL,CAAW,YAAX,IAA2B,KAAK,KAAL,CAAW,kBAAzC,EAA6D;AACzD,oBAAO,KAAK,KAAL,CAAW,mBAAX,KAAmC,QAA1C;AACH,UAFD,MAGK,OAAQ,KAAK,KAAL,CAAW,aAAnB;AACR,MA5DkC;;AA8DnC,eAAU,UAAU,UAAV,EAAsB;AAC5B,aAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,UAApB,EAAgC;AAC5B,iBAAG,KAAK,KAAL,CAAW,mBAAX,KAAmC,UAAnC,IAAiD,WAAW,SAA/D,EAA0E;AACtE,wBACI,oBAAC,2BAAD,IAA6B,KAAK,KAAK,KAAL,CAAW,EAAX,GAAgB,WAAW,UAA7D;AAC6B,gCAAW,WAAW,SADnD;AAE6B,0CAAqB,KAAK,KAAL,CAAW,mBAF7D,GADJ;AAKH,cAND,MAOK;AACD,wBACI,oBAAC,YAAD,IAAc,KAAK,KAAK,KAAL,CAAW,EAAX,GAAgB,WAAW,UAA9C;AACc,iCAAY,WAAW,UADrC;AAEc,4BAAO,WAAW,KAFhC;AAGc,4BAAO,WAAW,KAHhC;AAIc,oCAAe,KAAK,KAAL,CAAW,aAJxC;AAKc,oCAAe,KAAK,kBAAL,EAL7B;AAMc,gCAAW,WAAW,SANpC;AAOc,sCAAiB,KAAK,KAAL,CAAW,mBAP1C;AAQc,yBAAI,KAAK,KAAL,CAAW,EAR7B;AASc,2BAAM,KAAK,KAAL,CAAW,IAT/B;AAUc,0CAAqB,KAAK,KAAL,CAAW,mBAV9C,GADJ;AAaH;AACJ,UAvBD,MAwBK,IAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,cAApB,EAAoC;AACrC,oBACI,oBAAC,gBAAD,IAAkB,KAAK,KAAK,KAAL,CAAW,aAAX,GAA2B,KAAK,KAAL,CAAW,IAAtC,GAA6C,WAAW,YAA/E;AACkB,yBAAQ,WAAW,KADrC;AAEkB,6BAAY,WAAW,UAFzC;AAGkB,yBAAQ,WAAW,MAHrC;AAIkB,wBAAO,WAAW,KAJpC;AAKkB,gCAAe,KAAK,KAAL,CAAW,aAL5C,GADJ;AAQH,UATI,MAUA,IAAI,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAApB,EAAuC;AACxC,oBACI,oBAAC,mBAAD,IAAqB,KAAK,KAAK,KAAL,CAAW,EAAX,GAAgB,WAAW,UAArD;AACqB,6BAAY,WAAW,UAD5C;AAEqB,0CAAyB,KAAK,KAAL,CAAW,uBAFzD;AAGqB,wBAAO,WAAW,KAHvC;AAIqB,wBAAO,WAAW,KAJvC;AAKqB,gCAAe,KAAK,KAAL,CAAW,aAL/C;AAMqB,4BAAW,WAAW,SAN3C;AAOqB,qBAAI,KAAK,KAAL,CAAW,EAPpC;AAQqB,uBAAM,KAAK,KAAL,CAAW,IARtC;AASqB,sCAAqB,KAAK,KAAL,CAAW,mBATrD,GADJ;AAYH;AACJ,MA/GkC;;AAiHnC,YAAO,UAAU,WAAV,EAAuB;;AAE1B,gBAAO,YAAY,GAAZ,CAAgB,UAAU,UAAV,EAAsB;AACzC,oBAAO,KAAK,QAAL,CAAc,UAAd,CAAP;AACH,UAFsB,CAErB,IAFqB,CAEhB,IAFgB,CAAhB,CAAP;AAGH,MAtHkC;;AAwHnC,aAAQ,YAAY;AAChB,aAAI,wBAAwB,KAAK,KAAL,CAAW,KAAX,IAAoB,CAAC,KAAK,KAAL,CAAW,QAAhC,GAA2C;AAAA;aAAA,EAAM,OAAO,EAAC,WAAW,YAAZ,EAA0B,aAAa,OAAvC,EAAgD,eAAe,MAA/D,EAAuE,SAAS,OAAhF,EAAyF,cAAc,SAAvG,EAAb;aAAA;AAAA,UAA3C,GACxB;AAAA;aAAA,EAAM,OAAO,EAAC,WAAW,YAAZ,EAA0B,aAAa,OAAvC,EAAgD,eAAe,MAA/D,EAAuE,SAAS,OAAhF,EAAyF,cAAc,QAAvG,EAAb;aAAA;AAAA,UADJ;AAEA,aAAI,uBAAuB,KAAK,KAAL,CAAW,QAAX,GAAsB;AAAA;aAAA,EAAM,OAAO,EAAC,SAAS,OAAV,EAAmB,SAAS,OAA5B,EAAb;aAAA;AAAA,UAAtB,GAA4F,IAAvH;AACA,aAAI,YAAY,CAAC,KAAK,KAAL,CAAW,QAAX,GAAsB,qDAAtB,GAA8E,4CAA/E,KAAgI,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,sBAAjD,GAA0E,EAA1M,CAAhB;AACA,aAAI,eAAe,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAAhB,GAAqC,KAAK,KAAL,CAAW,cAAX,IAA6B,qBAA7B,GAAqD,yBAArD,GAAiF,8BAAtH,GAAyJ,EAA5K;;AAEA,gBACI;AAAA;aAAA,EAAI,WAAW,YAAf;aACI;AAAA;iBAAA,EAAI,WAAW,SAAf,EAA0B,cAAc,KAAK,YAA7C,EAA2D,cAAc,KAAK,YAA9E,EAA4F,SAAS,KAAK,OAA1G;iBACI;AAAA;qBAAA,EAAK,OAAO,EAAC,SAAS,OAAV,EAAmB,OAAO,MAA1B,EAAZ;qBACI;AAAA;yBAAA,EAAK,OAAO,EAAC,SAAS,WAAV,EAAZ;yBACM,KAAK,eAAL,EADN;yBAEM,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,qBAAjD,GAAyE,IAF/E;yBAGM,KAAK,KAAL,CAAW,aAAX,CAAyB,qBAAzB,GAAiD,oBAAjD,GAAwE;AAH9E;AADJ;AADJ,cADJ;aAUK,KAAK,KAAL,CAAW,aAAX,GAA2B;AAAA;iBAAA,EAAI,WAAU,8BAAd;iBAA8C,KAAK,KAAL,CAAW;AAAzD,cAA3B,GAA0G,IAV/G;aAWK,KAAK,KAAL,CAAW,qBAAX,GAAmC,KAAK,KAAL,CAAW,KAAK,KAAL,CAAW,WAAtB,CAAnC,GAAwE;AAX7E,UADJ;AAeH,MA9IkC;;AAgJnC,wBAAmB,YAAY;AAC3B,aAAG,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAApB,EAAuC;AACnC,yCAA4B,IAA5B,CAAiC,KAAK,KAAL,CAAW,YAA5C,EAA0D,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,QAA/B,CAA1D,EAAoG,KAAK,KAAL,CAAW,EAA/G,EAAmH,KAAK,KAAL,CAAW,IAA9H;AACH;AACJ,MApJkC;;AAsJnC,oBAAe,YAAW;AACtB,aAAG,CAAC,KAAK,KAAL,CAAW,IAAX,CAAgB,iBAApB,EAAuC;AACnC,eAAE,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,QAA/B,CAAF,EAA4C,OAA5C,CAAoD,OAApD;AACH;AACJ;;AA1JkC,EAAlB,CAArB;;AA8JA,KAAI,eAAe,MAAM,WAAN,CAAkB;AAAA;;AACjC,aAAQ,YAAY;AAChB,aAAI,KAAK,aAAL,EAAJ,EAA0B;AACtB,oBAAQ,+BAAR;AACH;;AAED,aAAI,QAAQ,EAAC,mBAAmB,KAAK,oBAAL,KAA8B,OAA9B,GAAwC,KAAK,KAAL,CAAW,KAAvE,EAAZ;;AAEA,gBACI;AAAA;aAAA,EAAI,OAAO,KAAX,EAAkB,cAAc,KAAK,aAArC,EAAoD,cAAc,KAAK,aAAvE;aACI;AAAA;iBAAA;AACI,gCAAU,gBADd;AAEI,4BAAO,EAAC,YAAY,KAAK,oBAAL,MAA+B,KAAK,KAAL,CAAW,aAA1C,GAA0D,SAA1D,GAAsE,QAAnF,EAFX;iBAGK,KAAK,oBAAL,KAA8B,KAAK,YAAL,EAA9B,GAAoD,aAAa,kBAAb,CAAgC,KAAK,KAAL,CAAW,KAA3C;AAHzD;AADJ,UADJ;AASH,MAjBgC;;AAmBjC,wBAAmB,YAAY;AAC3B,cAAK,sBAAL;AACH,MArBgC;;;;AAyBjC,yBAAoB,YAAY;AAC5B,cAAK,sBAAL;AACH,MA3BgC;;AA6BjC,6BAAwB,YAAW;AAC/B,kBAAS,eAAT,CAAyB,cAAzB,EAAyC;AACrC,oBAAO,eAAe,QAAf,CAAwB,MAA/B;AACH;;AAED,aAAI,KAAK,oBAAL,MAA+B,CAAC,gBAAgB,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAAhB,CAApC,EAAkG;AAC9F,0BAAa,KAAK,KAAL,CAAW,YAAxB,EAAsC,YAAtC,EAAoD,SAAS,WAAT,CAAqB,KAAK,IAAL,CAAU,WAA/B,CAApD;AACH;AACJ,MArCgC;;AAuCjC,0BAAqB,YAAY;;AAE7B,gBAAQ,KAAK,KAAL,CAAW,KAAX,IAAoB,CAAC,KAAK,oBAAL,EAA7B;AACH,MA1CgC;;AA4CjC,2BAAsB,YAAY;AAC9B,gBAAQ,KAAK,UAAL,KAAoB,SAA5B;AACH,MA9CgC;;AAgDjC,oBAAe,YAAY;AACvB,gBAAO,CAAC,KAAK,KAAL,CAAW,KAAnB;AACH,MAlDgC;;AAoDjC,mBAAc,YAAY;AACtB,gBACI,8BAAM,KAAI,aAAV,EAAwB,iBAAe,KAAK,KAAL,CAAW,eAAX,GAA6B,iCAA7B,GAAiE,0BAAxG,GADJ;AAGH,MAxDgC;;AA0DjC,oBAAe,YAAW;AACtB,aAAI,KAAK,mBAAL,EAAJ,EAAgC;AAC5B,kBAAK,KAAL,CAAW,mBAAX,CAA+B,KAAK,KAAL,CAAW,SAA1C;AACH;AACJ,MA9DgC;;AAgEjC,oBAAe,YAAW;AACtB,aAAI,KAAK,mBAAL,EAAJ,EAAgC;AAC5B,kBAAK,KAAL,CAAW,mBAAX,CAA+B,IAA/B;AACH;AACJ;AApEgC,EAAlB,CAAnB;;AAwEA,KAAI,sBAAsB,MAAM,WAAN,CAAkB;AAAA;;AACxC,sBAAkB,YAAY;AAC1B,gBAAQ,KAAK,KAAL,CAAW,KAAX,KAAqB,IAA7B;AACH,MAHuC;;AAKxC,oBAAe,YAAY;AACvB,gBAAO,CAAC,KAAK,KAAL,CAAW,KAAnB;AACH,MAPuC;;AASxC,oCAA+B,YAAY;AACvC,gBACI;AAAA;aAAA;aAAA;AAAA,UADJ;AAGH,MAbuC;;AAexC,oBAAe,YAAW;AACtB,aAAI,CAAC,KAAK,aAAL,EAAD,IAAyB,CAAC,KAAK,eAAL,EAA9B,EAAsD;AAClD,kBAAK,KAAL,CAAW,mBAAX,CAA+B,KAAK,KAAL,CAAW,SAA1C;AACH;AACJ,MAnBuC;;AAqBxC,oBAAe,YAAW;AACtB,aAAI,CAAC,KAAK,aAAL,EAAD,IAAyB,CAAC,KAAK,eAAL,EAA9B,EAAsD;AAClD,kBAAK,KAAL,CAAW,mBAAX,CAA+B,IAA/B;AACH;AACJ,MAzBuC;;AA2BxC,aAAQ,YAAY;;AAEhB,aAAI,KAAK,aAAL,EAAJ,EAA0B;AACtB,oBAAQ,+BAAR;AACH;;AAED,aAAI,QAAQ,EAAC,mBAAmB,KAAK,KAAL,CAAW,KAA/B,EAAZ;;AAEA,gBACI;AAAA;aAAA,EAAI,OAAO,KAAX,EAAkB,cAAc,KAAK,aAArC,EAAoD,cAAc,KAAK,aAAvE;aACI;AAAA;iBAAA,EAAK,WAAU,gBAAf,EAAgC,OAAO,EAAC,YAAY,KAAK,eAAL,MAA0B,KAAK,KAAL,CAAW,aAArC,GAAqD,SAArD,GAAiE,QAA9E,EAAvC;iBACK,KAAK,eAAL,CAAqB,KAAK,KAAL,CAAW,KAAhC,IAAyC,KAAK,6BAAL,EAAzC,GAAgF,aAAa,kBAAb,CAAgC,KAAK,KAAL,CAAW,KAA3C;AADrF;AADJ,UADJ;AAOH;AA1CuC,EAAlB,CAA1B;;AA6CA,KAAI,uBAAuB,MAAM,WAAN,CAAkB;AAAA;;AACzC,gBAAW;AACP,iCAAwB,MAAM,SAAN,CAAgB,OAAhB,CAAwB,MAAM,SAAN,CAAgB,KAAhB,CAAsB;AAClE,mBAAM,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UADqC;AAElE,iBAAI,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFuC;AAGlE,qBAAQ,MAAM,SAAN,CAAgB,MAAhB,CAAuB;AAHmC,UAAtB,CAAxB,EAIpB,UALG;AAMP,+BAAsB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UANpC;AAOP,kCAAyB,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAPvC,MAD8B;;AAWzC,aAAQ,YAAY;AAChB,aAAI,UAAU,EAAd;AACA,cAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,KAAL,CAAW,sBAAX,CAAkC,MAAtD,EAA8D,GAA9D,EAAmE;AAC/D,iBAAI,KAAK,KAAK,KAAL,CAAW,sBAAX,CAAkC,CAAlC,CAAT;AACA,qBAAQ,IAAR,CAAa,oBAAC,kBAAD;AACT,sBAAK,CADI;AAET,2BAAU,GAAG,IAFJ;AAGT,4CAA2B,GAAG,MAHrB;AAIT,4CAA4B,UAAS,MAAT,EAAgB;AAC1C,0BAAK,KAAL,CAAW,uBAAX,CAAmC,MAAnC,EAA2C,OAA3C,EAAoD,cAApD,EAAoE,mBAApE;AACA,0BAAK,KAAL,CAAW,oBAAX,CAAgC,GAAG,EAAnC,EAAsC,MAAtC;AACD,kBAH2B,CAG1B,IAH0B,CAGrB,IAHqB;AAJnB,eAAb;AASH;AACD;AACA,gBACI;AAAA;aAAA;aACK;AADL,UADJ;AAKH,MA/BwC;;AAiCzC,wBAAmB,YAAY;AAC3B,aAAI,KAAK,KAAL,CAAW,sBAAX,CAAkC,MAAlC,GAA2C,CAA/C,EAAkD;AAC9C,kBAAK,KAAL,CAAW,uBAAX,CAAmC,MAAnC,EAA2C,OAA3C,EAAoD,cAApD,EAAoE,uBAApE;AACH;AACJ;;AArCwC,EAAlB,CAA3B;;AA0CA,KAAI,qBAAqB,MAAM,WAAN,CAAkB;AAAA;;AACvC,gBAAW;AACP,mBAAU,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD1B;AAEP,oCAA2B,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAF3C;AAGP,oCAA2B,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAHzC,MAD4B;AAMvC,sBAAiB,YAAY;AACzB,gBAAO,EAAC,SAAS,CAAV,EAAP;AACH,MARsC;AASvC,mBAAc,UAAU,MAAV,EAAkB;AAC5B,cAAK,QAAL,CAAc,EAAC,SAAS,MAAV,EAAd;AACA,cAAK,KAAL,CAAW,yBAAX,CAAqC,MAArC;AACH,MAZsC;;AAcvC,8BAAyB,YAAY;AACjC,cAAK,YAAL,CAAkB,EAAlB;AACH,MAhBsC;;AAkBvC,0BAAqB,YAAY;AAC7B,gBAAO,oBAAC,mBAAD,IAAqB,UAAS,EAA9B;AACqB,uBAAS,+BAD9B;AAEqB,8BAAiB,KAAK,uBAF3C;AAGqB,4BAAe,KAHpC;AAIqB,oBAAM,OAJ3B;AAKqB,uBAAS,MAL9B,GAAP;AAMH,MAzBsC;;AA2BvC,kBAAa,YAAY;AACrB,aAAI,QAAQ;AACR,gBAAG,KADK;AAER,iBAAI;AAFI,UAAZ;AAIA,eAAM,KAAK,KAAL,CAAW,yBAAjB,IAA8C,KAAK,KAAL,CAAW,yBAAzD;AACA,gBAAO;AAAA;aAAA;aACH;AAAA;iBAAA;iBAAI,+CAA+C,KAAK,KAAL,CAAW,QAA1D,GAAqE;AAAzE,cADG;aAEH;AAAA;iBAAA,EAAK,WAAU,WAAf;iBACI,oBAAC,MAAD,IAAQ,KAAK,CAAb,EAAgB,KAAK,KAAK,KAAL,CAAW,yBAAhC,EAA2D,eAAe,KAAK,YAA/E;AACQ,4BAAO,KADf,EACsB,UAAU,KADhC,EACuC,cAAc,EADrD;AADJ;AAFG,UAAP;AAOH,MAxCsC;;AA0CvC,aAAQ,YAAY;AAChB,gBAAO;AAAA;aAAA,EAAK,WAAU,6BAAf;aACF,KAAK,KAAL,CAAW,OAAX,GACK,KAAK,WAAL,EADL,GAEK,KAAK,mBAAL;AAHH,UAAP;AAKH,MAhDsC;;AAkDvC,yBAAoB,YAAY;AAC5B,WAAE,MAAF,EAAU,OAAV,CAAkB,mCAAlB;AACH;AApDsC,EAAlB,CAAzB;;;;AAyDA,QAAO,OAAP,GAAiB,OAAjB,C;;;;;;;;;AC11CA;;AAEA;;;;;;;;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA,yHAA+G;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,uCAAsC,uBAAuB,gBAAgB,gBAAgB,uBAAuB,8BAA8B,2BAA2B,kDAAkD,GAAG,gBAAgB,2BAA2B,kDAAkD,GAAG,oBAAoB,uBAAuB,YAAY,gBAAgB,uBAAuB,8BAA8B,eAAe,GAAG,qBAAqB,uBAAuB,sBAAsB,qBAAqB,gBAAgB,iBAAiB,oBAAoB,uBAAuB,8BAA8B,2BAA2B,eAAe,GAAG,2BAA2B,0BAA0B,GAAG,mCAAmC,0BAA0B,gCAAgC,GAAG,mBAAmB,uBAAuB,cAAc,YAAY,gBAAgB,oBAAoB,eAAe,GAAG,wBAAwB,uBAAuB,0BAA0B,2BAA2B,uBAAuB,oBAAoB,gBAAgB,GAAG,+BAA+B,gBAAgB,GAAG,mBAAmB,uBAAuB,gBAAgB,gBAAgB,4BAA4B,eAAe,GAAG,kBAAkB,uBAAuB,iBAAiB,sBAAsB,eAAe,gBAAgB,8BAA8B,2BAA2B,oBAAoB,uBAAuB,2BAA2B,GAAG,8BAA8B,sBAAsB,GAAG,6BAA6B,sBAAsB,GAAG,yBAAyB,0BAA0B,GAAG,uBAAuB,8BAA8B,GAAG,wCAAwC,2BAA2B,GAAG,8EAA8E,uBAAuB,2BAA2B,wBAAwB,GAAG,iFAAiF,mCAAmC,GAAG,uBAAuB,eAAe,iBAAiB,GAAG,wCAAwC,cAAc,eAAe,GAAG,yCAAyC,uBAAuB,sBAAsB,wBAAwB,GAAG,uCAAuC,WAAW,eAAe,iBAAiB,GAAG,uCAAuC,iBAAiB,eAAe,GAAG,sCAAsC,cAAc,wBAAwB,GAAG,kDAAkD,wBAAwB,GAAG,iDAAiD,wBAAwB,GAAG,4EAA4E,oCAAoC,oCAAoC,sCAAsC,sCAAsC,8BAA8B,yCAAyC,yCAAyC,GAAG,sCAAsC,oCAAoC,oCAAoC,sCAAsC,sCAAsC,8BAA8B,yCAAyC,yCAAyC,GAAG,+JAA+J,sDAAsD,sDAAsD,0CAA0C,0CAA0C,GAAG,+EAA+E,uDAAuD,uDAAuD,0CAA0C,0CAA0C,GAAG,4EAA4E,mCAAmC,mCAAmC,sEAAsE,sEAAsE,GAAG,sCAAsC,8EAA8E,8EAA8E,GAAG,gDAAgD,QAAQ,iBAAiB,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,UAAU,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,GAAG,wCAAwC,QAAQ,iBAAiB,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,UAAU,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,GAAG,iDAAiD,QAAQ,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,UAAU,iBAAiB,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,GAAG,yCAAyC,QAAQ,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,UAAU,iBAAiB,yCAAyC,yCAAyC,qCAAqC,qCAAqC,KAAK,GAAG,eAAe,uBAAuB,kBAAkB,iBAAiB,eAAe,wBAAwB,2BAA2B,kDAAkD,GAAG,iBAAiB,2BAA2B,kDAAkD,GAAG,sBAAsB,kBAAkB,GAAG,6BAA6B,yBAAyB,GAAG,qBAAqB,qBAAqB,oBAAoB,iBAAiB,oBAAoB,mBAAmB,gBAAgB,uBAAuB,0BAA0B,8BAA8B,uBAAuB,gCAAgC,GAAG,qBAAqB,uBAAuB,aAAa,cAAc,8BAA8B,wBAAwB,GAAG,+CAA+C,gBAAgB,cAAc,sBAAsB,4BAA4B,8BAA8B,GAAG;;AAE55N;;;;;;;;;;ACPA;;AAEA;;AAEA;;;;;;;;;;ACJA;;;;AAIA,KAAI,QAAQ,oBAAQ,gBAAR,CAAZ;;AAEA,KAAI,QAAQ,oBAAQ,oCAAR,CAAZ;AACA,KAAI,SAAS,oBAAQ,qCAAR,CAAb;AACA,KAAI,YAAY,oBAAQ,wCAAR,CAAhB;AACA,KAAI,UAAU,oBAAQ,sCAAR,CAAd;AACA,KAAI,iBAAiB,oBAAQ,6CAAR,CAArB;;AAEA,KAAI,gBAAgB,oBAAQ,8BAAR,CAApB;;;;;AAOA,KAAI,yBAAyB,MAAM,WAAN,CAAkB;AAAA;;AAC3C,gBAAW;AACP,uBAAc,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAD9B;AAEP,8BAAqB,MAAM,SAAN,CAAgB,MAAhB,CAAuB,UAFrC;AAGP,2BAAkB,MAAM,SAAN,CAAgB,IAAhB,CAAqB,UAHhC;AAIP,yCAAgC,MAAM,SAAN,CAAgB,IAAhB,CAAqB;AAJ9C,MADgC;AAO3C,sBAAiB,YAAW;AACxB,gBAAO,EAAE,WAAW,KAAb,EAAP;AACH,MAT0C;;AAW3C,kBAAa,YAAW;AACpB,cAAK,QAAL,CAAc,EAAE,WAAW,KAAb,EAAd;AACH,MAb0C;;AAe3C,kCAA6B,YAAW;AACpC,aAAG,CAAC,KAAK,KAAL,CAAW,gBAAf,EAAiC;AAC7B,kBAAK,iBAAL;AACH,UAFD,MAEO;AACH,kBAAK,QAAL,CAAc,EAAE,WAAW,IAAb,EAAd;AACH;AACJ,MArB0C;;AAuB3C,wBAAmB,YAAW;AAC1B,cAAK,KAAL,CAAW,8BAAX;AACA,gBAAO,QAAP,CAAgB,IAAhB,GAAqB,KAAK,KAAL,CAAW,YAAX,GAA0B,KAAK,KAAL,CAAW,mBAA1D;AACH,MA1B0C;;AA4B3C,qCAAgC,YAAW;AACvC,cAAK,iBAAL;AACA,cAAK,WAAL;AACH,MA/B0C;;AAiC3C,aAAQ,YAAW;AACf,gBACI;AAAA;aAAA,EAAG,KAAI,sBAAP,EAA8B,SAAS,KAAK,2BAA5C;aACI;AAAC,uBAAD;iBAAA,EAAQ,SAAQ,SAAhB,EAA0B,QAAO,QAAjC;iBAA0C,oBAAC,SAAD,IAAW,OAAO,EAAC,eAAe,QAAhB,EAA0B,eAAe,KAAzC,EAAlB,EAAmE,OAAM,cAAzE,GAA1C;iBAAmI;AAAA;qBAAA,EAAM,OAAO,EAAC,eAAe,QAAhB,EAA0B,YAAY,KAAtC,EAAb;qBAAA;AAAA;AAAnI,cADJ;aAGI;AAAC,sBAAD;iBAAA,EAAO,MAAM,KAAK,KAAL,CAAW,SAAxB,EAAmC,QAAQ,KAAK,WAAhD,EAA6D,QAAO,OAApE;iBACI,oBAAC,KAAD,CAAO,MAAP,IAAc,iBAAd,GADJ;iBAGI;AAAC,0BAAD,CAAO,IAAP;qBAAA,EAAY,OAAO,EAAC,WAAW,OAAZ,EAAnB;qBACI,oBAAC,aAAD;AADJ,kBAHJ;iBAMI;AAAC,0BAAD,CAAO,MAAP;qBAAA;qBACI;AAAC,+BAAD;yBAAA,EAAQ,SAAS,KAAK,WAAtB;yBAAA;AAAA,sBADJ;qBAEI;AAAC,+BAAD;yBAAA,EAAQ,SAAQ,SAAhB,EAA0B,SAAS,KAAK,8BAAxC;yBAAA;AAAA;AAFJ;AANJ;AAHJ,UADJ;AAiBH;AAnD0C,EAAlB,CAA7B;;AAsDA,QAAO,OAAP,GAAiB,sBAAjB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzEA;;AAEA;AACA;AACA,EAAC;;AAED,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe,GAAG;;;AAGjQ;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,yBAAwB;;AAExB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,aAAY;AACZ,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;AAGA,0DAAyD;AACzD;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA,sBAAqB,gBAAgB;AACrC,MAAK;AACL;AACA,sBAAqB,eAAe;AACpC;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;;AAEA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA,oBAAmB,eAAe;AAClC;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;;AAEA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/eA;;AAEA;AACA;AACA,EAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,EAAC;;AAED;AACA,qC;;;;;;;;;ACxHA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,qC;;;;;;;;;ACpBA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA,qC;;;;;;;;;ACjBA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB;;AAEnB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpKA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qC;;;;;;;;;;;;;;ACxCA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH,E;;;;;;;;;AChDA;;AAEA;AACA;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,qC;;;;;;;;;ACzBA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,WAAU;AACV;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA,oDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,+CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,kDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,oBAAmB;;AAEnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,0BAAyB,iBAAiB;AAC1C;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,0BAAyB,oBAAoB;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0BAAyB,mBAAmB;AAC5C;;AAEA;AACA,gCAA+B,kBAAkB;AACjD;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0BAAyB,kBAAkB;AAC3C;;AAEA;AACA,gCAA+B,iBAAiB;AAChD;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;;AAEA;AACA,6DAA4D;AAC5D;AACA,QAAO;AACP;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA;AACA,yBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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,2BAA0B;AAC1B;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,qC;;;;;;;;;ACnNA;;AAEA;AACA;AACA,EAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA,WAAU;AACV;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA,WAAU;AACV;AACA,qC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChIA;;AAEA;AACA;AACA,EAAC;;AAED,iCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,uCAAsC,uCAAuC,gBAAgB;;AAE7F,4CAA2C,kBAAkB,kCAAkC,qEAAqE,EAAE,EAAE,OAAO,kBAAkB,EAAE,YAAY;;AAE/M,kDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,kDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,2CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,sEAAqE;AACrE;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,EAAC;;AAED;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qC;;;;;;;;;AC7MA;;AAEA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,cAAa;AACb;AACA;AACA,mEAAkE,aAAa;AAC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;;;ACxDA;;AAEA;AACA;AACA;AACA;AACA,0FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,8CAA6C,gCAAgC,2BAA2B,mBAAmB,uDAAuD,uBAAuB,GAAG,6BAA6B,gBAAgB,iEAAiE,kCAAkC,gCAAgC,GAAG,0BAA0B,yCAAyC,oCAAoC,GAAG,0BAA0B,kCAAkC,0BAA0B,GAAG,gDAAgD,6BAA6B,mBAAmB,GAAG;;AAErqB;;;;;;;;;;ACPA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa;;AAEb;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA;AACA,kBAAiB;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;AACb;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;AClIA;;AAEA;AACA;AACA;AACA;AACA,0FAAgF;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;;;ACpBA;AACA;;;AAGA;AACA,gDAA+C,uBAAuB,y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","file":"experimentPageHeatmap.bundle.js","sourcesContent":["\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar HeatmapAnatomogramContainer = require('./ExperimentPageHeatmapAnatomogramContainer.jsx');\n\nvar ExperimentTypes = require('./experimentTypes.js');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object}  options\n * @param {string}  options.proxyPrefix\n * @param {string}  options.atlasHost\n * @param {string}  options.sourceURL\n * @param {boolean} options.isMultiExperiment\n * @param {boolean} options.isDifferential\n * @param {boolean} options.isProteomicsBaseline\n */\nexports.render = function(options) {\n\n  var protocol = window.location.protocol + \"//\",\n      atlasHost = options.atlasHost === undefined ? \"www.ebi.ac.uk\" : options.atlasHost,\n      atlasPath = \"/gxa\";\n\n  var linksAtlasBaseURL =\n      (atlasHost.indexOf(\"http://\") === 0 || atlasHost.indexOf(\"https://\") === 0) ? atlasHost + atlasPath :\n      protocol + atlasHost + atlasPath;\n\n  var atlasBaseURL = options.proxyPrefix ? options.proxyPrefix + \"/\" + atlasHost + atlasPath : linksAtlasBaseURL;\n\n    var type =\n        options.isMultiExperiment ? ExperimentTypes.MULTIEXPERIMENT :\n            options.isDifferential ? ExperimentTypes.DIFFERENTIAL :\n                options.isProteomicsBaseline ? ExperimentTypes.PROTEOMICS_BASELINE :\n                    ExperimentTypes.BASELINE;\n\n    ReactDOM.render(\n        React.createElement(\n            HeatmapAnatomogramContainer,\n            {\n                type: type,\n                sourceURL: options.sourceURL,\n                atlasBaseURL: atlasBaseURL,\n                linksAtlasBaseURL: linksAtlasBaseURL\n            }\n        ),\n        document.getElementById(\"gxaExperimentPageHeatmapAnatomogram\")\n    );\n\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/experimentPageHeatmapAnatomogramRenderer.js\n ** module id = 0\n ** module chunks = 1\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery.browser');\nrequire('jquery-hc-sticky');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar Anatomogram = require('anatomogram');\nvar FeedbackSmileys=require('atlas-feedback');\nvar Heatmap = require('./Heatmap.jsx');\nvar EnsemblLauncher = require('./EnsemblLauncher.jsx');\n\nvar ExperimentTypes = require('./experimentTypes.js');\n\n//*------------------------------------------------------------------*\n\nrequire('./ExperimentPageHeatmapAnatomogramContainer.css');\n\n//*------------------------------------------------------------------*\n\nvar AsynchronouslyLoadedInternalHeatmapAnatomogramContainer = React.createClass({\n  propTypes: {\n    sourceURL: React.PropTypes.string.isRequired,\n    type: React.PropTypes.oneOf([\n        ExperimentTypes.BASELINE, ExperimentTypes.MULTIEXPERIMENT, ExperimentTypes.DIFFERENTIAL, ExperimentTypes.PROTEOMICS_BASELINE\n    ]).isRequired,\n    atlasBaseURL: React.PropTypes.string.isRequired,\n    linksAtlasBaseURL: React.PropTypes.string.isRequired\n  },\n  getInitialState: function() {\n    return {\n      heatmapData: {}\n    };\n  },\n\n  componentDidMount: function() {\n      var httpRequest = {\n          url: this.props.sourceURL,\n          dataType: \"json\",\n          method: \"GET\"\n      };\n\n      this.serverRequest = $.ajax(httpRequest).done(\n           this._updateStateAsynchronously\n      ).fail(\n          function (jqXHR, textStatus, errorThrown) {\n              if (textStatus === \"parsererror\") {\n                  $(ReactDOM.findDOMNode(this.refs.this)).html(\"<div class='gxaError'>Could not parse JSON response</div>\");\n              } else {\n                  $(ReactDOM.findDOMNode(this.refs.this)).html(jqXHR.responseText);\n              }\n          }.bind(this)\n      );\n  },\n\n  _updateStateAsynchronously: function (data) {\n      this.setState({heatmapData:data});\n  },\n\n  render: function () {\n    return Object.keys(this.state.heatmapData).length\n      ?\n        this.state.heatmapData.error\n        ? <p>{this.state.heatmapData.error}</p>\n        : <InternalHeatmapAnatomogramContainer\n            type={this.props.type}\n            heatmapConfig={this.state.heatmapData.config}\n            isWidget={false}\n            anatomogram={this.state.heatmapData.anatomogram}\n            columnHeaders={this.state.heatmapData.columnHeaders}\n            multipleColumnHeaders={this.state.heatmapData.multipleColumnHeaders}\n            profiles={this.state.heatmapData.profiles}\n            jsonCoexpressions={this.state.heatmapData.jsonCoexpressions}\n            geneSetProfiles={this.state.heatmapData.geneSetProfiles}\n            atlasBaseURL={this.state.heatmapData.config.atlasHost+this.state.heatmapData.config.contextRoot}\n            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n          />\n      : <div ref=\"loadingImagePlaceholder\">\n          <img src={this.props.atlasBaseURL + \"/resources/images/loading.gif\"}/>\n      </div>\n  }\n});\n\nvar InternalHeatmapAnatomogramContainer = React.createClass({\n    propTypes: {\n        anatomogram: React.PropTypes.object,\n        columnHeaders: React.PropTypes.oneOfType([\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                assayGroupId: React.PropTypes.string.isRequired,\n                factorValue: React.PropTypes.string.isRequired,\n                factorValueOntologyTermId: React.PropTypes.string\n            })),\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                id: React.PropTypes.string.isRequired,\n                referenceAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                testAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                displayName: React.PropTypes.string.isRequired\n            }))\n        ]).isRequired,\n        multipleColumnHeaders: React.PropTypes.object,\n        profiles: React.PropTypes.object.isRequired,\n        jsonCoexpressions: React.PropTypes.arrayOf(React.PropTypes.shape({\n          geneName: React.PropTypes.string.isRequired,\n          jsonProfiles: React.PropTypes.object.isRequired\n        })),\n        geneSetProfiles: React.PropTypes.object,\n        heatmapConfig: React.PropTypes.object.isRequired,\n        type: React.PropTypes.oneOf([\n            ExperimentTypes.BASELINE, ExperimentTypes.MULTIEXPERIMENT, ExperimentTypes.DIFFERENTIAL, ExperimentTypes.PROTEOMICS_BASELINE\n        ]).isRequired,\n        isWidget: React.PropTypes.bool.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        ensemblEventEmitter : React.PropTypes.object.isRequired,\n        anatomogramEventEmitter: React.PropTypes.object.isRequired\n    },\n\n    getDefaultProps: function (){\n      //one ExperimentPageHeatmapAnatomogramContainer per page so this is fine- otherwise the event emitters would be shared\n      var ensemblEventEmitter = new EventEmitter();\n      ensemblEventEmitter.setMaxListeners(0);\n      var anatomogramEventEmitter = new EventEmitter();\n      anatomogramEventEmitter.setMaxListeners(0);\n      return {ensemblEventEmitter: ensemblEventEmitter, anatomogramEventEmitter:anatomogramEventEmitter };\n    },\n\n    getInitialState: function () {\n      return {googleAnalyticsCallback: typeof ga !== 'undefined' ? ga : function (){}}\n    },\n\n    render: function () {\n\n        var anatomogramExpressedTissueColour = this.props.type.isMultiExperiment ? \"red\" : \"gray\";\n        var anatomogramHoveredTissueColour = this.props.type.isMultiExperiment ? \"indigo\" : \"red\";\n\n        var prefFormDisplayLevels = $('#displayLevels');\n\n        var feedbackSmileys = $.browser.msie ? null\n            :\n            <div className=\"gxaHeatmapPosition gxaFeedbackBoxWrapper\">\n            <FeedbackSmileys collectionCallback= {\n                    function(score,comment){\n                      this.state.googleAnalyticsCallback(\n                        'send','event','HeatmapReact', 'feedback',\n                        comment,score);\n                    }.bind(this)} />\n            </div>;\n\n        return (\n            <div id=\"heatmap-anatomogram\" className=\"gxaHeatmapAnatomogramRow\">\n\n                <div ref=\"anatomogramEnsembl\" className=\"gxaAside\">\n                    { this.props.anatomogram ?\n                        <Anatomogram anatomogramData={this.props.anatomogram}\n                                     expressedTissueColour={anatomogramExpressedTissueColour} hoveredTissueColour={anatomogramHoveredTissueColour}\n                                     profileRows={this.props.profiles.rows} eventEmitter={this.props.anatomogramEventEmitter} atlasBaseURL={this.props.atlasBaseURL} />\n                        : null}\n                    { this.props.heatmapConfig.enableEnsemblLauncher ?\n                        <EnsemblLauncher isBaseline={this.props.type === ExperimentTypes.BASELINE || this.props.type === ExperimentTypes.PROTEOMICS_BASELINE}\n                                         experimentAccession={this.props.heatmapConfig.experimentAccession}\n                                         species={this.props.heatmapConfig.species}\n                                         ensemblDB={this.props.heatmapConfig.ensemblDB}\n                                         columnType={this.props.heatmapConfig.columnType}\n                                         eventEmitter={this.props.ensemblEventEmitter}\n                                         atlasBaseURL={this.props.atlasBaseURL} />\n                        : null }\n                </div>\n                <div id=\"heatmap-react\" className=\"gxaHeatmapPosition\">\n                    <Heatmap type={this.props.type}\n                             heatmapConfig={this.props.heatmapConfig}\n                             columnHeaders={this.props.columnHeaders}\n                             multipleColumnHeaders={this.props.multipleColumnHeaders}\n                             profiles={this.props.profiles}\n                             jsonCoexpressions={ this.props.jsonCoexpressions}\n                             geneSetProfiles={this.props.geneSetProfiles}\n                             isWidget={false}\n                             prefFormDisplayLevels={prefFormDisplayLevels}\n                             ensemblEventEmitter={this.props.ensemblEventEmitter}\n                             anatomogramEventEmitter={this.props.anatomogramEventEmitter}\n                             atlasBaseURL={this.props.atlasBaseURL}\n                             linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                             googleAnalyticsCallback={this.state.googleAnalyticsCallback}/>\n                </div>\n                {feedbackSmileys}\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        var $anatomogramEnsemblAside = $(ReactDOM.findDOMNode(this.refs.anatomogramEnsembl));\n        $anatomogramEnsemblAside.hcSticky({responsive: true});\n\n        $(document).ready(function () {\n          this.setState({googleAnalyticsCallback: typeof ga !== 'undefined' ? ga : function (){}})\n        }.bind(this)\n        )\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = AsynchronouslyLoadedInternalHeatmapAnatomogramContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/src/ExperimentPageHeatmapAnatomogramContainer.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Anatomogram.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/anatomogram/index.js\n ** module id = 685\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-hc-sticky');\nrequire('jquery-ui-bundle');\n\nvar Snap = require('imports-loader?this=>window,fix=>module.exports=0!snapsvg/dist/snap.svg.js');\n\nvar EventEmitter = require('events');\n\n//*------------------------------------------------------------------*\n\nvar AnatomogramSelectImageButton = React.createClass({\n    propTypes: {\n        anatomogramId: React.PropTypes.string.isRequired,\n        selected: React.PropTypes.bool.isRequired,\n        toggleSrcTemplate: React.PropTypes.string.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        var selectedToggleSrc = this.props.toggleSrcTemplate + \"_selected.png\",\n            unselectedToggleSrc = this.props.toggleSrcTemplate + \"_unselected.png\";\n\n        return(\n            <div>\n                <img ref=\"toggleButton\" onClick={this._onClick} src={this.props.selected ? selectedToggleSrc : unselectedToggleSrc}\n                     style={{width: \"24px\", height: \"24px\", padding: \"2px\"}}/>\n            </div>\n        );\n    },\n\n    componentDidMount: function() {\n        $(ReactDOM.findDOMNode(this.refs.toggleButton)).button();\n    },\n\n    _onClick: function() {\n        this.props.onClick(this.props.anatomogramId);\n    }\n});\n\n\nvar AnatomogramSelectImageButtons = React.createClass({\n    propTypes: {\n        selectedId: React.PropTypes.string.isRequired,\n        availableAnatomograms: React.PropTypes.array.isRequired,\n        onClick: React.PropTypes.func.isRequired\n    },\n\n    render: function() {\n        if (this.props.availableAnatomograms.length > 1) {\n            var selectedId = this.props.selectedId,\n                onClick = this.props.onClick;\n            var anatomogramSelectImageButtons = this.props.availableAnatomograms.map(function(availableAnatomogram) {\n               return(\n                   <AnatomogramSelectImageButton key={availableAnatomogram.id + \"_toggle\"}\n                    anatomogramId={availableAnatomogram.id} selected={selectedId === availableAnatomogram.id} toggleSrcTemplate={availableAnatomogram.toggleSrcTemplate} onClick={onClick}/>\n               )\n            });\n\n            return (\n                <span>\n                    {anatomogramSelectImageButtons}\n                </span>\n            );\n\n        } else {\n            return (\n                null\n            )\n        }\n    }\n\n});\n\nvar AnatomogramImageParts = React.createClass({\n  propTypes: {\n    idsExpressedInExperiment: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsHeatmapWantsHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsMousedOver: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    idsNotHighlighted: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function () {\n    return {toDraw: [].concat(\n      AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props)\n        .map(this._highlightStrongly)\n      ,\n      this.props.idsExpressedInExperiment\n        .map(this._highlightSlightly)\n      ,\n      this.props.idsNotHighlighted\n        .map(this._highlightAsBackground)\n      )};\n  },\n\n  render: function() {\n    return <span/>;\n  },\n\n  _highlightStrongly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.hoveredTissueColour, opacity: 0.7 };\n  },\n\n  _highlightSlightly: function(svgPathId) {\n    return {id: svgPathId, colour: this.props.expressedTissueColour, opacity: 0.7 };\n  },\n\n  _highlightAsBackground: function(svgPathId) {\n    return {id: svgPathId, colour: \"gray\", opacity: 0.5 };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    var oldStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(this.props);\n    var newStrong = AnatomogramImageParts.idsThatShouldBeStronglyHighlighted(nextProps);\n    var oldWeak = this.props.idsExpressedInExperiment;\n    var newWeak = nextProps.idsExpressedInExperiment;\n\n    var toDraw = [].concat(\n      //ids that heatmap wants highlighted are the most highlighted\n      newStrong\n        .filter(function(id){return oldStrong.indexOf(id)<0})\n        .map(this._highlightStrongly)\n      ,\n      //ids that are expressed in the experiment are highlighted with a weaker colour, often the same as background\n      newWeak\n        .filter(function(id){return newStrong.indexOf(id)<0})\n        .filter(function(id){return oldWeak.indexOf(id)<0}.bind(this))\n        .map(this._highlightSlightly)\n      ,\n      nextProps.idsNotHighlighted\n        .filter(function(id){return this.props.idsNotHighlighted.indexOf(id)<0}.bind(this))\n        .map(this._highlightAsBackground)\n      );\n\n    this.setState({toDraw:toDraw});\n  },\n\n  statics: {\n    idsThatShouldBeStronglyHighlighted: function(properties){\n      return properties.idsHeatmapWantsHighlighted.concat(properties.idsMousedOver);\n    }\n  }\n});\n\nvar AnatomogramImage = React.createClass({\n  propTypes: {\n    file: React.PropTypes.string.isRequired,\n    height: React.PropTypes.string.isRequired,\n    expressedFactors: React.PropTypes.arrayOf(React.PropTypes.string),\n    expressedFactorsPerRow: React.PropTypes.object.isRequired,\n    allSvgPathIds: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n    expressedTissueColour: React.PropTypes.string.isRequired,\n    hoveredTissueColour: React.PropTypes.string.isRequired\n  },\n\n  getInitialState: function() {\n    return {\n      hoveredPathId: null,\n      hoveredRowId: null,\n      mousedOverSvgIds: []\n    };\n  },\n\n  componentWillReceiveProps: function(nextProps) {\n    if(nextProps.file!==this.props.file){\n      this._loadAnatomogram(nextProps.file);\n    }\n  },\n\n  componentDidMount: function() {\n      this._loadAnatomogram(this.props.file);\n      this._draw();\n  },\n\n  componentDidUpdate: function(){\n    this._draw();\n  },\n\n  _draw: function() {\n    var svg= Snap(ReactDOM.findDOMNode(this.refs.anatomogram)).select(\"g\");\n    if(svg!==null){\n      this._drawOnSvg(svg,this.refs.imageParts.state.toDraw);\n      this.refs.imageParts.setState({toDraw:[]});\n    }\n  },\n  _drawInitialLayout: function(svg){\n    this._drawOnSvg(svg,this.refs.imageParts.getInitialState().toDraw);\n    this.refs.imageParts.setState({toDraw:[]});\n  },\n\n  _drawOnSvg: function(svg, instructions){\n    instructions.forEach(function(instruction){\n      this._highlightOrganismParts(svg,instruction.id, instruction.colour, instruction.opacity);\n    }.bind(this));\n  },\n\n  render: function () {\n    var idsExpressedInExperiment =[],\n        idsHoveredOver=[],\n        idsHeatmapWantsHighlighted = [],\n        idsNotHighlighted = [];\n    for(var i = 0 ; i< this.props.allSvgPathIds.length; i++){\n      var id = this.props.allSvgPathIds[i];\n      if(this.state.mousedOverSvgIds.indexOf(id)>-1){\n        idsHoveredOver.push(id);\n      } else if(this._hoveredRowContainsPathId(id) || this.state.hoveredPathId === id){\n        idsHeatmapWantsHighlighted.push(id);\n      } else if(this.props.expressedFactors.indexOf(id)>-1){\n        idsExpressedInExperiment.push(id);\n      } else {\n        idsNotHighlighted.push(id);\n      }\n    }\n\n    return (<span>\n        <svg ref=\"anatomogram\" style={{display: \"table-cell\", width: \"230px\", height:this.props.height + \"px\"}} />\n        <AnatomogramImageParts ref=\"imageParts\" key={this.props.file}\n            idsExpressedInExperiment={idsExpressedInExperiment}\n            idsHeatmapWantsHighlighted={idsHeatmapWantsHighlighted}\n            idsMousedOver={idsHoveredOver}\n            idsNotHighlighted={idsNotHighlighted}\n            expressedTissueColour={this.props.expressedTissueColour}\n            hoveredTissueColour={this.props.hoveredTissueColour}/>\n      </span>);\n  },\n\n  _highlightPath: function(svgPathId) {\n      this.setState({hoveredPathId: svgPathId});\n  },\n\n  _highlightRow: function(rowId) {\n      this.setState({hoveredRowId: rowId});\n  },\n\n  _loadAnatomogram: function(svgFile) {\n\n      var svgCanvas = Snap(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          $svgCanvas = $(ReactDOM.findDOMNode(this.refs.anatomogram)),\n          allElements = svgCanvas.selectAll(\"*\");\n\n      if (allElements) {\n          allElements.remove();\n      }\n\n      var displayAllOrganismPartsCallback = this._drawInitialLayout;\n      var registerHoverEventsCallback = this._registerHoverEvents;\n      Snap.load(\n          svgFile,\n          function (fragment) {\n              var g = fragment.select(\"g\");\n              g.transform(\"S1.6,0,0\");\n              displayAllOrganismPartsCallback(g);\n              registerHoverEventsCallback(g);\n              svgCanvas.append(g);\n              var img = fragment.select(\"#ccLogo\");\n              var heightTranslate = $svgCanvas.height() - 15;\n              var widthTranslate = $svgCanvas.width() / 2 - 40;\n              img.transform(\"t\"+widthTranslate+\",\"+heightTranslate);\n              svgCanvas.append(img);\n          }\n      );\n  },\n\n  _hoveredRowContainsPathId: function(svgPathId) {\n    return (this.state.hoveredRowId\n            && this.props.expressedFactorsPerRow.hasOwnProperty(this.state.hoveredRowId)\n            && this.props.expressedFactorsPerRow[this.state.hoveredRowId].indexOf(svgPathId) > -1 );\n  },\n\n  _registerHoverEvents: function(svg) {\n      if (svg) {  // Sometimes svg is null... why?\n          var mouseoverCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseEnter', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = [].concat(previousState.mousedOverSvgIds);\n                  a.push(svgPathId);\n                  while(a.length >5){\n                    a.shift();\n                  }\n                  return {mousedOverSvgIds: a};\n              });\n          }.bind(this);\n          var mouseoutCallback = function(svgPathId) {\n              this.props.eventEmitter.emit('gxaAnatomogramTissueMouseLeave', svgPathId);\n              this.setState(function(previousState, currentProps){\n                  var a = previousState.mousedOverSvgIds.map(\n                      function(el){return el===svgPathId ? \"\" : el}\n                    );\n                  return {mousedOverSvgIds: a};\n                });\n          }.bind(this);\n\n          this.props.allSvgPathIds.forEach(function(svgPathId) {\n              var svgElement = svg.select(\"#\" + svgPathId);\n              if (svgElement) {\n                  svgElement.mouseover(function() {mouseoverCallback(svgPathId)});\n                  svgElement.mouseout(function() {mouseoutCallback(svgPathId)});\n              }\n          }, this);\n      }\n  },\n\n  _highlightOrganismParts: function(svg, svgPathId, colour, opacity) {\n      AnatomogramImage._recursivelyChangeProperties(svg.select(\"#\" + svgPathId), colour, opacity);\n  },\n\n  statics: {\n    _recursivelyChangeProperties: function(svgElement, colour, opacity) {\n\n        if (svgElement) {\n            var innerElements = svgElement.selectAll(\"*\");\n\n            if (innerElements.length > 0) {\n                innerElements.forEach(function(innerElement) {\n                    AnatomogramImage._recursivelyChangeProperties(innerElement);\n                });\n            }\n\n            svgElement.attr({\"fill\": colour, \"fill-opacity\": opacity});\n        }\n    },\n    _recursivelySelectElements: function(svgElement) {\n        if (!svgElement) {\n            return [];\n        }\n\n        var innerElements = svgElement.selectAll(\"*\");\n        if (innerElements.length === 0) {\n            return [svgElement];\n        } else {\n            var allElements = [];\n            innerElements.forEach(function(innerElement) {\n                allElements = allElements.concat(AnatomogramImage._recursivelySelectElements(innerElement));\n            });\n            return allElements;\n        }\n    }\n  }\n});\n\n\n\nvar Anatomogram = React.createClass({\n\n    propTypes: {\n        anatomogramData: React.PropTypes.object.isRequired,\n        expressedTissueColour: React.PropTypes.string.isRequired,\n        hoveredTissueColour: React.PropTypes.string.isRequired,\n        profileRows: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                id: React.PropTypes.string,\n                name: React.PropTypes.string.isRequired,\n                expressions: React.PropTypes.arrayOf(\n                    React.PropTypes.shape({\n                        factorName: React.PropTypes.string,\n                        color: React.PropTypes.string,\n                        value: React.PropTypes.number, // missing represents \"NA\"/\"NT\"\n                        svgPathId: React.PropTypes.string\n                    })\n                ).isRequired\n            })\n        ).isRequired,\n        eventEmitter: React.PropTypes.instanceOf(EventEmitter),\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function() {\n\n        var availableAnatomograms = [];\n        if (this.props.anatomogramData.maleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"male\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.maleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonMaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.femaleAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"female\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.femaleAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonFemaleImageTemplate}\n            );\n        }\n        if (this.props.anatomogramData.brainAnatomogramFile) {\n            availableAnatomograms.push(\n                {id: \"brain\",\n                 anatomogramFile: this.props.atlasBaseURL + \"/resources/svg/\" + this.props.anatomogramData.brainAnatomogramFile,\n                 toggleSrcTemplate: this.props.atlasBaseURL + this.props.anatomogramData.toggleButtonBrainImageTemplate}\n            );\n        }\n\n\n        var allExpressedFactors = [],\n            expressedFactorsPerRow = {};\n        this.props.profileRows.forEach(function(profileRow) {\n            var expressedFactors = [];\n            profileRow.expressions.forEach(function(expression) {\n                if (! typeof expression.value !== \"undefined\" && expression.value) {\n                    expressedFactors.push(expression.svgPathId);\n                }\n            });\n            expressedFactorsPerRow[profileRow.name] = expressedFactors;\n            allExpressedFactors = allExpressedFactors.concat(expressedFactors);\n        });\n\n        function onlyUnique(value, index, self) {\n            return self.indexOf(value) === index;\n        }\n\n        return {\n            selectedId: availableAnatomograms[0].id,\n            availableAnatomograms: availableAnatomograms,\n            expressedFactors: allExpressedFactors.filter(onlyUnique),\n            expressedFactorsPerRow: expressedFactorsPerRow\n        }\n    },\n\n    render: function () {\n        function containsHuman(str) {\n            return str.indexOf(\"human\") > -1;\n        }\n\n        return (\n            <div className=\"gxaAnatomogram\" style={{display: \"table\", paddingTop: \"4px\"}}>\n                <div style={{display: \"table-row\"}}>\n                    <div style={{display: \"table-cell\", verticalAlign: \"top\"}}>\n                        <AnatomogramSelectImageButtons selectedId={this.state.selectedId} availableAnatomograms={this.state.availableAnatomograms} onClick={this._handleChange}/>\n                    </div>\n                    <AnatomogramImage\n                      key={this.state.selectedId}\n                      ref=\"currentImage\"\n                      file={this._getAnatomogramSVGFile(this.state.selectedId)}\n                      height={containsHuman(this.props.anatomogramData.maleAnatomogramFile) ? \"375\" : \"265\"}\n                      expressedFactors={this.state.expressedFactors}\n                      expressedFactorsPerRow={this.state.expressedFactorsPerRow}\n                      allSvgPathIds={this.props.anatomogramData.allSvgPathIds}\n                      eventEmitter={this.props.eventEmitter}\n                      expressedTissueColour={this.props.expressedTissueColour}\n                      hoveredTissueColour={this.props.hoveredTissueColour}/>\n                </div>\n            </div>\n        );\n    },\n\n    _registerListenerIfNecessary: function(name, fn){\n        if (this.props.eventEmitter &&\n            this.props.eventEmitter._events &&\n            !this.props.eventEmitter._events.hasOwnProperty(name)){\n            this.props.eventEmitter.addListener(name, fn);\n          }\n    },\n\n    componentDidMount: function() {\n        this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n        this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    componentDidUpdate: function () {\n      this._registerListenerIfNecessary(\"gxaHeatmapColumnHoverChange\", this._highlightPath);\n      this._registerListenerIfNecessary(\"gxaHeatmapRowHoverChange\", this._highlightRow);\n    },\n\n    _handleChange: function(newSelectedId) {\n        if (newSelectedId !== this.state.selectedId) {\n            this.setState({selectedId: newSelectedId});\n        }\n    },\n\n    _highlightPath: function(svgPathId) {\n        this.refs.currentImage._highlightPath(svgPathId);\n    },\n\n    _highlightRow: function(rowId) {\n      this.refs.currentImage._highlightRow(rowId);\n    },\n\n    _getAnatomogramSVGFile: function(id) {\n        for (var i = 0 ; i < this.state.availableAnatomograms.length ; i++) {\n            if (id === this.state.availableAnatomograms[i].id) {\n                return this.state.availableAnatomograms[i].anatomogramFile;\n            }\n        }\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Anatomogram;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/anatomogram/src/Anatomogram.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/Feedback.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/atlas-feedback/index.js\n ** module id = 690\n ** module chunks = 1\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\nvar React = require('react');\nvar LocalStorageMixin = require('react-localstorage');\nvar TimerMixin = require('react-timer-mixin');\nvar ReactCSSTransitionGroup = require('react-addons-css-transition-group');\n\nvar BootstrapButton = require('react-bootstrap/lib/Button');\nvar BootstrapFormGroup = require('react-bootstrap/lib/FormGroup');\nvar BootstrapFormControl = require('react-bootstrap/lib/FormControl');\n\nvar EmojiSpritesFile = require('../assets/emojione.sprites.png');\nvar Emoji = require('react-emojione');\n\nrequire(\"./gxaFeedback.css\");\n\n//*------------------------------------------------------------------*\n\nvar FeedbackPersistence = function createFeedbackComponent(FeedbackUIComponent){\n  return (\n    React.createClass({\n      displayName: 'AtlasGXAFeedbackForm',\n      mixins: [LocalStorageMixin],\n\n      propTypes: {\n        collectionCallback: React.PropTypes.func.isRequired\n      },\n\n      getInitialState: function() {\n        return {\n          created : new Date().toISOString(),\n          shownTimes : 0,\n          show : true\n            };\n      },\n\n      _shouldShow: function () {\n        var timeDiff = Math.abs(new Date().getTime() - new Date(this.state.created).getTime());\n        var diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n        return this.state.show && diffDays >0 && this.state.shownTimes < 50;\n      },\n\n      _hide: function () {\n        this.setState({show: false});\n      },\n\n      _complete : function (userResponse, optionalUserComment) {\n        this.setState({show: false});\n        this.props.collectionCallback.apply(this, arguments);\n      },\n\n\n      render: function () {\n        var it = this._shouldShow()\n                  ? <FeedbackUIComponent key={\"box\"} onComplete={this._complete} onRequestHide={this._hide} />\n                  : <div key=\"nullKey\" />;\n        return (\n          <ReactCSSTransitionGroup transitionName=\"feedbackBoxTransitionWrapper\" transitionEnterTimeout={500} transitionLeaveTimeout={1000} >\n            {it}\n          </ReactCSSTransitionGroup>\n\n        );\n      },\n\n\n      componentDidMount: function () {\n        if(this._shouldShow()){\n          this.setState(function(previousState) {\n            return {shownTimes: previousState.shownTimes+1};\n          });\n        }\n      }\n    })\n  );\n}\n\nvar FeedbackBox = React.createClass({\n    propTypes: {\n        onComplete: React.PropTypes.func.isRequired,\n        onRequestHide : React.PropTypes.func.isRequired\n    },\n\n    mixins: [TimerMixin],\n\n    getInitialState: function () {\n      return {\n        askingWhyTheResultsWereNotUseful: false,\n        feedbackMessage: \"\"\n      }\n    },\n\n    componentDidUpdate: function () {\n      if(this.state.askingWhyTheResultsWereNotUseful && this.state.feedbackMessage.length===0){\n        this.setTimeout(function() {if(this.state.feedbackMessage.length===0) {this._submitNegativeAnswer();}}.bind(this), 5000);\n      }\n    },\n\n    _updateStateWithFormAnswer: function(e) {\n      this.setState({feedbackMessage: e.target.value});\n    },\n\n    _submitNegativeAnswer: function() {\n      this._submitAnswer(0, this.state.feedbackMessage);\n    },\n\n    _submitPositiveAnswer: function () {\n      this._submitAnswer(10);\n    },\n\n    _submitAnswer: function(score, optionalMessage) {\n      this.props.onComplete.apply(this, arguments);\n    },\n\n    render: function () {\n      return( <div className=\"gxaFeedbackQuestionBox\">\n      <div id=\"feedbackBoxCross\" className=\"icon icon-functional\" data-icon=\"x\" onClick={this.props.onRequestHide}></div>\n          <p>Did you find these results useful?</p>\n          <div className=\"gxaFeedbackQuestionBoxAnswer\">\n          {this.state.askingWhyTheResultsWereNotUseful\n            ?\n              <form>\n                <BootstrapFormGroup\n                  controlId=\"optionalFeedback\"\n                >\n                  <BootstrapFormControl\n                  componentClass=\"textarea\"\n                    type=\"text\"\n                    value={this.state.feedbackMessage}\n                    placeholder=\"Why not? (optional)\"\n                    onChange={this._updateStateWithFormAnswer}\n                  />\n                  <BootstrapFormControl.Feedback />\n                  <BootstrapButton style={{float: \"right\"}} onClick={this._submitNegativeAnswer}>\n                    Submit\n                  </BootstrapButton>\n                </BootstrapFormGroup>\n              </form>\n            :\n              <div>\n                <BootstrapButton bsStyle=\"default\" onClick={this._submitPositiveAnswer}>Yes</BootstrapButton>\n                <BootstrapButton onClick={function(){this.setState({askingWhyTheResultsWereNotUseful:true})}.bind(this)} bsStyle=\"default\">No</BootstrapButton>\n                <a onClick={this.props.onRequestHide} >Do not show this again</a>\n              </div>}\n          </div>\n      </div>)\n    }\n  });\n\n  var Smiley = React.createClass({\n    propTypes: {\n      emoji: React.PropTypes.string.isRequired,\n      value: React.PropTypes.number.isRequired,\n      onClickCallback: React.PropTypes.func.isRequired,\n      selected: React.PropTypes.bool.isRequired\n    },\n\n    _onClick: function() {\n      this.props.onClickCallback(this.props.value);\n    },\n\n    _emojifyOptions: {\n      convertShortnames: true,\n      convertUnicode: false,\n      convertAscii: true,\n      styles: {\n          backgroundImage: 'url('+\n            (window.location.href.indexOf(\"gxa\") >-1\n            ? \"resources/js-bundles/\"\n            : \"\" )+EmojiSpritesFile+')',\n          width: '32px',\n          height: '32px',\n          margin: '4px'\n      }\n    },\n\n    render: function () {\n      return (\n        <span style={{padding:\"6px\"}} >\n          <span className={this.props.selected? \"gxaSmiley gxaSmileyClicked\": \"gxaSmiley\"} onClick={this._onClick} >\n          {Emoji.emojify(this.props.emoji,this._emojifyOptions)}\n          </span>\n        </span>\n      );\n    }\n  });\n\n  var FeedbackSmileys = React.createClass({\n      propTypes: {\n          onComplete: React.PropTypes.func.isRequired,\n          onRequestHide : React.PropTypes.func.isRequired\n      },\n\n      mixins: [TimerMixin],\n\n      getInitialState: function() {\n        return {\n          score: -1,\n          feedbackMessage: \"\"\n        };\n      },\n\n      _interactionHappened: function() {\n        return this.state.score !== this.getInitialState().score;\n      },\n\n      _updateStateWithFormAnswer: function(e) {\n        this.setState({feedbackMessage: e.target.value});\n      },\n\n      _smileyClicked: function(newScore) {\n        this.setState({score: newScore});\n      },\n\n      _submit: function() {\n        this.props.onComplete(this.state.score, this.state.feedbackMessage);\n      },\n\n      componentDidUpdate: function () {\n        if(this._interactionHappened() && this.state.feedbackMessage.length===0){\n          this.setTimeout(\n            function() {\n              if(this.state.feedbackMessage.length===0) {\n                this._submit();\n              }\n            }.bind(this), 5000);\n        }\n      },\n\n      render: function() { /* identifiers from http://emoji.codes/ */\n        return (\n          <div className=\"gxaSmileyFeedbackBox\">\n            <p> Did you find these results useful?</p>\n            <div className=\"gxaSmileyRow\">\n              {[[\":frowning:\", 0],[\":slight_frown:\", 2], [\":neutral_face:\", 5], [\":slight_smile:\",8], [\":smiley:\",10]].map(function(ar){\n                return (\n                  <Smiley\n                    key={ar[0]+(this.state.score===ar[1])}\n                    emoji={ar[0]}\n                    value={ar[1]}\n                    onClickCallback={this._smileyClicked}\n                    selected={this.state.score===ar[1]}\n                  />\n                );\n              }.bind(this))}\n            </div>\n            <form style={{display: this._interactionHappened() ? \"block\" :\"none\"}}>\n              <BootstrapFormGroup\n                controlId=\"optionalFeedback\"\n              >\n                <BootstrapFormControl\n                componentClass=\"textarea\"\n                  type=\"text\"\n                  value={this.state.feedbackMessage}\n                  placeholder=\"Feedback (optional)\"\n                  onChange={this._updateStateWithFormAnswer}\n                />\n                <BootstrapFormControl.Feedback />\n                <div>\n                  <BootstrapButton onClick={this._submit}>\n                  Submit\n                  </BootstrapButton>\n                </div>\n              </BootstrapFormGroup>\n            </form>\n          </div>\n        );\n      }\n\n  });\n\n\n\nmodule.exports = FeedbackPersistence(FeedbackSmileys);\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/atlas-feedback/src/Feedback.jsx\n **/","module.exports = __webpack_public_path__ + \"72e306f1246f69de2c83c8d3c3141177.png\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/atlas-feedback/assets/emojione.sprites.png\n ** module id = 750\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaFeedback.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaFeedback.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaFeedback.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/atlas-feedback/src/gxaFeedback.css\n ** module id = 760\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"div.gxaFeedbackQuestionBox {\\n  margin: 30px;\\n  width: 300px;\\n  background-color: #b3e0ff;\\n  border: 3px solid #008ae6;\\n  opacity: 0.6;\\n  filter: alpha(opacity=60); /* For IE8 and earlier */\\n}\\n\\n#feedbackBoxCross {\\n  margin: 3px;\\n  margin-top: 5px;\\n  float: right;\\n  cursor:pointer;\\n}\\n\\n#feedbackBoxCross:before {\\n  color: #BF2222;\\n}\\n\\ndiv.gxaFeedbackQuestionBox p {\\n  margin: 2%;\\n font-weight: bold;\\n text-align: center;\\n}\\n\\ndiv.gxaFeedbackQuestionBox a {\\n  float: right;\\n  margin-top: 6px;\\n  cursor:pointer;\\n}\\n\\ndiv.gxaFeedbackQuestionBoxAnswer {\\n  position:relative;\\ntext-align: center;\\n  margin: 0 auto;\\n  margin-bottom: 10px;\\n  width: 90%;\\n}\\n\\ndiv.gxaFeedbackQuestionBox button {\\n width: auto;\\n}\\n\\n.feedbackBoxTransitionWrapper-leave {\\n  opacity: 1;\\n}\\n\\n.feedbackBoxTransitionWrapper-leave.feedbackBoxTransitionWrapper-leave-active {\\n  opacity: 0.01;\\n  transition: opacity 300ms ease-in;\\n}\\n\\n.gxaSmiley {\\n  opacity: 0.6;\\n  text-decoration:none;\\n  cursor:pointer;\\n}\\n\\n.gxaSmiley:hover {\\n  opacity: 0.9;\\n  text-decoration:none;\\n  cursor:pointer;\\n}\\n\\n.gxaSmileyClicked {\\n  opacity: 1;\\n}\\n\\n.gxaSmileyFeedbackBox {\\n  text-align: center;\\n  clear: both;\\n  width: 300px;\\n  opacity: 0.8;\\n  filter: alpha(opacity=80); /* For IE8 and earlier */\\n}\\n\\n.gxaSmileyRow {\\n  text-align: center!important;\\n}\\n\\n.gxaSmileyFeedbackBox p {\\n  padding-left: 18px;\\n  padding-top: 5px;\\n  font-weight: bold;\\n  font-size: 14px;\\n}\\n\\n.gxaSmileyFeedbackBox form {\\n  padding: 6px;\\n  width: 87%;\\n}\\n\\n.gxaSmileyFeedbackBox button {\\n  width: 100px;\\n  margin-left: 91px;\\n}\\n\\n.form-control {\\n  display: block;\\n  width: 100%;\\n  height: 34px;\\n  padding: 6px 12px;\\n  font-size: 14px;\\n  line-height: 1.42857143;\\n  color: #555;\\n  background-color: #fff;\\n  background-image: none;\\n  border: 1px solid #ccc;\\n  border-radius: 4px;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n          box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);\\n  -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;\\n       -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n          transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;\\n}\\n.form-control:focus {\\n  border-color: #66afe9;\\n  outline: 0;\\n  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\\n          box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);\\n}\\n.form-control::-moz-placeholder {\\n  color: #999;\\n  opacity: 1;\\n}\\n.form-control:-ms-input-placeholder {\\n  color: #999;\\n}\\n.form-control::-webkit-input-placeholder {\\n  color: #999;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/atlas-feedback/src/gxaFeedback.css\n ** module id = 761\n ** module chunks = 1\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar ReactDOMServer = require('react-dom/server');\nvar RadioGroup = require('react-radio-group');\nvar Slider = require('rc-slider');\nrequire('rc-slider/assets/index.css');\n\nvar DownloadProfilesButton =require('download-profiles-button');\n\nvar $ = require('jquery');\n\nrequire('jquery-ui-bundle');\nrequire('jquery-hc-sticky');\nrequire('atlas-modernizr');  // Leaks Modernizr to the global window namespace\n\nrequire('fancybox')($);\nrequire('fancybox/dist/css/jquery.fancybox.css');\n\nrequire('jquery-toolbar');\nrequire('jquery-toolbar/jquery.toolbar.css');\n\n\n//*------------------------------------------------------------------*\n\nvar HeatmapBaselineCellVariance = require('heatmap-baseline-cell-variance');\nvar Legend = require('legend');\nvar LegendBaseline = Legend.LegendBaseline;\nvar LegendDifferential = Legend.LegendDifferential;\nvar CellDifferential = require('cell-differential');\nvar DisplayLevelsButton = require('display-levels-button');\nvar NumberFormat = require('number-format');\nvar HelpTooltips = require('help-tooltips');\nvar ContrastTooltips = require('contrast-tooltips');\n\nvar GenePropertiesTooltipModule = require('./genePropertiesTooltipModule.js');\nvar FactorTooltipModule = require('./factorTooltipModule.js');\n\nvar StickyHeaderModule = require('./stickyHeaderModule.js');\nrequire('./stickyHeaderModule.css');\n\n//*------------------------------------------------------------------*\n\nrequire('./Heatmap.css');\n\n//*------------------------------------------------------------------*\n\nvar Heatmap = React.createClass({\n\n    propTypes: {\n        type: React.PropTypes.shape({\n            isBaseline: React.PropTypes.bool,\n            isProteomics: React.PropTypes.bool,\n            isDifferential: React.PropTypes.bool,\n            isMultiExperiment: React.PropTypes.bool,\n            heatmapTooltip: React.PropTypes.string.isRequired\n        }),\n        heatmapConfig: React.PropTypes.object.isRequired,\n        columnHeaders: React.PropTypes.oneOfType([\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                assayGroupId: React.PropTypes.string.isRequired,\n                factorValue: React.PropTypes.string.isRequired,\n                factorValueOntologyTermId: React.PropTypes.string\n            })),\n            React.PropTypes.arrayOf(React.PropTypes.shape({\n                id: React.PropTypes.string.isRequired,\n                referenceAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                testAssayGroup: React.PropTypes.shape({\n                    id: React.PropTypes.string.isRequired,\n                    assayAccessions: React.PropTypes.arrayOf(React.PropTypes.string).isRequired,\n                    replicates: React.PropTypes.number.isRequired\n                }).isRequired,\n                displayName: React.PropTypes.string.isRequired\n            }))\n        ]).isRequired,\n        profiles: React.PropTypes.object.isRequired,\n        jsonCoexpressions: React.PropTypes.arrayOf(React.PropTypes.shape({\n          geneName: React.PropTypes.string.isRequired,\n          jsonProfiles: React.PropTypes.object.isRequired\n        })),\n        geneSetProfiles: React.PropTypes.object,\n        prefFormDisplayLevels: React.PropTypes.object,\n        ensemblEventEmitter: React.PropTypes.object,\n        anatomogramEventEmitter: React.PropTypes.object,\n        googleAnalytics: React.PropTypes.bool,\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired,\n        googleAnalyticsCallback: React.PropTypes.func.isRequired\n    },\n\n    getInitialState: function () {\n        var displayLevels = this.props.prefFormDisplayLevels ? (this.props.prefFormDisplayLevels.val() === \"true\") : false;\n        var coexpressionsDisplayed = {};\n        if(this.props.jsonCoexpressions ) {\n          for (var i = 0; i< this.props.jsonCoexpressions.length; i++){\n            coexpressionsDisplayed[this.props.jsonCoexpressions[i].geneId]=0;\n          }\n        }\n        return {\n            showGeneSetProfiles: false,\n            displayLevels: displayLevels,\n            selectedColumnId: null,\n            selectedGeneId: null,\n            hoveredColumnId: null,\n            hoveredGeneId: null,\n            selectedRadioButton: \"gradients\",\n            coexpressionsDisplayed:coexpressionsDisplayed,\n            userInteractedWithTheHeatmap: false\n        };\n    },\n\n    _coexpressionsCurrentlyShown: function() {\n      var ans = 0;\n      for(var k in this.state.coexpressionsDisplayed){\n        ans+= this.state.coexpressionsDisplayed[k];\n      }\n      return ans;\n    },\n\n    _getProfiles: function() {\n      if(this.state.showGeneSetProfiles){\n        return this.props.geneSetProfiles;\n      } else if (! this.props.jsonCoexpressions){\n        return this.props.profiles;\n      } else {\n        var newRows = [];\n        for(var i = 0; i< this.props.profiles.rows.length ; i++){\n            var thisRow = this.props.profiles.rows[i];\n            newRows.push(thisRow);\n            var coexpressionsForThisRow =\n                this.props.jsonCoexpressions\n                  .filter(function(o){\n                    return o.geneId=== thisRow.id && this.state.coexpressionsDisplayed[o.geneId]\n                  }.bind(this))\n            for(var j = 0 ; j < coexpressionsForThisRow.length ; j++ ){\n              [].push.apply(newRows,coexpressionsForThisRow[j].jsonProfiles.rows.slice(0, this.state.coexpressionsDisplayed[coexpressionsForThisRow[j].geneId]));\n            }\n\n        }\n        return Object.create(this.props.profiles, {rows: {value: newRows}});\n      }\n    },\n\n    _hoverColumn: function(columnId) {\n        this.setState({hoveredColumnId: columnId}, function() {\n            this.props.anatomogramEventEmitter.emit('gxaHeatmapColumnHoverChange', columnId);\n        });\n    },\n\n    _hoverRow: function(rowId) {\n        this.setState({hoveredRowId: rowId}, function() {\n            this.props.anatomogramEventEmitter.emit('gxaHeatmapRowHoverChange', rowId);\n        });\n    },\n\n    selectColumn: function (columnId) {\n        if (this.props.ensemblEventEmitter) {\n            var selectedColumnId = (columnId === this.state.selectedColumnId) ? null : columnId;\n            this.setState({selectedColumnId: selectedColumnId}, function () {\n                this.props.ensemblEventEmitter.emit('onColumnSelectionChange', selectedColumnId);\n            });\n        }\n    },\n\n    selectGene: function (geneId) {\n        if (this.props.ensemblEventEmitter) {\n            var selectedGeneId = (geneId === this.state.selectedGeneId) ? null : geneId;\n            this.setState({selectedGeneId: selectedGeneId}, function() {\n                this.props.ensemblEventEmitter.emit('onGeneSelectionChange', selectedGeneId);\n            });\n        }\n    },\n\n    toggleGeneSets: function () {\n        this.setState({showGeneSetProfiles: !this.state.showGeneSetProfiles});\n    },\n\n    toggleDisplayLevels: function () {\n        var newDisplayLevels = !this.state.displayLevels;\n        this.setState({displayLevels: newDisplayLevels});\n        if (this.props.prefFormDisplayLevels) {\n            this.props.prefFormDisplayLevels.val(newDisplayLevels);\n        }\n        $(window).resize();\n    },\n\n    toggleRadioButton: function(newSelected) {\n        this.setState({selectedRadioButton: newSelected});\n        this.setState({displayLevels: (newSelected === \"levels\")}); //update the LegendType\n    },\n\n    isMicroarray: function () {\n        return this.props.profiles.rows[0].hasOwnProperty(\"designElement\") && this.props.profiles.rows[0].designElement;\n    },\n\n    hasQuartiles: function() {\n        var hasQuartiles = false;\n        for(var i=0; i < this.props.profiles.rows[0].expressions.length; i++) {\n            if(this.props.profiles.rows[0].expressions[i].quartiles != undefined) {\n                hasQuartiles = true;\n                break;\n            }\n        }\n        return hasQuartiles;\n    },\n\n    isSingleGeneResult: function () {\n        return (this.props.profiles.rows.length == 1);\n    },\n\n    _stateChangeRepresentsInteraction: function (s1, s2) {\n      var ks = [\n        \"displayLevels\", \"showGeneSetProfiles\", \"selectedColumnId\", \"selectedGeneId\", \"hoveredColumnId\", \"hoveredGeneId\", \"hoveredRowId\"\n      ];\n      for(var i = 0; i< ks.length ; i++){\n        var k = ks[i];\n        if(s1[k] !== s2[k]){\n          return k || true;\n        }\n      }\n      return false;\n    },\n\n    componentWillUpdate: function(nextProps, nextState) {\n      if(! this.state.userInteractedWithTheHeatmap){\n        if( this._stateChangeRepresentsInteraction(this.state, nextState)) {\n          this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'interact');\n          this.setState({userInteractedWithTheHeatmap: true});\n        }\n      }\n    },\n\n    componentDidMount: function() {\n        var table\t        = ReactDOM.findDOMNode(this.refs.heatmapTable),\n            stickyIntersect = ReactDOM.findDOMNode(this.refs.stickyIntersect),\n            stickyColumn    = ReactDOM.findDOMNode(this.refs.stickyColumn),\n            stickyHeadRow   = ReactDOM.findDOMNode(this.refs.stickyHeader),\n            stickyWrap      = ReactDOM.findDOMNode(this.refs.stickyWrap),\n            countAndLegend  = ReactDOM.findDOMNode(this.refs.countAndLegend);\n\n        var stickyHeader = StickyHeaderModule(table, stickyIntersect, stickyColumn, stickyHeadRow, stickyWrap, countAndLegend);\n\n        stickyHeader.setWidthsAndReposition();\n        $(countAndLegend).hcSticky({bottomEnd: stickyHeader.calculateAllowance()});\n\n        $(stickyWrap).scroll(stickyHeader.stickyReposition);\n        $(window).resize(stickyHeader.setWidthsAndReposition)\n                 .scroll(stickyHeader.stickyReposition)\n                 .on(\n                     \"gxaResizeHeatmapAnatomogramHeader\",\n                     function() {\n                         stickyHeader.setWidthAndHeight();\n                         $(countAndLegend).hcSticky(\"resize\");\n                     }\n                 );\n    },\n\n    _getMaxExpressionLevel: function () {\n      var maxExpressionLevel = -Infinity;\n      var profileRows = this._getProfiles().rows;\n      for(var i = 0; i< profileRows.length; i++){\n        for(var j = 0 ; j < (profileRows[i].expressions || []).length; j ++) {\n          var value = profileRows[i].expressions[j].value;\n          if(!isNaN(value) && value > maxExpressionLevel){\n            maxExpressionLevel = value;\n          }\n        }\n      }\n      return maxExpressionLevel;\n    },\n\n    _getMinExpressionLevel: function () {\n      var minExpressionLevel = Infinity;\n      var profileRows = this._getProfiles().rows;\n      for(var i = 0; i< profileRows.length; i++){\n        for(var j = 0 ; j < (profileRows[i].expressions || []).length; j ++) {\n          var value = profileRows[i].expressions[j].value;\n          if(!isNaN(value) && value < minExpressionLevel){\n            minExpressionLevel = value;\n          }\n        }\n      }\n      return minExpressionLevel;\n    },\n\n    legendType: function () {\n        if (this.props.type.isBaseline || this.props.type.isMultiExperiment) {\n          return <LegendBaseline\n            atlasBaseURL={this.props.atlasBaseURL}\n            minExpressionLevel={this._getMinExpressionLevel().toString()}\n            maxExpressionLevel={this._getMaxExpressionLevel().toString()}\n            isMultiExperiment={this.props.type.isMultiExperiment ? true : false}/> ;\n        } else {\n          var ps = this._getProfiles();\n          return <LegendDifferential\n            atlasBaseURL={this.props.atlasBaseURL}\n            minDownLevel={\"minDownLevel\" in ps\n                            ? ps.minDownLevel.toString()\n                            : \"NaN\"}\n            maxDownLevel={\"maxDownLevel\" in ps\n                            ? ps.maxDownLevel.toString()\n                            : \"NaN\"}\n            minUpLevel={\"minUpLevel\" in ps\n                            ? ps.minUpLevel.toString()\n                            : \"NaN\"}\n            maxUpLevel={\"maxUpLevel\" in ps\n                            ? ps.maxUpLevel.toString()\n                            : \"NaN\"}  />;\n        }\n    },\n\n    _getCoexpressionsAvailable: function() {\n      return ! this.props.jsonCoexpressions\n             ? []\n             : this.props.jsonCoexpressions.map(function(value){\n        return {name: value.geneName, id: value.geneId, amount: value.jsonProfiles.rows.length}\n      });\n    },\n\n    _showCoexpressionsFor : function(geneId, amount) {\n      this.setState(function(previousState) {\n        if(previousState.coexpressionsDisplayed.hasOwnProperty(geneId)){\n          previousState.coexpressionsDisplayed[geneId] = amount;\n        }\n        return {coexpressionsDisplayed: previousState.coexpressionsDisplayed};\n      });\n    },\n\n    _showGeneCount: function() {\n      var shownRows, totalRows;\n      if (this.props.type.isMultiExperiment || ! this.state.showGeneSetProfiles || ! this.props.geneSetProfiles){\n          shownRows = this.props.profiles.rows.length;\n          totalRows = this.props.profiles.searchResultTotal;\n      } else {\n        shownRows = this.props.geneSetProfiles.rows.length;\n        totalRows = this.props.geneSetProfiles.searchResultTotal;\n      }\n\n      return <div style={{display: \"inline-block\", 'verticalAlign': \"top\"}}>\n        {this.props.type.isMultiExperiment\n          ? <span id=\"geneCount\">Showing {shownRows} of {totalRows} experiments found: </span>\n          : <span id=\"geneCount\">Showing {shownRows} of {totalRows} {this.state.showGeneSetProfiles ? 'gene sets' : 'genes' } found\n              {! this.props.jsonCoexpressions || ! this.props.jsonCoexpressions.length ? \":\" : \" and \"+(this._getProfiles().rows.length-shownRows)+ \" similarly expressed genes:\"}</span> }\n        {this.props.geneSetProfiles && !this.props.type.isMultiExperiment ? <a href=\"javascript:void(0)\" onClick={this.toggleGeneSets}>{this.state.showGeneSetProfiles ? '(show individual genes)' : '(show by gene set)'}</a> : ''}\n      </div>\n    },\n\n    _constructDownloadProfilesURL: function() {\n      return this.props.heatmapConfig.downloadProfilesURL.match(/.*\\?.+/) && Object.keys(this.state.coexpressionsDisplayed).length > 0\n            ?this.props.heatmapConfig.downloadProfilesURL+\"&coexpressions=\"+JSON.stringify(this.state.coexpressionsDisplayed)\n            :this.props.heatmapConfig.downloadProfilesURL;\n    },\n\n    render: function () {\n        var paddingMargin = \"15px\";\n\n        return (\n            <div>\n                <div ref=\"countAndLegend\" className=\"gxaHeatmapCountAndLegend\" style={{\"paddingBottom\": paddingMargin, \"position\": \"sticky\"}}>\n                    {this._showGeneCount()}\n                    <div style={{display: \"inline-block\", \"paddingLeft\": \"10px\", \"verticalAlign\": \"top\"}}>\n                        <DownloadProfilesButton ref=\"downloadProfilesButton\"\n                                                downloadProfilesURL={this._constructDownloadProfilesURL()}\n                                                atlasBaseURL={this.props.atlasBaseURL}\n                                                isFortLauderdale={this.props.heatmapConfig.isFortLauderdale}\n                                                onDownloadCallbackForAnalytics={function() {this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'downloadData')}.bind(this)}/>\n                    </div>\n                    <div style={{display: \"inline-block\", \"paddingLeft\": \"20px\"}}>\n                        {this.legendType()}\n                    </div>\n                </div>\n\n                <div ref=\"stickyWrap\" className=\"gxaStickyTableWrap\" style={{\"marginTop\": paddingMargin}}>\n                    <table ref=\"heatmapTable\" className=\"gxaTableGrid gxaStickyEnabled\" id=\"heatmap-table\">\n                        <HeatmapTableHeader ref=\"heatmapTableHeader\"\n                                            radioId=\"table\"\n                                            isMicroarray={this.isMicroarray()}\n                                            hasQuartiles={this.hasQuartiles()}\n                                            isSingleGeneResult={this.isSingleGeneResult()}\n                                            currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                            type={this.props.type}\n                                            columnHeaders={this.props.columnHeaders}\n                                            multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                            selectedColumnId={this.state.selectedColumnId}\n                                            selectColumn={this.selectColumn}\n                                            hoverColumnCallback={this._hoverColumn}\n                                            heatmapConfig={this.props.heatmapConfig}\n                                            atlasBaseURL={this.props.atlasBaseURL}\n                                            displayLevels={this.state.displayLevels}\n                                            toggleDisplayLevels={this.toggleDisplayLevels}\n                                            showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                            selectedRadioButton={this.state.selectedRadioButton}\n                                            toggleRadioButton={this.toggleRadioButton}\n                                            renderContrastFactorHeaders={true}\n                                            anatomogramEventEmitter={this.props.anatomogramEventEmitter}/>\n                        <HeatmapTableRows profiles={this._getProfiles().rows}\n                                          selectedGeneId={this.state.selectedGeneId}\n                                          selectGene={this.selectGene}\n                                          type={this.props.type}\n                                          heatmapConfig={this.props.heatmapConfig}\n                                          atlasBaseURL={this.props.atlasBaseURL}\n                                          linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                          displayLevels={this.state.displayLevels}\n                                          showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                          selectedRadioButton={this.state.selectedRadioButton}\n                                          hoverColumnCallback={this._hoverColumn}\n                                          hoverRowCallback={this._hoverRow}\n                                          hasQuartiles={this.hasQuartiles()}\n                                          isSingleGeneResult={this.isSingleGeneResult()}\n                                          renderExpressionCells={true}/>\n                    </table>\n\n                    <div ref=\"stickyIntersect\" className=\"gxaStickyTableIntersect\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                    radioId=\"intersect\"\n                                                    hasQuartiles={this.hasQuartiles()}\n                                                    isSingleGeneResult={this.isSingleGeneResult()}\n                                                    currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                                    type={this.props.type}\n                                                    columnHeaders={this.props.columnHeaders}\n                                                    multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                    selectedColumnId={this.state.selectedColumnId}\n                                                    selectColumn={this.selectColumn}\n                                                    heatmapConfig={this.props.heatmapConfig}\n                                                    atlasBaseURL={this.props.atlasBaseURL}\n                                                    linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                    displayLevels={this.state.displayLevels}\n                                                    toggleDisplayLevels={this.toggleDisplayLevels}\n                                                    showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                    selectedRadioButton={this.state.selectedRadioButton}\n                                                    toggleRadioButton={this.toggleRadioButton}\n                                                    renderContrastFactorHeaders={false}/>\n\n                        </table>\n                    </div>\n\n                    <div ref=\"stickyColumn\" className=\"gxaStickyTableColumn\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                radioId=\"column\"\n                                                hasQuartiles={this.hasQuartiles()}\n                                                isSingleGeneResult={this.isSingleGeneResult()}\n                                                currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                                columnHeaders={this.props.columnHeaders}\n                                                type={this.props.type}\n                                                multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                selectedColumnId={this.state.selectedColumnId}\n                                                selectColumn={this.selectColumn}\n                                                heatmapConfig={this.props.heatmapConfig}\n                                                atlasBaseURL={this.props.atlasBaseURL}\n                                                displayLevels={this.state.displayLevels}\n                                                toggleDisplayLevels={this.toggleDisplayLevels}\n                                                showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                selectedRadioButton={this.state.selectedRadioButton}\n                                                toggleRadioButton={this.toggleRadioButton}\n                                                renderContrastFactorHeaders={false}/>\n                            <HeatmapTableRows profiles={this._getProfiles().rows}\n                                              selectedGeneId={this.state.selectedGeneId}\n                                              selectGene={this.selectGene}\n                                              type={this.props.type}\n                                              heatmapConfig={this.props.heatmapConfig}\n                                              atlasBaseURL={this.props.atlasBaseURL}\n                                              linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                              displayLevels={this.state.displayLevels}\n                                              showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                              selectedRadioButton={this.state.selectedRadioButton}\n                                              hoverRowCallback={this._hoverRow}\n                                              hasQuartiles={this.hasQuartiles()}\n                                              isSingleGeneResult={this.isSingleGeneResult()}\n                                              renderExpressionCells={false}/>\n                        </table>\n                    </div>\n\n\n                    <div ref=\"stickyHeader\" className=\"gxaStickyTableHeader\">\n                        <table className=\"gxaTableGrid\">\n                            <HeatmapTableHeader isMicroarray={this.isMicroarray()}\n                                                    radioId=\"header\"\n                                                    hasQuartiles={this.hasQuartiles()}\n                                                    isSingleGeneResult={this.isSingleGeneResult()}\n                                                    currentlyShowingCoexpressions={!!this._coexpressionsCurrentlyShown()}\n                                                    hoverColumnCallback={this._hoverColumn}\n                                                    type={this.props.type}\n                                                    columnHeaders={this.props.columnHeaders}\n                                                    multipleColumnHeaders={this.props.multipleColumnHeaders}\n                                                    selectedColumnId={this.state.selectedColumnId}\n                                                    selectColumn={this.selectColumn}\n                                                    heatmapConfig={this.props.heatmapConfig}\n                                                    atlasBaseURL={this.props.atlasBaseURL}\n                                                    linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                                                    displayLevels={this.state.displayLevels}\n                                                    toggleDisplayLevels={this.toggleDisplayLevels}\n                                                    showGeneSetProfiles={this.state.showGeneSetProfiles}\n                                                    selectedRadioButton={this.state.selectedRadioButton}\n                                                    toggleRadioButton={this.toggleRadioButton}\n                                                    renderContrastFactorHeaders={true}\n                                                    anatomogramEventEmitter={this.props.anatomogramEventEmitter}/>\n\n                        </table>\n                    </div>\n                    <HeatmapBottomOptions coexpressionsAvailable={this._getCoexpressionsAvailable()}\n                                          showCoexpressionsFor={this._showCoexpressionsFor}\n                                          googleAnalyticsCallback={this.props.googleAnalyticsCallback} />\n                </div>\n\n            </div>\n        );\n    }\n\n});\n\nvar HeatmapTableHeader = React.createClass({\n    propTypes: {\n        currentlyShowingCoexpressions: React.PropTypes.bool.isRequired\n    },\n\n    renderContrastFactorHeaders: function () {\n        var heatmapConfig = this.props.heatmapConfig;\n        if (this.props.type.isBaseline) {\n            return renderFactorHeaders(heatmapConfig, this.props.atlasBaseURL, this.props.mainHeaderNames, this.props.type, this.props.columnHeaders, heatmapConfig.experimentAccession,\n                                        this.props.selectColumn, this.props.selectedColumnId, this.props.hoverColumnCallback, this.props.anatomogramEventEmitter);\n        }\n        else if (this.props.type.isDifferential) {\n            return (<ContrastHeaders heatmapConfig={heatmapConfig}\n                                     atlasBaseURL={this.props.atlasBaseURL}\n                                     contrasts={this.props.columnHeaders}\n                                     selectedColumnId={this.props.selectedColumnId}\n                                     selectColumn={this.props.selectColumn}\n                                     experimentAccession={heatmapConfig.experimentAccession}\n                                     showMaPlotButton={heatmapConfig.showMaPlotButton}\n                                     gseaPlots={heatmapConfig.gseaPlots}/>);\n        }\n        else if (this.props.type.isMultiExperiment) {\n            return renderFactorHeaders(heatmapConfig, this.props.atlasBaseURL, null, this.props.type, this.props.columnHeaders, \"\",\n                this.props.selectColumn, this.props.selectedColumnId, this.props.hoverColumnCallback, this.props.anatomogramEventEmitter);\n        }\n    },\n\n    render: function () {\n        var showGeneProfile = this.props.showGeneSetProfiles ? \"Gene set\" : \"Gene\";\n        var showExperimentProfile = this.props.type.isMultiExperiment ? \"Experiment\" : showGeneProfile;\n\n        return (\n            <thead>\n                <tr>\n                    <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\" colSpan={this.props.isMicroarray ? 2 : undefined}>\n                        <TopLeftCorner type={this.props.type}\n                                       hasQuartiles={this.props.hasQuartiles}\n                                       radioId={this.props.radioId}\n                                       isSingleGeneResult={this.props.isSingleGeneResult}\n                                       currentlyShowingCoexpressions={this.props.currentlyShowingCoexpressions}\n                                       heatmapConfig={this.props.heatmapConfig}\n                                       displayLevels={this.props.displayLevels}\n                                       toggleDisplayLevels={this.props.toggleDisplayLevels}\n                                       selectedRadioButton={this.props.selectedRadioButton}\n                                       toggleRadioButton={this.props.toggleRadioButton}\n                                       atlasBaseURL={this.props.atlasBaseURL}/>\n                    </th>\n\n                    { this.props.renderContrastFactorHeaders ? this.renderContrastFactorHeaders() : null }\n                </tr>\n\n                <tr>\n                    <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\" style={ this.props.isMicroarray ? {width: \"166px\"} : {}}><div>{ showExperimentProfile }</div></th>\n                    { this.props.isMicroarray ? <th className=\"gxaHorizontalHeaderCell gxaHeatmapTableIntersect\"><div>Design Element</div></th> : null}\n                </tr>\n            </thead>\n        );\n    }\n});\n\n\nfunction restrictLabelSize(label, maxSize) {\n    var result = label;\n    if (result.length > maxSize + 1) {  // +1 to account for the extra ellipsis character appended\n        result = result.substring(0, maxSize);\n        if (result.lastIndexOf(\" \") > maxSize - 5) {\n            result = result.substring(0, result.lastIndexOf(\" \"));\n        }\n        result = result + \"…\";\n    }\n    return result;\n}\n\n\nfunction renderFactorHeaders(heatmapConfig, atlasBaseURL, mainHeaderNames, type, assayGroupFactors, experimentAccession, selectColumn,\n                             selectedColumnId, hoverColumnCallback, anatomogramEventEmitter) {\n\n    return assayGroupFactors.map(function (assayGroupFactor) {\n        return <FactorHeader key={mainHeaderNames + assayGroupFactor.factorValue}\n                             type={type}\n                             heatmapConfig={heatmapConfig}\n                             factorName={assayGroupFactor.factorValue}\n                             svgPathId={assayGroupFactor.factorValueOntologyTermId}\n                             assayGroupId={assayGroupFactor.assayGroupId}\n                             experimentAccession={experimentAccession}\n                             selectColumn={selectColumn}\n                             selected={assayGroupFactor.assayGroupId === selectedColumnId}\n                             hoverColumnCallback={hoverColumnCallback}\n                             anatomogramEventEmitter={anatomogramEventEmitter}\n                             atlasBaseURL={atlasBaseURL}/>;\n    });\n}\n\nvar FactorHeader = React.createClass({\n\n    getInitialState: function () {\n        return ({hover: false, selected: false});\n    },\n\n    onMouseEnter: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover: true});\n        }\n        this.props.hoverColumnCallback(this.props.svgPathId);\n    },\n\n    onMouseLeave: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover: false});\n        }\n        this.props.hoverColumnCallback(null);\n        this._closeTooltip();\n    },\n\n    _closeTooltip: function() {\n        if(!this.props.type.isMultiExperiment) {\n            $(ReactDOM.findDOMNode(this)).tooltip(\"close\");\n        }\n    },\n\n    _anatomogramTissueMouseEnter: function(svgPathId) {\n        if (svgPathId === this.props.svgPathId) {\n            $(ReactDOM.findDOMNode(this.refs.headerCell)).addClass(\"gxaHeaderHover\");\n        }\n    },\n\n    _anatomogramTissueMouseLeave: function(svgPathId) {\n        if (svgPathId === this.props.svgPathId) {\n            $(ReactDOM.findDOMNode(this.refs.headerCell)).removeClass(\"gxaHeaderHover\");\n        }\n    },\n\n    onClick: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.props.selectColumn(this.props.assayGroupId);\n        }\n    },\n\n    componentDidMount: function () {\n        if(!this.props.type.isMultiExperiment) {\n            FactorTooltipModule.init(this.props.atlasBaseURL, this.props.heatmapConfig.accessKey, ReactDOM.findDOMNode(this), this.props.experimentAccession, this.props.assayGroupId);\n        }\n        if (this.props.anatomogramEventEmitter) {\n            this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseEnter', this._anatomogramTissueMouseEnter);\n            this.props.anatomogramEventEmitter.addListener('gxaAnatomogramTissueMouseLeave', this._anatomogramTissueMouseLeave);\n        }\n    },\n\n    render: function () {\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{position: \"absolute\", width:\"10px\", right:\"0px\", left:\"95px\", float:\"right\", color:\"green\"}}>  select</span> : null;\n        var showTickWhenSelected = this.props.selected ? <span className=\"rotate_tick\" style={{position: \"absolute\", width:\"5px\", right:\"0px\", left:\"125px\", float:\"right\", color:\"green\"}}> &#10004; </span>: null ;\n        var thClass = \"rotated_cell gxaHoverableHeader\" + (this.props.selected ? \" gxaVerticalHeaderCell-selected\" : \" gxaVerticalHeaderCell\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader\" : \"\");\n        var divClass = \"rotate_text factor-header\";\n        var factorName = Modernizr.csstransforms ? restrictLabelSize(this.props.factorName, 14) : this.props.factorName;\n\n        return (\n            <th ref=\"headerCell\" className={thClass} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onClick} rowSpan=\"2\">\n                <div data-assay-group-id={this.props.assayGroupId} data-experiment-accession={this.props.experimentAccession} className={divClass}>\n                    {factorName}\n                    {showSelectTextOnHover}\n                    {showTickWhenSelected}\n                </div>\n            </th>\n        );\n    }\n\n});\n\n\nvar ContrastHeaders = React.createClass({\n\n    render: function () {\n        var heatmapConfig = this.props.heatmapConfig;\n\n        var contrastHeaders = this.props.contrasts.map(function (contrast) {\n            var gseaPlotsThisContrast = this.props.gseaPlots ? this.props.gseaPlots[contrast.id] : {go: false, interpro: false, reactome: false};\n            return <ContrastHeader key={contrast.id}\n                                   heatmapConfig={heatmapConfig}\n                                   atlasBaseURL={this.props.atlasBaseURL}\n                                   selectColumn={this.props.selectColumn}\n                                   selected={contrast.id === this.props.selectedColumnId}\n                                   contrastName={contrast.displayName} arrayDesignAccession={contrast.arrayDesignAccession}\n                                   contrastId={contrast.id} experimentAccession={this.props.experimentAccession}\n                                   showMaPlotButton={this.props.showMaPlotButton}\n                                   showGseaGoPlot={gseaPlotsThisContrast.go}\n                                   showGseaInterproPlot={gseaPlotsThisContrast.interpro}\n                                   showGseaReactomePlot={gseaPlotsThisContrast.reactome}/>;\n        }.bind(this));\n\n        return (\n            <div>{contrastHeaders}</div>\n        );\n    }\n\n});\n\n\nvar ContrastHeader = React.createClass({\n\n    getInitialState: function () {\n        return ({hover:false, selected:false});\n    },\n\n    onMouseEnter: function () {\n        this.setState({hover:true});\n    },\n\n    onMouseLeave: function () {\n        this.setState({hover:false});\n        this._closeTooltip();\n    },\n\n    _closeTooltip: function() {\n        $(ReactDOM.findDOMNode(this)).tooltip(\"close\");\n    },\n\n    onClick: function () {\n        this.props.selectColumn(this.props.contrastId);\n    },\n\n    componentDidMount: function () {\n        ContrastTooltips(this.props.atlasBaseURL, this.props.heatmapConfig.accessKey, ReactDOM.findDOMNode(this), this.props.experimentAccession, this.props.contrastId);\n\n        if (this.showPlotsButton()) {\n            this.renderToolBarContent(ReactDOM.findDOMNode(this.refs.plotsToolBarContent));\n\n            var $plotsButton = $(ReactDOM.findDOMNode(this.refs.plotsButton));\n            $plotsButton.tooltip({\n                hide: false,\n                show: false,\n                tooltipClass: \"gxaHelpTooltip\"\n            }).button();\n            $plotsButton.toolbar({\n                content: ReactDOM.findDOMNode(this.refs.plotsToolBarContent),\n                position: \"right\",\n                style: \"white\",\n                event: \"click\",\n                hideOnClick: true\n            });\n            $plotsButton.addClass(\"gxaNoTextButton\");\n        }\n    },\n\n    renderToolBarContent: function(contentNode) {\n\n        var $contentNode = $(contentNode);\n\n        var maPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + (this.props.arrayDesignAccession ? this.props.arrayDesignAccession + \"/\" : \"\" ) + this.props.contrastId + \"/ma-plot.png\";\n        var maPlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/maplot-button.png\";\n\n        var gseaGoPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_go.png\";\n        var gseaGoPlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/gsea-go-button.png\";\n\n        var gseaInterproPlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_interpro.png\";\n        var gseaInterproImgSrcURL = this.props.atlasBaseURL + '/resources/images/gsea-interpro-button.png';\n\n        var gseaReactomePlotURL = this.props.atlasBaseURL + \"/external-resources/\" + this.props.experimentAccession + '/' + this.props.contrastId + \"/gsea_reactome.png\";\n        var gseaReactomePlotImgSrcURL = this.props.atlasBaseURL + \"/resources/images/gsea-reactome-button.png\";\n\n        var content =\n            <div>\n                {this.props.showMaPlotButton ? <a href={maPlotURL} id=\"maButtonID\" title=\"Click to view MA plot for the contrast across all genes\" onClick={this.clickButton}><img src={maPlotImgSrcURL} /></a> : null }\n                {this.props.showGseaGoPlot ? <a href={gseaGoPlotURL} id=\"goButtonID\" title=\"Click to view GO terms enrichment analysis plot\" onClick={this.clickButton}><img src={gseaGoPlotImgSrcURL} /></a> : null }\n                {this.props.showGseaInterproPlot ? <a href={gseaInterproPlotURL} id=\"interproButtonID\" title=\"Click to view Interpro domains enrichment analysis plot\" onClick={this.clickButton}><img src={gseaInterproImgSrcURL} /></a> : null }\n                {this.props.showGseaReactomePlot ? <a href={gseaReactomePlotURL} id=\"reactomeButtonID\" title=\"Click to view Reactome pathways enrichment analysis plot\" onClick={this.clickButton}><img src={gseaReactomePlotImgSrcURL} /></a> : null }\n            </div>;\n\n        // the tool bar content will be copied around the DOM by the toolbar plugin\n        // so we render using static markup because otherwise when copied, we'll end up with\n        // duplicate data-reactids\n        $contentNode.html(ReactDOMServer.renderToStaticMarkup(content));\n\n        $contentNode.find('a').tooltip({\n            tooltipClass: \"gxaHelpTooltip\"\n        });\n\n        //need to use each here otherwise we get a fancybox error\n        $contentNode.find('a').each(function (index, button) {\n            $(button).fancybox({\n                padding:0,\n                openEffect:'elastic',\n                closeEffect:'elastic'\n            });\n        });\n    },\n\n    clickButton: function (event) {\n        // prevent contrast from being selected\n        event.stopPropagation();\n    },\n\n    showPlotsButton: function () {\n        return this.props.showMaPlotButton || this.props.showGseaGoPlot || this.props.showGseaInterproPlot || this.props.showGseaReactomePlot;\n    },\n\n    render: function () {\n        var thStyle = this.showPlotsButton() ? {minWidth: \"80px\"} : {};\n        var textStyle = this.showPlotsButton() ? {top: \"57px\"} : {};\n\n        var plotsImgSrcURL = this.props.atlasBaseURL + \"/resources/images/yellow-chart-icon.png\";\n\n        var plotsButton = (\n            <div style={{textAlign: \"right\", paddingRight: \"3px\"}} >\n                <a href=\"#\" ref=\"plotsButton\" onClick={this.clickButton} title=\"Click to view plots\"><img src={plotsImgSrcURL}/></a>\n            </div>\n        );\n\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{position: \"absolute\", width: \"10px\", right: \"0px\", left: \"95px\", bottom: \"-35px\", color: \"green\"}}>  select</span> : null;\n        var showTickWhenSelected = this.props.selected ? <span className=\"rotate_tick\" style={{position: \"absolute\", width: \"5px\", right: \"0px\", left: \"125px\", bottom: \"-35px\", color: \"green\"}}> &#10004; </span>: null;\n        var thClass = \"rotated_cell gxaHoverableHeader\" + (this.props.selected ? \" gxaVerticalHeaderCell-selected\" : \" gxaVerticalHeaderCell\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader \" : \"\");\n        var divClass = \"rotate_text factor-header\";\n        var contrastName = Modernizr.csstransforms ? restrictLabelSize(this.props.contrastName, 17) : this.props.contrastName;\n\n        return (\n            <th className={thClass} rowSpan=\"2\" style={thStyle} onMouseEnter={this.props.heatmapConfig.enableEnsemblLauncher ? this.onMouseEnter : undefined} onMouseLeave={this.props.heatmapConfig.enableEnsemblLauncher ? this.onMouseLeave : this._closeTooltip} onClick={this.props.heatmapConfig.enableEnsemblLauncher ? this.onClick : undefined}>\n                <div data-contrast-id={this.props.contrastId} data-experiment-accession={this.props.experimentAccession} className={divClass} style={textStyle}>\n                    {contrastName}\n                    {showSelectTextOnHover}\n                    {showTickWhenSelected}\n                </div>\n                {this.showPlotsButton() ? plotsButton : null}\n                {this.showPlotsButton() ? <div ref=\"plotsToolBarContent\" style={{display: \"none\"}}>placeholder</div> : null}\n            </th>\n        );\n    }\n\n});\n\nvar TopLeftCorner = React.createClass({\n\n    displayLevelsBaseline: function() {\n        if (this.props.hasQuartiles && this.props.isSingleGeneResult) {\n            var LRG = this.props.currentlyShowingCoexpressions\n              ? LevelsRadioGroup(\"gradients\", \"levels\")\n              : LevelsRadioGroup(\"gradients\", \"levels\", \"variance\");\n            return (\n                <LRG radioId={this.props.radioId}\n                                  selectedRadioButton={this.props.selectedRadioButton}\n                                  toggleRadioButton={this.props.toggleRadioButton}/>\n            );\n        } else if (this.props.type.isBaseline || this.props.type.isMultiExperiment) {\n            return (\n                    <DisplayLevelsButton hideText=\"Hide levels\"\n                                         showText=\"Display levels\"\n                                         onClickCallback={this.props.toggleDisplayLevels}\n                                         displayLevels={this.props.displayLevels}\n                                         width=\"150px\" fontSize=\"14px\"/>\n            );\n        } else {\n            return (\n                    <DisplayLevelsButton hideText=\"Hide log<sub>2</sub>-fold change\"\n                                         showText=\"Display log<sub>2</sub>-fold change\"\n                                         onClickCallback={this.props.toggleDisplayLevels}\n                                         displayLevels={this.props.displayLevels}\n                                         width=\"200px\" fontSize=\"14px\"/>\n            );\n        }\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaHeatmapMatrixTopLeftCorner\">\n                <span data-help-loc={this.props.type.heatmapTooltip} ref=\"tooltipSpan\"/>\n                <div style={{display: \"table-cell\", verticalAlign: \"middle\", textAlign: \"center\"}}>\n                    {this.displayLevelsBaseline()}\n                </div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, 'experiment', ReactDOM.findDOMNode(this.refs.tooltipSpan));\n    }\n\n});\n\n\nvar LevelsRadioGroup = function(__args__) {\n  var inputElements = [].concat.apply({},\n    [].slice.call(arguments).map(\n      function(el, ix){\n        return [\n          <input key={3*ix} type=\"radio\" value={el}/>,\n          <span key={3*ix +1}>{\"Display \"+el}</span>,\n          <br key={3*ix +2}/> ];\n      }\n    )).slice(1,-1);\n  return (React.createClass({\n\n    getInitialState: function() {\n        return {value: this.props.selectedRadioButton};\n    },\n\n    render: function() {\n        return (\n            <RadioGroup name={\"displayLevelsGroup_\" + this.props.radioId} value={this.props.selectedRadioButton} onChange={this.handleChange}>\n                <div style={{\"marginLeft\": \"10px\", \"marginTop\": \"8px\"}}>\n                    {inputElements}\n                </div>\n            </RadioGroup>\n        );\n    },\n\n    handleChange: function(event) {\n        this.props.toggleRadioButton(event.target.value);\n        this.setState({value: this.props.selectedRadioButton});\n\n        // To resize the sticky column/header in case the row height or column width changes\n        $(window).resize();\n    }\n  }) );\n};\n\n\nvar HeatmapTableRows = React.createClass({\n    propTypes: {\n        profiles: React.PropTypes.arrayOf(React.PropTypes.object).isRequired\n    },\n\n    profileRowType: function (profile)  {\n        var geneProfileKey = this.props.heatmapConfig.species + \"-\" +\n            (this.props.type.isDifferential\n              ? profile.name + \"-\" + profile.designElement\n              : profile.name);\n        return (this.props.type.isMultiExperiment ?\n            <GeneProfileRow key={geneProfileKey}\n                            id={profile.id}\n                            name={profile.name}\n                            type={this.props.type}\n                            experimentType={profile.experimentType}\n                            expressions={profile.expressions}\n                            serializedFilterFactors={profile.serializedFilterFactors}\n                            heatmapConfig={this.props.heatmapConfig}\n                            atlasBaseURL={this.props.atlasBaseURL}\n                            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                            displayLevels={this.props.displayLevels}\n                            renderExpressionCells={this.props.renderExpressionCells}\n                            hoverColumnCallback={this.props.hoverColumnCallback}\n                            hoverRowCallback={this.props.hoverRowCallback}/>\n            :\n            <GeneProfileRow key={geneProfileKey}\n                            selected={profile.id === this.props.selectedGeneId}\n                            selectGene={this.props.selectGene}\n                            designElement={profile.designElement}\n                            id={profile.id}\n                            name={profile.name}\n                            type={this.props.type}\n                            expressions={profile.expressions}\n                            heatmapConfig={this.props.heatmapConfig}\n                            atlasBaseURL={this.props.atlasBaseURL}\n                            linksAtlasBaseURL={this.props.linksAtlasBaseURL}\n                            displayLevels={this.props.displayLevels}\n                            showGeneSetProfiles={this.props.showGeneSetProfiles}\n                            selectedRadioButton={this.props.selectedRadioButton}\n                            hasQuartiles={this.props.hasQuartiles}\n                            isSingleGeneResult={this.props.isSingleGeneResult}\n                            renderExpressionCells={this.props.renderExpressionCells}\n                            hoverColumnCallback={this.props.hoverColumnCallback}\n                            hoverRowCallback={this.props.hoverRowCallback}/>\n        );\n    },\n\n    render: function () {\n        var geneProfilesRows = this.props.profiles.map(function (profile) {\n\n            return this.profileRowType(profile);\n        }.bind(this));\n\n        return (\n            <tbody>\n            {geneProfilesRows}\n            </tbody>\n        );\n    }\n});\n\n\nvar GeneProfileRow = React.createClass({\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        linksAtlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    getInitialState: function () {\n        return ({hover:false, selected:false, levels: this.props.displayLevels});\n    },\n\n    onMouseEnter: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover:true});\n        }\n        // We use name instead of id because in multiexperiment the same id can appear under different name (same experiment, different conditions)\n        this.props.hoverRowCallback(this.props.name);\n    },\n\n    onMouseLeave: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.setState({hover:false});\n        }\n        this._closeTooltip();\n        this.props.hoverRowCallback(null);\n    },\n\n    onClick: function () {\n        if (this.props.heatmapConfig.enableEnsemblLauncher) {\n            this.props.selectGene(this.props.id);\n        }\n    },\n\n    _geneNameLinked: function () {\n        var experimentURL = '/experiments/' + this.props.id + '?geneQuery=' + this.props.heatmapConfig.geneQuery + (this.props.serializedFilterFactors ? \"&serializedFilterFactors=\" + encodeURIComponent(this.props.serializedFilterFactors) : \"\");\n        var geneURL = this.props.showGeneSetProfiles ? '/query?geneQuery=' + this.props.name + '&exactMatch=' + this.props.heatmapConfig.isExactMatch : '/genes/' + this.props.id;\n\n        var titleTooltip = this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? \"Protein Expression\" : \"RNA Expression\" ) : \"\";\n\n        var experimentOrGeneURL = this.props.linksAtlasBaseURL + (this.props.type.isMultiExperiment ? experimentURL : geneURL);\n\n        // don't render id for gene sets to prevent tooltips\n        // The vertical align in the <a> element is needed because the kerning in the font used in icon-conceptual is vertically off\n        return (\n            <span title={titleTooltip} style={{\"display\": \"table-cell\"}}>\n                <span className=\"icon icon-conceptual icon-c2\" data-icon={this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? 'P' : 'd') : ''}/>\n                <a ref=\"geneName\" id={this.props.showGeneSetProfiles ? '' : this.props.id} href={experimentOrGeneURL} onClick={this.geneNameLinkClicked} style={{\"verticalAlign\": \"15%\"}}>{this.props.name}</a>\n            </span>\n        );\n    },\n\n    geneNameLinkClicked: function (event) {\n        // prevent row from being selected\n        event.stopPropagation();\n    },\n\n    displayLevelsRadio: function() {\n        if(this.props.hasQuartiles && this.props.isSingleGeneResult) {\n            return this.props.selectedRadioButton === \"levels\";\n        }\n        else return (this.props.displayLevels);\n    },\n\n    cellType: function (expression) {\n        if (this.props.type.isBaseline) {\n            if(this.props.selectedRadioButton === \"variance\" && expression.quartiles) {\n                return (\n                    <HeatmapBaselineCellVariance key={this.props.id + expression.factorName}\n                                                 quartiles={expression.quartiles}\n                                                 hoverColumnCallback={this.props.hoverColumnCallback}/>\n                );\n            }\n            else {\n                return (\n                    <CellBaseline key={this.props.id + expression.factorName}\n                                  factorName={expression.factorName}\n                                  color={expression.color}\n                                  value={expression.value}\n                                  heatmapConfig={this.props.heatmapConfig}\n                                  displayLevels={this.displayLevelsRadio()}\n                                  svgPathId={expression.svgPathId}\n                                  geneSetProfiles={this.props.showGeneSetProfiles}\n                                  id={this.props.id}\n                                  name={this.props.name}\n                                  hoverColumnCallback={this.props.hoverColumnCallback}/>\n                );\n            }\n        }\n        else if (this.props.type.isDifferential) {\n            return (\n                <CellDifferential key={this.props.designElement + this.props.name + expression.contrastName}\n                                  colour={expression.color}\n                                  foldChange={expression.foldChange}\n                                  pValue={expression.pValue}\n                                  tStat={expression.tStat}\n                                  displayLevels={this.props.displayLevels}/>\n            );\n        }\n        else if (this.props.type.isMultiExperiment) {\n            return (\n                <CellMultiExperiment key={this.props.id + expression.factorName}\n                                     factorName={expression.factorName}\n                                     serializedFilterFactors={this.props.serializedFilterFactors}\n                                     color={expression.color}\n                                     value={expression.value}\n                                     displayLevels={this.props.displayLevels}\n                                     svgPathId={expression.svgPathId}\n                                     id={this.props.id}\n                                     name={this.props.name}\n                                     hoverColumnCallback={this.props.hoverColumnCallback}/>\n            );\n        }\n    },\n\n    cells: function (expressions) {\n\n        return expressions.map(function (expression) {\n            return this.cellType(expression);\n        }.bind(this));\n    },\n\n    render: function () {\n        var showSelectTextOnHover = this.state.hover && !this.props.selected ? <span style={{\"display\": \"table-cell\", \"textAlign\": \"right\", \"paddingLeft\": \"10px\", \"color\": \"green\", \"visibility\": \"visible\"}}>select</span> :\n            <span style={{\"display\": \"table-cell\", \"textAlign\": \"right\", \"paddingLeft\": \"10px\", \"color\": \"green\", \"visibility\": \"hidden\"}}>select</span>;\n        var showTickWhenSelected = this.props.selected ? <span style={{\"float\": \"right\", \"color\": \"green\"}}> &#10004; </span>: null ;\n        var className = (this.props.selected ? \"gxaHorizontalHeaderCell-selected gxaHoverableHeader\" : \"gxaHorizontalHeaderCell gxaHoverableHeader\") + (this.props.heatmapConfig.enableEnsemblLauncher ? \" gxaSelectableHeader\" : \"\");\n        var rowClassName = this.props.type.isMultiExperiment ? (this.props.experimentType == \"PROTEOMICS_BASELINE\" ? \"gxaProteomicsExperiment\" : \"gxaTranscriptomicsExperiment\" ) : \"\";\n\n        return (\n            <tr className={rowClassName}>\n                <th className={className} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onClick={this.onClick}>\n                    <div style={{display: \"table\", width: \"100%\"}}>\n                        <div style={{display: \"table-row\"}}>\n                            { this._geneNameLinked() }\n                            { this.props.heatmapConfig.enableEnsemblLauncher ? showSelectTextOnHover : null }\n                            { this.props.heatmapConfig.enableEnsemblLauncher ? showTickWhenSelected : null }\n                        </div>\n                    </div>\n                </th>\n                {this.props.designElement ? <th className=\"gxaHeatmapTableDesignElement\">{this.props.designElement}</th> : null}\n                {this.props.renderExpressionCells ? this.cells(this.props.expressions) : null}\n            </tr>\n        );\n    },\n\n    componentDidMount: function () {\n        if(!this.props.type.isMultiExperiment) {\n            GenePropertiesTooltipModule.init(this.props.atlasBaseURL, ReactDOM.findDOMNode(this.refs.geneName), this.props.id, this.props.name);\n        }\n    },\n\n    _closeTooltip: function() {\n        if(!this.props.type.isMultiExperiment) {\n            $(ReactDOM.findDOMNode(this.refs.geneName)).tooltip(\"close\");\n        }\n    }\n\n});\n\nvar CellBaseline = React.createClass({\n    render: function () {\n        if (this._noExpression()) {\n            return (<td></td>);\n        }\n\n        var style = {\"backgroundColor\": this._isUnknownExpression() ? \"white\" : this.props.color};\n\n        return (\n            <td style={style} onMouseEnter={this._onMouseEnter} onMouseLeave={this._onMouseLeave}>\n                <div\n                    className=\"gxaHeatmapCell\"\n                    style={{visibility: this._isUnknownExpression() || this.props.displayLevels ? \"visible\" : \"hidden\"}}>\n                    {this._isUnknownExpression() ? this._unknownCell() : NumberFormat.baselineExpression(this.props.value)}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount: function () {\n        this.addQuestionMarkTooltip();\n    },\n\n    // need this so that we re-add question mark tooltip, if it doesn't exist, when switching between\n    // individual genes and gene sets\n    componentDidUpdate: function () {\n        this.addQuestionMarkTooltip();\n    },\n\n    addQuestionMarkTooltip: function() {\n        function hasQuestionMark(unknownElement) {\n            return unknownElement.children.length;\n        }\n\n        if (this._isUnknownExpression() && !hasQuestionMark(ReactDOM.findDOMNode(this.refs.unknownCell))) {\n            HelpTooltips(this.props.atlasBaseURL, 'experiment', ReactDOM.findDOMNode(this.refs.unknownCell));\n        }\n    },\n\n    _hasKnownExpression: function () {\n        // true if not blank or UNKNOWN, ie: has a expression with a known value\n        return (this.props.value && !this._isUnknownExpression());\n    },\n\n    _isUnknownExpression: function () {\n        return (this.propsvalue === \"UNKNOWN\")\n    },\n\n    _noExpression: function () {\n        return !this.props.value;\n    },\n\n    _unknownCell: function () {\n        return (\n            <span ref='unknownCell' data-help-loc={this.props.geneSetProfiles ? '#heatMapTableGeneSetUnknownCell' : '#heatMapTableUnknownCell'}></span>\n        );\n    },\n\n    _onMouseEnter: function() {\n        if (this._hasKnownExpression()) {\n            this.props.hoverColumnCallback(this.props.svgPathId);\n        }\n    },\n\n    _onMouseLeave: function() {\n        if (this._hasKnownExpression()) {\n            this.props.hoverColumnCallback(null);\n        }\n    }\n});\n\n\nvar CellMultiExperiment = React.createClass({\n    _isNAExpression : function () {\n        return (this.props.value === \"NT\");\n    },\n\n    _noExpression: function () {\n        return !this.props.value;\n    },\n\n    _tissueNotStudiedInExperiment: function () {\n        return (\n            <span>NA</span>\n        );\n    },\n\n    _onMouseEnter: function() {\n        if (!this._noExpression() && !this._isNAExpression()) {\n            this.props.hoverColumnCallback(this.props.svgPathId);\n        }\n    },\n\n    _onMouseLeave: function() {\n        if (!this._noExpression() && !this._isNAExpression()) {\n            this.props.hoverColumnCallback(null);\n        }\n    },\n\n    render: function () {\n\n        if (this._noExpression()) {\n            return (<td></td>);\n        }\n\n        var style = {\"backgroundColor\": this.props.color};\n\n        return (\n            <td style={style} onMouseEnter={this._onMouseEnter} onMouseLeave={this._onMouseLeave}>\n                <div className=\"gxaHeatmapCell\" style={{visibility: this._isNAExpression() || this.props.displayLevels ? \"visible\" : \"hidden\"}}>\n                    {this._isNAExpression(this.props.value) ? this._tissueNotStudiedInExperiment() : NumberFormat.baselineExpression(this.props.value)}\n                </div>\n            </td>\n        );\n    }\n});\n\nvar HeatmapBottomOptions = React.createClass({\n    propTypes: {\n        coexpressionsAvailable: React.PropTypes.arrayOf(React.PropTypes.shape({\n            name: React.PropTypes.string.isRequired,\n            id: React.PropTypes.string.isRequired,\n            amount: React.PropTypes.number.isRequired\n        })).isRequired,\n        showCoexpressionsFor: React.PropTypes.func.isRequired,\n        googleAnalyticsCallback: React.PropTypes.func.isRequired\n    },\n\n    render: function () {\n        var options = [];\n        for (var i = 0; i < this.props.coexpressionsAvailable.length; i++) {\n            var el = this.props.coexpressionsAvailable[i];\n            options.push(<CoexpressionOption\n                key={i}\n                geneName={el.name}\n                numCoexpressionsAvailable={el.amount}\n                showCoexpressionsCallback={ function(amount){\n                  this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'coexpressions-use');\n                  this.props.showCoexpressionsFor(el.id,amount);\n                }.bind(this) }\n            />);\n        }\n        ;\n        return (\n            <div>\n                {options}\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        if (this.props.coexpressionsAvailable.length > 0) {\n            this.props.googleAnalyticsCallback('send', 'event', 'HeatmapReact', 'coexpressions-display');\n        }\n    }\n\n\n});\n\nvar CoexpressionOption = React.createClass({\n    propTypes: {\n        geneName: React.PropTypes.string.isRequired,\n        numCoexpressionsAvailable: React.PropTypes.number.isRequired,\n        showCoexpressionsCallback: React.PropTypes.func.isRequired\n    },\n    getInitialState: function () {\n        return {visible: 0};\n    },\n    _chooseValue: function (amount) {\n        this.setState({visible: amount});\n        this.props.showCoexpressionsCallback(amount);\n    },\n\n    _turnOnWithDefaultValue: function () {\n        this._chooseValue(10);\n    },\n\n    _showOfferToDisplay: function () {\n        return <DisplayLevelsButton hideText=\"\"\n                                    showText=\"Add similarly expressed genes\"\n                                    onClickCallback={this._turnOnWithDefaultValue}\n                                    displayLevels={false}\n                                    width=\"250px\"\n                                    fontSize=\"14px\"/>\n    },\n\n    _showSlider: function () {\n        var marks = {\n            0: \"off\",\n            10: \"10\"\n        };\n        marks[this.props.numCoexpressionsAvailable] = this.props.numCoexpressionsAvailable;\n        return <div>\n            <p>{\"Display genes with similar expressions to \" + this.props.geneName + \":\"}</p>\n            <div className=\"gxaSlider\">\n                <Slider min={0} max={this.props.numCoexpressionsAvailable} onAfterChange={this._chooseValue}\n                        marks={marks} included={false} defaultValue={10}/>\n            </div>\n        </div>\n    },\n\n    render: function () {\n        return <div className=\"gxaDisplayCoexpressionOffer\">\n            {this.state.visible\n                ? this._showSlider()\n                : this._showOfferToDisplay()}\n        </div>\n    },\n\n    componentDidUpdate: function () {\n        $(window).trigger(\"gxaResizeHeatmapAnatomogramHeader\");\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = Heatmap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/src/Heatmap.jsx\n **/","'use strict';\n\nmodule.exports = require('react/lib/ReactDOMServer');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/react-dom/server.js\n ** module id = 765\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../expression-atlas-heatmap/node_modules/css-loader/index.js!./index.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../expression-atlas-heatmap/node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../expression-atlas-heatmap/node_modules/css-loader/index.js!./index.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../expression-atlas-heatmap/node_modules/css-loader/index.js!./index.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/rc-slider/assets/index.css\n ** module id = 767\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../../expression-atlas-heatmap/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".rc-slider {\\n  position: relative;\\n  height: 4px;\\n  width: 100%;\\n  border-radius: 6px;\\n  background-color: #e9e9e9;\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-slider * {\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-slider-track {\\n  position: absolute;\\n  left: 0;\\n  height: 4px;\\n  border-radius: 6px;\\n  background-color: #abe2fb;\\n  z-index: 1;\\n}\\n.rc-slider-handle {\\n  position: absolute;\\n  margin-left: -7px;\\n  margin-top: -5px;\\n  width: 14px;\\n  height: 14px;\\n  cursor: pointer;\\n  border-radius: 50%;\\n  border: solid 2px #96dbfa;\\n  background-color: #fff;\\n  z-index: 2;\\n}\\n.rc-slider-handle:hover {\\n  border-color: #57c5f7;\\n}\\n.rc-slider-handle-active:active {\\n  border-color: #57c5f7;\\n  box-shadow: 0 0 5px #57c5f7;\\n}\\n.rc-slider-mark {\\n  position: absolute;\\n  top: 10px;\\n  left: 0;\\n  width: 100%;\\n  font-size: 12px;\\n  z-index: 3;\\n}\\n.rc-slider-mark-text {\\n  position: absolute;\\n  display: inline-block;\\n  vertical-align: middle;\\n  text-align: center;\\n  cursor: pointer;\\n  color: #999;\\n}\\n.rc-slider-mark-text-active {\\n  color: #666;\\n}\\n.rc-slider-step {\\n  position: absolute;\\n  width: 100%;\\n  height: 4px;\\n  background: transparent;\\n  z-index: 1;\\n}\\n.rc-slider-dot {\\n  position: absolute;\\n  bottom: -2px;\\n  margin-left: -4px;\\n  width: 8px;\\n  height: 8px;\\n  border: 2px solid #e9e9e9;\\n  background-color: #fff;\\n  cursor: pointer;\\n  border-radius: 50%;\\n  vertical-align: middle;\\n}\\n.rc-slider-dot:first-child {\\n  margin-left: -4px;\\n}\\n.rc-slider-dot:last-child {\\n  margin-left: -4px;\\n}\\n.rc-slider-dot-active {\\n  border-color: #96dbfa;\\n}\\n.rc-slider-disabled {\\n  background-color: #e9e9e9;\\n}\\n.rc-slider-disabled .rc-slider-track {\\n  background-color: #ccc;\\n}\\n.rc-slider-disabled .rc-slider-handle,\\n.rc-slider-disabled .rc-slider-dot {\\n  border-color: #ccc;\\n  background-color: #fff;\\n  cursor: not-allowed;\\n}\\n.rc-slider-disabled .rc-slider-mark-text,\\n.rc-slider-disabled .rc-slider-dot {\\n  cursor: not-allowed !important;\\n}\\n.rc-slider-vertical {\\n  width: 4px;\\n  height: 100%;\\n}\\n.rc-slider-vertical .rc-slider-track {\\n  bottom: 0;\\n  width: 4px;\\n}\\n.rc-slider-vertical .rc-slider-handle {\\n  position: absolute;\\n  margin-left: -5px;\\n  margin-bottom: -7px;\\n}\\n.rc-slider-vertical .rc-slider-mark {\\n  top: 0;\\n  left: 10px;\\n  height: 100%;\\n}\\n.rc-slider-vertical .rc-slider-step {\\n  height: 100%;\\n  width: 4px;\\n}\\n.rc-slider-vertical .rc-slider-dot {\\n  left: 2px;\\n  margin-bottom: -4px;\\n}\\n.rc-slider-vertical .rc-slider-dot:first-child {\\n  margin-bottom: -4px;\\n}\\n.rc-slider-vertical .rc-slider-dot:last-child {\\n  margin-bottom: -4px;\\n}\\n.rc-slider-tooltip-zoom-down-enter,\\n.rc-slider-tooltip-zoom-down-appear {\\n  -webkit-animation-duration: .3s;\\n          animation-duration: .3s;\\n  -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n  display: block !important;\\n  -webkit-animation-play-state: paused;\\n          animation-play-state: paused;\\n}\\n.rc-slider-tooltip-zoom-down-leave {\\n  -webkit-animation-duration: .3s;\\n          animation-duration: .3s;\\n  -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n  display: block !important;\\n  -webkit-animation-play-state: paused;\\n          animation-play-state: paused;\\n}\\n.rc-slider-tooltip-zoom-down-enter.rc-slider-tooltip-zoom-down-enter-active,\\n.rc-slider-tooltip-zoom-down-appear.rc-slider-tooltip-zoom-down-appear-active {\\n  -webkit-animation-name: rcSliderTooltipZoomDownIn;\\n          animation-name: rcSliderTooltipZoomDownIn;\\n  -webkit-animation-play-state: running;\\n          animation-play-state: running;\\n}\\n.rc-slider-tooltip-zoom-down-leave.rc-slider-tooltip-zoom-down-leave-active {\\n  -webkit-animation-name: rcSliderTooltipZoomDownOut;\\n          animation-name: rcSliderTooltipZoomDownOut;\\n  -webkit-animation-play-state: running;\\n          animation-play-state: running;\\n}\\n.rc-slider-tooltip-zoom-down-enter,\\n.rc-slider-tooltip-zoom-down-appear {\\n  -webkit-transform: scale(0, 0);\\n          transform: scale(0, 0);\\n  -webkit-animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\\n          animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\\n}\\n.rc-slider-tooltip-zoom-down-leave {\\n  -webkit-animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\\n          animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\\n}\\n@-webkit-keyframes rcSliderTooltipZoomDownIn {\\n  0% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n  100% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n}\\n@keyframes rcSliderTooltipZoomDownIn {\\n  0% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n  100% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n}\\n@-webkit-keyframes rcSliderTooltipZoomDownOut {\\n  0% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n  100% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n}\\n@keyframes rcSliderTooltipZoomDownOut {\\n  0% {\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(1, 1);\\n            transform: scale(1, 1);\\n  }\\n  100% {\\n    opacity: 0;\\n    -webkit-transform-origin: 50% 100%;\\n            transform-origin: 50% 100%;\\n    -webkit-transform: scale(0, 0);\\n            transform: scale(0, 0);\\n  }\\n}\\n.rc-tooltip {\\n  position: absolute;\\n  left: -9999px;\\n  top: -9999px;\\n  z-index: 4;\\n  visibility: visible;\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-tooltip * {\\n  box-sizing: border-box;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.rc-tooltip-hidden {\\n  display: none;\\n}\\n.rc-tooltip-placement-top {\\n  padding: 4px 0 8px 0;\\n}\\n.rc-tooltip-inner {\\n  padding: 6px 2px;\\n  min-width: 24px;\\n  height: 24px;\\n  font-size: 12px;\\n  line-height: 1;\\n  color: #fff;\\n  text-align: center;\\n  text-decoration: none;\\n  background-color: #6c6c6c;\\n  border-radius: 6px;\\n  box-shadow: 0 0 4px #d9d9d9;\\n}\\n.rc-tooltip-arrow {\\n  position: absolute;\\n  width: 0;\\n  height: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n}\\n.rc-tooltip-placement-top .rc-tooltip-arrow {\\n  bottom: 4px;\\n  left: 50%;\\n  margin-left: -4px;\\n  border-width: 4px 4px 0;\\n  border-top-color: #6c6c6c;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./~/rc-slider/assets/index.css\n ** module id = 768\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/DownloadProfilesButton.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/index.js\n ** module id = 769\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar Modal = require('react-bootstrap/lib/Modal');\nvar Button = require('react-bootstrap/lib/Button');\nvar Glyphicon = require('react-bootstrap/lib/Glyphicon');\nvar Tooltip = require('react-bootstrap/lib/Tooltip');\nvar OverlayTrigger = require('react-bootstrap/lib/OverlayTrigger');\n\nvar BlueprintText = require('./BlueprintText.jsx');\n\n//*------------------------------------------------------------------*\n\n\n\n//*------------------------------------------------------------------*\nvar DownloadProfilesButton = React.createClass({\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        downloadProfilesURL: React.PropTypes.string.isRequired,\n        isFortLauderdale: React.PropTypes.bool.isRequired,\n        onDownloadCallbackForAnalytics: React.PropTypes.func.isRequired\n    },\n    getInitialState: function() {\n        return { showModal: false };\n    },\n\n    _closeModal: function() {\n        this.setState({ showModal: false });\n    },\n\n    _afterDownloadButtonClicked: function() {\n        if(!this.props.isFortLauderdale) {\n            this._commenceDownload();\n        } else {\n            this.setState({ showModal: true });\n        }\n    },\n\n    _commenceDownload: function() {\n        this.props.onDownloadCallbackForAnalytics();\n        window.location.href=this.props.atlasBaseURL + this.props.downloadProfilesURL;\n    },\n\n    _commenceDownloadAndCloseModal: function() {\n        this._commenceDownload();\n        this._closeModal();\n    },\n\n    render: function() {\n        return (\n            <a ref=\"downloadProfilesLink\" onClick={this._afterDownloadButtonClicked}>\n                <Button bsStyle=\"primary\" bsSize=\"xsmall\"><Glyphicon style={{verticalAlign: 'middle', paddingBottom: '2px'}} glyph=\"download-alt\"/><span style={{verticalAlign: 'middle', paddingTop: '2px'}}> Download all results</span></Button>\n\n                <Modal show={this.state.showModal} onHide={this._closeModal} bsSize=\"large\">\n                    <Modal.Header closeButton>\n                    </Modal.Header>\n                    <Modal.Body style={{maxHeight: '360px'}}>\n                        <BlueprintText/>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button onClick={this._closeModal}>Close</Button>\n                        <Button bsStyle=\"primary\" onClick={this._commenceDownloadAndCloseModal}>Continue downloading</Button>\n                    </Modal.Footer>\n                </Modal>\n            </a>\n        );\n    }\n});\n\nmodule.exports = DownloadProfilesButton;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/download-profiles-button/src/DownloadProfilesButton.jsx\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*eslint-disable react/prop-types */\n\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _mountable = require('react-prop-types/lib/mountable');\n\nvar _mountable2 = _interopRequireDefault(_mountable);\n\nvar _elementType = require('react-prop-types/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _ModalManager = require('./ModalManager');\n\nvar _ModalManager2 = _interopRequireDefault(_ModalManager);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _addFocusListener = require('./utils/addFocusListener');\n\nvar _addFocusListener2 = _interopRequireDefault(_addFocusListener);\n\nvar _inDOM = require('dom-helpers/util/inDOM');\n\nvar _inDOM2 = _interopRequireDefault(_inDOM);\n\nvar _activeElement = require('dom-helpers/activeElement');\n\nvar _activeElement2 = _interopRequireDefault(_activeElement);\n\nvar _contains = require('dom-helpers/query/contains');\n\nvar _contains2 = _interopRequireDefault(_contains);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar modalManager = new _ModalManager2.default();\n\n/**\n * Love them or hate them, `<Modal/>` provides a solid foundation for creating dialogs, lightboxes, or whatever else.\n * The Modal component renders its `children` node in front of a backdrop component.\n *\n * The Modal offers a few helpful features over using just a `<Portal/>` component and some styles:\n *\n * - Manages dialog stacking when one-at-a-time just isn't enough.\n * - Creates a backdrop, for disabling interaction below the modal.\n * - It properly manages focus; moving to the modal content, and keeping it there until the modal is closed.\n * - It disables scrolling of the page content while open.\n * - Adds the appropriate ARIA roles are automatically.\n * - Easily pluggable animations via a `<Transition/>` component.\n *\n * Note that, in the same way the backdrop element prevents users from clicking or interacting\n * with the page content underneath the Modal, Screen readers also need to be signaled to not to\n * interact with page content while the Modal is open. To do this, we use a common technique of applying\n * the `aria-hidden='true'` attribute to the non-Modal elements in the Modal `container`. This means that for\n * a Modal to be truly modal, it should have a `container` that is _outside_ your app's\n * React hierarchy (such as the default: document.body).\n */\nvar Modal = _react2.default.createClass({\n  displayName: 'Modal',\n\n\n  propTypes: _extends({}, _Portal2.default.propTypes, {\n\n    /**\n     * Set the visibility of the Modal\n     */\n    show: _react2.default.PropTypes.bool,\n\n    /**\n     * A Node, Component instance, or function that returns either. The Modal is appended to it's container element.\n     *\n     * For the sake of assistive technologies, the container should usually be the document body, so that the rest of the\n     * page content can be placed behind a virtual backdrop as well as a visual one.\n     */\n    container: _react2.default.PropTypes.oneOfType([_mountable2.default, _react2.default.PropTypes.func]),\n\n    /**\n     * A callback fired when the Modal is opening.\n     */\n    onShow: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when either the backdrop is clicked, or the escape key is pressed.\n     *\n     * The `onHide` callback only signals intent from the Modal,\n     * you must actually set the `show` prop to `false` for the Modal to close.\n     */\n    onHide: _react2.default.PropTypes.func,\n\n    /**\n     * Include a backdrop component.\n     */\n    backdrop: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.bool, _react2.default.PropTypes.oneOf(['static'])]),\n\n    /**\n     * A callback fired when the escape key, if specified in `keyboard`, is pressed.\n     */\n    onEscapeKeyUp: _react2.default.PropTypes.func,\n\n    /**\n     * A callback fired when the backdrop, if specified, is clicked.\n     */\n    onBackdropClick: _react2.default.PropTypes.func,\n\n    /**\n     * A style object for the backdrop component.\n     */\n    backdropStyle: _react2.default.PropTypes.object,\n\n    /**\n     * A css class or classes for the backdrop component.\n     */\n    backdropClassName: _react2.default.PropTypes.string,\n\n    /**\n     * A css class or set of classes applied to the modal container when the modal is open,\n     * and removed when it is closed.\n     */\n    containerClassName: _react2.default.PropTypes.string,\n\n    /**\n     * Close the modal when escape key is pressed\n     */\n    keyboard: _react2.default.PropTypes.bool,\n\n    /**\n     * A `<Transition/>` component to use for the dialog and backdrop components.\n     */\n    transition: _elementType2.default,\n\n    /**\n     * The `timeout` of the dialog transition if specified. This number is used to ensure that\n     * transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    dialogTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * The `timeout` of the backdrop transition if specified. This number is used to\n     * ensure that transition callbacks are always fired, even if browser transition events are canceled.\n     *\n     * See the Transition `timeout` prop for more infomation.\n     */\n    backdropTransitionTimeout: _react2.default.PropTypes.number,\n\n    /**\n     * When `true` The modal will automatically shift focus to itself when it opens, and\n     * replace it to the last focused element when it closes. This also\n     * works correctly with any Modal children that have the `autoFocus` prop.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    autoFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * When `true` The modal will prevent focus from leaving the Modal while open.\n     *\n     * Generally this should never be set to `false` as it makes the Modal less\n     * accessible to assistive technologies, like screen readers.\n     */\n    enforceFocus: _react2.default.PropTypes.bool,\n\n    /**\n     * Callback fired before the Modal transitions in\n     */\n    onEnter: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition in\n     */\n    onEntering: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning in\n     */\n    onEntered: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired right before the Modal transitions out\n     */\n    onExit: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired as the Modal begins to transition out\n     */\n    onExiting: _react2.default.PropTypes.func,\n\n    /**\n     * Callback fired after the Modal finishes transitioning out\n     */\n    onExited: _react2.default.PropTypes.func\n\n  }),\n\n  getDefaultProps: function getDefaultProps() {\n    var noop = function noop() {};\n\n    return {\n      show: false,\n      backdrop: true,\n      keyboard: true,\n      autoFocus: true,\n      enforceFocus: true,\n      onHide: noop\n    };\n  },\n  getInitialState: function getInitialState() {\n    return { exited: !this.props.show };\n  },\n  render: function render() {\n    var _props = this.props;\n    var show = _props.show;\n    var container = _props.container;\n    var children = _props.children;\n    var Transition = _props.transition;\n    var backdrop = _props.backdrop;\n    var dialogTransitionTimeout = _props.dialogTransitionTimeout;\n    var className = _props.className;\n    var style = _props.style;\n    var onExit = _props.onExit;\n    var onExiting = _props.onExiting;\n    var onEnter = _props.onEnter;\n    var onEntering = _props.onEntering;\n    var onEntered = _props.onEntered;\n\n\n    var dialog = _react2.default.Children.only(children);\n\n    var mountModal = show || Transition && !this.state.exited;\n    if (!mountModal) {\n      return null;\n    }\n\n    var _dialog$props = dialog.props;\n    var role = _dialog$props.role;\n    var tabIndex = _dialog$props.tabIndex;\n\n\n    if (role === undefined || tabIndex === undefined) {\n      dialog = (0, _react.cloneElement)(dialog, {\n        role: role === undefined ? 'document' : role,\n        tabIndex: tabIndex == null ? '-1' : tabIndex\n      });\n    }\n\n    if (Transition) {\n      dialog = _react2.default.createElement(\n        Transition,\n        {\n          transitionAppear: true,\n          unmountOnExit: true,\n          'in': show,\n          timeout: dialogTransitionTimeout,\n          onExit: onExit,\n          onExiting: onExiting,\n          onExited: this.handleHidden,\n          onEnter: onEnter,\n          onEntering: onEntering,\n          onEntered: onEntered\n        },\n        dialog\n      );\n    }\n\n    return _react2.default.createElement(\n      _Portal2.default,\n      {\n        ref: this.setMountNode,\n        container: container\n      },\n      _react2.default.createElement(\n        'div',\n        {\n          ref: 'modal',\n          role: role || 'dialog',\n          style: style,\n          className: className\n        },\n        backdrop && this.renderBackdrop(),\n        dialog\n      )\n    );\n  },\n  renderBackdrop: function renderBackdrop() {\n    var _props2 = this.props;\n    var Transition = _props2.transition;\n    var backdropTransitionTimeout = _props2.backdropTransitionTimeout;\n\n\n    var backdrop = _react2.default.createElement('div', { ref: 'backdrop',\n      style: this.props.backdropStyle,\n      className: this.props.backdropClassName,\n      onClick: this.handleBackdropClick\n    });\n\n    if (Transition) {\n      backdrop = _react2.default.createElement(\n        Transition,\n        { transitionAppear: true,\n          'in': this.props.show,\n          timeout: backdropTransitionTimeout\n        },\n        backdrop\n      );\n    }\n\n    return backdrop;\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.show) {\n      this.setState({ exited: false });\n    } else if (!nextProps.transition) {\n      // Otherwise let handleHidden take care of marking exited.\n      this.setState({ exited: true });\n    }\n  },\n  componentWillUpdate: function componentWillUpdate(nextProps) {\n    if (!this.props.show && nextProps.show) {\n      this.checkForFocus();\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    if (this.props.show) {\n      this.onShow();\n    }\n  },\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var transition = this.props.transition;\n\n\n    if (prevProps.show && !this.props.show && !transition) {\n      // Otherwise handleHidden will call this.\n      this.onHide();\n    } else if (!prevProps.show && this.props.show) {\n      this.onShow();\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    var _props3 = this.props;\n    var show = _props3.show;\n    var transition = _props3.transition;\n\n\n    if (show || transition && !this.state.exited) {\n      this.onHide();\n    }\n  },\n  onShow: function onShow() {\n    var doc = (0, _ownerDocument2.default)(this);\n    var container = (0, _getContainer2.default)(this.props.container, doc.body);\n\n    modalManager.add(this, container, this.props.containerClassName);\n\n    this._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', this.handleDocumentKeyUp);\n\n    this._onFocusinListener = (0, _addFocusListener2.default)(this.enforceFocus);\n\n    this.focus();\n\n    if (this.props.onShow) {\n      this.props.onShow();\n    }\n  },\n  onHide: function onHide() {\n    modalManager.remove(this);\n\n    this._onDocumentKeyupListener.remove();\n\n    this._onFocusinListener.remove();\n\n    this.restoreLastFocus();\n  },\n  setMountNode: function setMountNode(ref) {\n    this.mountNode = ref ? ref.getMountNode() : ref;\n  },\n  handleHidden: function handleHidden() {\n    this.setState({ exited: true });\n    this.onHide();\n\n    if (this.props.onExited) {\n      var _props4;\n\n      (_props4 = this.props).onExited.apply(_props4, arguments);\n    }\n  },\n  handleBackdropClick: function handleBackdropClick(e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (this.props.onBackdropClick) {\n      this.props.onBackdropClick(e);\n    }\n\n    if (this.props.backdrop === true) {\n      this.props.onHide();\n    }\n  },\n  handleDocumentKeyUp: function handleDocumentKeyUp(e) {\n    if (this.props.keyboard && e.keyCode === 27 && this.isTopModal()) {\n      if (this.props.onEscapeKeyUp) {\n        this.props.onEscapeKeyUp(e);\n      }\n      this.props.onHide();\n    }\n  },\n  checkForFocus: function checkForFocus() {\n    if (_inDOM2.default) {\n      this.lastFocus = (0, _activeElement2.default)();\n    }\n  },\n  focus: function focus() {\n    var autoFocus = this.props.autoFocus;\n    var modalContent = this.getDialogElement();\n    var current = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var focusInModal = current && (0, _contains2.default)(modalContent, current);\n\n    if (modalContent && autoFocus && !focusInModal) {\n      this.lastFocus = current;\n\n      if (!modalContent.hasAttribute('tabIndex')) {\n        modalContent.setAttribute('tabIndex', -1);\n        (0, _warning2.default)(false, 'The modal content node does not accept focus. ' + 'For the benefit of assistive technologies, the tabIndex of the node is being set to \"-1\".');\n      }\n\n      modalContent.focus();\n    }\n  },\n  restoreLastFocus: function restoreLastFocus() {\n    // Support: <=IE11 doesn't support `focus()` on svg elements (RB: #917)\n    if (this.lastFocus && this.lastFocus.focus) {\n      this.lastFocus.focus();\n      this.lastFocus = null;\n    }\n  },\n  enforceFocus: function enforceFocus() {\n    var enforceFocus = this.props.enforceFocus;\n\n\n    if (!enforceFocus || !this.isMounted() || !this.isTopModal()) {\n      return;\n    }\n\n    var active = (0, _activeElement2.default)((0, _ownerDocument2.default)(this));\n    var modal = this.getDialogElement();\n\n    if (modal && modal !== active && !(0, _contains2.default)(modal, active)) {\n      modal.focus();\n    }\n  },\n\n\n  //instead of a ref, which might conflict with one the parent applied.\n  getDialogElement: function getDialogElement() {\n    var node = this.refs.modal;\n    return node && node.lastChild;\n  },\n  isTopModal: function isTopModal() {\n    return modalManager.isTopModal(this);\n  }\n});\n\nModal.manager = modalManager;\n\nexports.default = Modal;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Modal.js\n ** module id = 833\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _mountable = require('react-prop-types/lib/mountable');\n\nvar _mountable2 = _interopRequireDefault(_mountable);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * The `<Portal/>` component renders its children into a new \"subtree\" outside of current component hierarchy.\n * You can think of it as a declarative `appendChild()`, or jQuery's `$.fn.appendTo()`.\n * The children of `<Portal/>` component will be appended to the `container` specified.\n */\nvar Portal = _react2.default.createClass({\n\n  displayName: 'Portal',\n\n  propTypes: {\n    /**\n     * A Node, Component instance, or function that returns either. The `container` will have the Portal children\n     * appended to it.\n     */\n    container: _react2.default.PropTypes.oneOfType([_mountable2.default, _react2.default.PropTypes.func])\n  },\n\n  componentDidMount: function componentDidMount() {\n    this._renderOverlay();\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    this._renderOverlay();\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (this._overlayTarget && nextProps.container !== this.props.container) {\n      this._portalContainerNode.removeChild(this._overlayTarget);\n      this._portalContainerNode = (0, _getContainer2.default)(nextProps.container, (0, _ownerDocument2.default)(this).body);\n      this._portalContainerNode.appendChild(this._overlayTarget);\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this._unrenderOverlay();\n    this._unmountOverlayTarget();\n  },\n  _mountOverlayTarget: function _mountOverlayTarget() {\n    if (!this._overlayTarget) {\n      this._overlayTarget = document.createElement('div');\n      this._portalContainerNode = (0, _getContainer2.default)(this.props.container, (0, _ownerDocument2.default)(this).body);\n      this._portalContainerNode.appendChild(this._overlayTarget);\n    }\n  },\n  _unmountOverlayTarget: function _unmountOverlayTarget() {\n    if (this._overlayTarget) {\n      this._portalContainerNode.removeChild(this._overlayTarget);\n      this._overlayTarget = null;\n    }\n    this._portalContainerNode = null;\n  },\n  _renderOverlay: function _renderOverlay() {\n\n    var overlay = !this.props.children ? null : _react2.default.Children.only(this.props.children);\n\n    // Save reference for future access.\n    if (overlay !== null) {\n      this._mountOverlayTarget();\n      this._overlayInstance = _reactDom2.default.unstable_renderSubtreeIntoContainer(this, overlay, this._overlayTarget);\n    } else {\n      // Unrender if the component is null for transitions to null\n      this._unrenderOverlay();\n      this._unmountOverlayTarget();\n    }\n  },\n  _unrenderOverlay: function _unrenderOverlay() {\n    if (this._overlayTarget) {\n      _reactDom2.default.unmountComponentAtNode(this._overlayTarget);\n      this._overlayInstance = null;\n    }\n  },\n  render: function render() {\n    return null;\n  },\n  getMountNode: function getMountNode() {\n    return this._overlayTarget;\n  },\n  getOverlayDOMNode: function getOverlayDOMNode() {\n    if (!this.isMounted()) {\n      throw new Error('getOverlayDOMNode(): A component must be mounted to have a DOM node.');\n    }\n\n    if (this._overlayInstance) {\n      if (this._overlayInstance.getWrappedDOMNode) {\n        return this._overlayInstance.getWrappedDOMNode();\n      } else {\n        return _reactDom2.default.findDOMNode(this._overlayInstance);\n      }\n    }\n\n    return null;\n  }\n});\n\nexports.default = Portal;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Portal.js\n ** module id = 838\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (componentOrElement) {\n  return (0, _ownerDocument2.default)(_reactDom2.default.findDOMNode(componentOrElement));\n};\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _ownerDocument = require('dom-helpers/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/ownerDocument.js\n ** module id = 839\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getContainer;\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getContainer(container, defaultContainer) {\n  container = typeof container === 'function' ? container() : container;\n  return _reactDom2.default.findDOMNode(container) || defaultContainer;\n}\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/getContainer.js\n ** module id = 840\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _style = require('dom-helpers/style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _class = require('dom-helpers/class');\n\nvar _class2 = _interopRequireDefault(_class);\n\nvar _scrollbarSize = require('dom-helpers/util/scrollbarSize');\n\nvar _scrollbarSize2 = _interopRequireDefault(_scrollbarSize);\n\nvar _isOverflowing = require('./utils/isOverflowing');\n\nvar _isOverflowing2 = _interopRequireDefault(_isOverflowing);\n\nvar _manageAriaHidden = require('./utils/manageAriaHidden');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction findIndexOf(arr, cb) {\n  var idx = -1;\n  arr.some(function (d, i) {\n    if (cb(d, i)) {\n      idx = i;\n      return true;\n    }\n  });\n  return idx;\n}\n\nfunction findContainer(data, modal) {\n  return findIndexOf(data, function (d) {\n    return d.modals.indexOf(modal) !== -1;\n  });\n}\n\n/**\n * Proper state managment for containers and the modals in those containers.\n *\n * @internal Used by the Modal to ensure proper styling of containers.\n */\n\nvar ModalManager = function () {\n  function ModalManager() {\n    var hideSiblingNodes = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\n    _classCallCheck(this, ModalManager);\n\n    this.hideSiblingNodes = hideSiblingNodes;\n    this.modals = [];\n    this.containers = [];\n    this.data = [];\n  }\n\n  _createClass(ModalManager, [{\n    key: 'add',\n    value: function add(modal, container, className) {\n      var modalIdx = this.modals.indexOf(modal);\n      var containerIdx = this.containers.indexOf(container);\n\n      if (modalIdx !== -1) {\n        return modalIdx;\n      }\n\n      modalIdx = this.modals.length;\n      this.modals.push(modal);\n\n      if (this.hideSiblingNodes) {\n        (0, _manageAriaHidden.hideSiblings)(container, modal.mountNode);\n      }\n\n      if (containerIdx !== -1) {\n        this.data[containerIdx].modals.push(modal);\n        return modalIdx;\n      }\n\n      var data = {\n        modals: [modal],\n        //right now only the first modal of a container will have its classes applied\n        classes: className ? className.split(/\\s+/) : [],\n        //we are only interested in the actual `style` here becasue we will override it\n        style: {\n          overflow: container.style.overflow,\n          paddingRight: container.style.paddingRight\n        }\n      };\n\n      var style = { overflow: 'hidden' };\n\n      data.overflowing = (0, _isOverflowing2.default)(container);\n\n      if (data.overflowing) {\n        // use computed style, here to get the real padding\n        // to add our scrollbar width\n        style.paddingRight = parseInt((0, _style2.default)(container, 'paddingRight') || 0, 10) + (0, _scrollbarSize2.default)() + 'px';\n      }\n\n      (0, _style2.default)(container, style);\n\n      data.classes.forEach(_class2.default.addClass.bind(null, container));\n\n      this.containers.push(container);\n      this.data.push(data);\n\n      return modalIdx;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(modal) {\n      var modalIdx = this.modals.indexOf(modal);\n\n      if (modalIdx === -1) {\n        return;\n      }\n\n      var containerIdx = findContainer(this.data, modal);\n      var data = this.data[containerIdx];\n      var container = this.containers[containerIdx];\n\n      data.modals.splice(data.modals.indexOf(modal), 1);\n\n      this.modals.splice(modalIdx, 1);\n\n      // if that was the last modal in a container,\n      // clean up the container stylinhg.\n      if (data.modals.length === 0) {\n        Object.keys(data.style).forEach(function (key) {\n          return container.style[key] = data.style[key];\n        });\n\n        data.classes.forEach(_class2.default.removeClass.bind(null, container));\n\n        if (this.hideSiblingNodes) {\n          (0, _manageAriaHidden.showSiblings)(container, modal.mountNode);\n        }\n        this.containers.splice(containerIdx, 1);\n        this.data.splice(containerIdx, 1);\n      } else if (this.hideSiblingNodes) {\n        //otherwise make sure the next top modal is visible to a SR\n        (0, _manageAriaHidden.ariaHidden)(false, data.modals[data.modals.length - 1].mountNode);\n      }\n    }\n  }, {\n    key: 'isTopModal',\n    value: function isTopModal(modal) {\n      return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n    }\n  }]);\n\n  return ModalManager;\n}();\n\nexports.default = ModalManager;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/ModalManager.js\n ** module id = 841\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isOverflowing;\n\nvar _isWindow = require('dom-helpers/query/isWindow');\n\nvar _isWindow2 = _interopRequireDefault(_isWindow);\n\nvar _ownerDocument = require('dom-helpers/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isBody(node) {\n  return node && node.tagName.toLowerCase() === 'body';\n}\n\nfunction bodyIsOverflowing(node) {\n  var doc = (0, _ownerDocument2.default)(node);\n  var win = (0, _isWindow2.default)(doc);\n  var fullWidth = win.innerWidth;\n\n  // Support: ie8, no innerWidth\n  if (!fullWidth) {\n    var documentElementRect = doc.documentElement.getBoundingClientRect();\n    fullWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n  }\n\n  return doc.body.clientWidth < fullWidth;\n}\n\nfunction isOverflowing(container) {\n  var win = (0, _isWindow2.default)(container);\n\n  return win || isBody(container) ? bodyIsOverflowing(container) : container.scrollHeight > container.clientHeight;\n}\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/isOverflowing.js\n ** module id = 854\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ariaHidden = ariaHidden;\nexports.hideSiblings = hideSiblings;\nexports.showSiblings = showSiblings;\n\nvar BLACKLIST = ['template', 'script', 'style'];\n\nvar isHidable = function isHidable(_ref) {\n  var nodeType = _ref.nodeType;\n  var tagName = _ref.tagName;\n  return nodeType === 1 && BLACKLIST.indexOf(tagName.toLowerCase()) === -1;\n};\n\nvar siblings = function siblings(container, mount, cb) {\n  mount = [].concat(mount);\n\n  [].forEach.call(container.children, function (node) {\n    if (mount.indexOf(node) === -1 && isHidable(node)) {\n      cb(node);\n    }\n  });\n};\n\nfunction ariaHidden(show, node) {\n  if (!node) {\n    return;\n  }\n  if (show) {\n    node.setAttribute('aria-hidden', 'true');\n  } else {\n    node.removeAttribute('aria-hidden');\n  }\n}\n\nfunction hideSiblings(container, mountNode) {\n  siblings(container, mountNode, function (node) {\n    return ariaHidden(true, node);\n  });\n}\n\nfunction showSiblings(container, mountNode) {\n  siblings(container, mountNode, function (node) {\n    return ariaHidden(false, node);\n  });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/manageAriaHidden.js\n ** module id = 856\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (node, event, handler) {\n  (0, _on2.default)(node, event, handler);\n  return {\n    remove: function remove() {\n      (0, _off2.default)(node, event, handler);\n    }\n  };\n};\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = require('dom-helpers/events/off');\n\nvar _off2 = _interopRequireDefault(_off);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/addEventListener.js\n ** module id = 857\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = addFocusListener;\n/**\n * Firefox doesn't have a focusin event so using capture is easiest way to get bubbling\n * IE8 can't do addEventListener, but does have onfocusin, so we use that in ie8\n *\n * We only allow one Listener at a time to avoid stack overflows\n */\nfunction addFocusListener(handler) {\n  var useFocusin = !document.addEventListener;\n  var remove = void 0;\n\n  if (useFocusin) {\n    document.attachEvent('onfocusin', handler);\n    remove = function remove() {\n      return document.detachEvent('onfocusin', handler);\n    };\n  } else {\n    document.addEventListener('focus', handler, true);\n    remove = function remove() {\n      return document.removeEventListener('focus', handler, true);\n    };\n  }\n\n  return { remove: remove };\n}\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/addFocusListener.js\n ** module id = 858\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EXITING = exports.ENTERED = exports.ENTERING = exports.EXITED = exports.UNMOUNTED = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _properties = require('dom-helpers/transition/properties');\n\nvar _properties2 = _interopRequireDefault(_properties);\n\nvar _on = require('dom-helpers/events/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar transitionEndEvent = _properties2.default.end;\n\nvar UNMOUNTED = exports.UNMOUNTED = 0;\nvar EXITED = exports.EXITED = 1;\nvar ENTERING = exports.ENTERING = 2;\nvar ENTERED = exports.ENTERED = 3;\nvar EXITING = exports.EXITING = 4;\n\n/**\n * The Transition component lets you define and run css transitions with a simple declarative api.\n * It works similar to React's own [CSSTransitionGroup](http://facebook.github.io/react/docs/animation.html#high-level-api-reactcsstransitiongroup)\n * but is specifically optimized for transitioning a single child \"in\" or \"out\".\n *\n * You don't even need to use class based css transitions if you don't want to (but it is easiest).\n * The extensive set of lifecyle callbacks means you have control over\n * the transitioning now at each step of the way.\n */\n\nvar Transition = function (_React$Component) {\n  _inherits(Transition, _React$Component);\n\n  function Transition(props, context) {\n    _classCallCheck(this, Transition);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Transition).call(this, props, context));\n\n    var initialStatus = void 0;\n    if (props.in) {\n      // Start enter transition in componentDidMount.\n      initialStatus = props.transitionAppear ? EXITED : ENTERED;\n    } else {\n      initialStatus = props.unmountOnExit ? UNMOUNTED : EXITED;\n    }\n    _this.state = { status: initialStatus };\n\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  _createClass(Transition, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.transitionAppear && this.props.in) {\n        this.performEnter(this.props);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.in && this.props.unmountOnExit) {\n        if (this.state.status === UNMOUNTED) {\n          // Start enter transition in componentDidUpdate.\n          this.setState({ status: EXITED });\n        }\n      } else {\n        this._needsUpdate = true;\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var status = this.state.status;\n\n      if (this.props.unmountOnExit && status === EXITED) {\n        // EXITED is always a transitional state to either ENTERING or UNMOUNTED\n        // when using unmountOnExit.\n        if (this.props.in) {\n          this.performEnter(this.props);\n        } else {\n          this.setState({ status: UNMOUNTED });\n        }\n\n        return;\n      }\n\n      // guard ensures we are only responding to prop changes\n      if (this._needsUpdate) {\n        this._needsUpdate = false;\n\n        if (this.props.in) {\n          if (status === EXITING) {\n            this.performEnter(this.props);\n          } else if (status === EXITED) {\n            this.performEnter(this.props);\n          }\n          // Otherwise we're already entering or entered.\n        } else {\n          if (status === ENTERING || status === ENTERED) {\n            this.performExit(this.props);\n          }\n          // Otherwise we're already exited or exiting.\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelNextCallback();\n    }\n  }, {\n    key: 'performEnter',\n    value: function performEnter(props) {\n      var _this2 = this;\n\n      this.cancelNextCallback();\n      var node = _reactDom2.default.findDOMNode(this);\n\n      // Not this.props, because we might be about to receive new props.\n      props.onEnter(node);\n\n      this.safeSetState({ status: ENTERING }, function () {\n        _this2.props.onEntering(node);\n\n        _this2.onTransitionEnd(node, function () {\n          _this2.safeSetState({ status: ENTERED }, function () {\n            _this2.props.onEntered(node);\n          });\n        });\n      });\n    }\n  }, {\n    key: 'performExit',\n    value: function performExit(props) {\n      var _this3 = this;\n\n      this.cancelNextCallback();\n      var node = _reactDom2.default.findDOMNode(this);\n\n      // Not this.props, because we might be about to receive new props.\n      props.onExit(node);\n\n      this.safeSetState({ status: EXITING }, function () {\n        _this3.props.onExiting(node);\n\n        _this3.onTransitionEnd(node, function () {\n          _this3.safeSetState({ status: EXITED }, function () {\n            _this3.props.onExited(node);\n          });\n        });\n      });\n    }\n  }, {\n    key: 'cancelNextCallback',\n    value: function cancelNextCallback() {\n      if (this.nextCallback !== null) {\n        this.nextCallback.cancel();\n        this.nextCallback = null;\n      }\n    }\n  }, {\n    key: 'safeSetState',\n    value: function safeSetState(nextState, callback) {\n      // This shouldn't be necessary, but there are weird race conditions with\n      // setState callbacks and unmounting in testing, so always make sure that\n      // we can cancel any pending setState callbacks after we unmount.\n      this.setState(nextState, this.setNextCallback(callback));\n    }\n  }, {\n    key: 'setNextCallback',\n    value: function setNextCallback(callback) {\n      var _this4 = this;\n\n      var active = true;\n\n      this.nextCallback = function (event) {\n        if (active) {\n          active = false;\n          _this4.nextCallback = null;\n\n          callback(event);\n        }\n      };\n\n      this.nextCallback.cancel = function () {\n        active = false;\n      };\n\n      return this.nextCallback;\n    }\n  }, {\n    key: 'onTransitionEnd',\n    value: function onTransitionEnd(node, handler) {\n      this.setNextCallback(handler);\n\n      if (node) {\n        (0, _on2.default)(node, transitionEndEvent, this.nextCallback);\n        setTimeout(this.nextCallback, this.props.timeout);\n      } else {\n        setTimeout(this.nextCallback, 0);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var status = this.state.status;\n      if (status === UNMOUNTED) {\n        return null;\n      }\n\n      var _props = this.props;\n      var children = _props.children;\n      var className = _props.className;\n\n      var childProps = _objectWithoutProperties(_props, ['children', 'className']);\n\n      Object.keys(Transition.propTypes).forEach(function (key) {\n        return delete childProps[key];\n      });\n\n      var transitionClassName = void 0;\n      if (status === EXITED) {\n        transitionClassName = this.props.exitedClassName;\n      } else if (status === ENTERING) {\n        transitionClassName = this.props.enteringClassName;\n      } else if (status === ENTERED) {\n        transitionClassName = this.props.enteredClassName;\n      } else if (status === EXITING) {\n        transitionClassName = this.props.exitingClassName;\n      }\n\n      var child = _react2.default.Children.only(children);\n      return _react2.default.cloneElement(child, _extends({}, childProps, {\n        className: (0, _classnames2.default)(child.props.className, className, transitionClassName)\n      }));\n    }\n  }]);\n\n  return Transition;\n}(_react2.default.Component);\n\nTransition.propTypes = {\n  /**\n   * Show the component; triggers the enter or exit animation\n   */\n  in: _react2.default.PropTypes.bool,\n\n  /**\n   * Unmount the component (remove it from the DOM) when it is not shown\n   */\n  unmountOnExit: _react2.default.PropTypes.bool,\n\n  /**\n   * Run the enter animation when the component mounts, if it is initially\n   * shown\n   */\n  transitionAppear: _react2.default.PropTypes.bool,\n\n  /**\n   * A Timeout for the animation, in milliseconds, to ensure that a node doesn't\n   * transition indefinately if the browser transitionEnd events are\n   * canceled or interrupted.\n   *\n   * By default this is set to a high number (5 seconds) as a failsafe. You should consider\n   * setting this to the duration of your animation (or a bit above it).\n   */\n  timeout: _react2.default.PropTypes.number,\n\n  /**\n   * CSS class or classes applied when the component is exited\n   */\n  exitedClassName: _react2.default.PropTypes.string,\n  /**\n   * CSS class or classes applied while the component is exiting\n   */\n  exitingClassName: _react2.default.PropTypes.string,\n  /**\n   * CSS class or classes applied when the component is entered\n   */\n  enteredClassName: _react2.default.PropTypes.string,\n  /**\n   * CSS class or classes applied while the component is entering\n   */\n  enteringClassName: _react2.default.PropTypes.string,\n\n  /**\n   * Callback fired before the \"entering\" classes are applied\n   */\n  onEnter: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"entering\" classes are applied\n   */\n  onEntering: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"enter\" classes are applied\n   */\n  onEntered: _react2.default.PropTypes.func,\n  /**\n   * Callback fired before the \"exiting\" classes are applied\n   */\n  onExit: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"exiting\" classes are applied\n   */\n  onExiting: _react2.default.PropTypes.func,\n  /**\n   * Callback fired after the \"exited\" classes are applied\n   */\n  onExited: _react2.default.PropTypes.func\n};\n\n// Name the function so it is clearer in the documentation\nfunction noop() {}\n\nTransition.displayName = 'Transition';\n\nTransition.defaultProps = {\n  in: false,\n  unmountOnExit: false,\n  transitionAppear: false,\n\n  timeout: 5000,\n\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\n\nexports.default = Transition;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Transition.js\n ** module id = 876\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Portal = require('./Portal');\n\nvar _Portal2 = _interopRequireDefault(_Portal);\n\nvar _Position = require('./Position');\n\nvar _Position2 = _interopRequireDefault(_Position);\n\nvar _RootCloseWrapper = require('./RootCloseWrapper');\n\nvar _RootCloseWrapper2 = _interopRequireDefault(_RootCloseWrapper);\n\nvar _elementType = require('react-prop-types/lib/elementType');\n\nvar _elementType2 = _interopRequireDefault(_elementType);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Built on top of `<Position/>` and `<Portal/>`, the overlay component is great for custom tooltip overlays.\n */\n\nvar Overlay = function (_React$Component) {\n  _inherits(Overlay, _React$Component);\n\n  function Overlay(props, context) {\n    _classCallCheck(this, Overlay);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Overlay).call(this, props, context));\n\n    _this.state = { exited: !props.show };\n    _this.onHiddenListener = _this.handleHidden.bind(_this);\n    return _this;\n  }\n\n  _createClass(Overlay, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.show) {\n        this.setState({ exited: false });\n      } else if (!nextProps.transition) {\n        // Otherwise let handleHidden take care of marking exited.\n        this.setState({ exited: true });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var container = _props.container;\n      var containerPadding = _props.containerPadding;\n      var target = _props.target;\n      var placement = _props.placement;\n      var shouldUpdatePosition = _props.shouldUpdatePosition;\n      var rootClose = _props.rootClose;\n      var children = _props.children;\n      var Transition = _props.transition;\n\n      var props = _objectWithoutProperties(_props, ['container', 'containerPadding', 'target', 'placement', 'shouldUpdatePosition', 'rootClose', 'children', 'transition']);\n\n      // Don't un-render the overlay while it's transitioning out.\n\n\n      var mountOverlay = props.show || Transition && !this.state.exited;\n      if (!mountOverlay) {\n        // Don't bother showing anything if we don't have to.\n        return null;\n      }\n\n      var child = children;\n\n      // Position is be inner-most because it adds inline styles into the child,\n      // which the other wrappers don't forward correctly.\n      child = _react2.default.createElement(\n        _Position2.default,\n        { container: container, containerPadding: containerPadding, target: target, placement: placement, shouldUpdatePosition: shouldUpdatePosition },\n        child\n      );\n\n      if (Transition) {\n        var onExit = props.onExit;\n        var onExiting = props.onExiting;\n        var onEnter = props.onEnter;\n        var onEntering = props.onEntering;\n        var onEntered = props.onEntered;\n\n        // This animates the child node by injecting props, so it must precede\n        // anything that adds a wrapping div.\n\n        child = _react2.default.createElement(\n          Transition,\n          {\n            'in': props.show,\n            transitionAppear: true,\n            onExit: onExit,\n            onExiting: onExiting,\n            onExited: this.onHiddenListener,\n            onEnter: onEnter,\n            onEntering: onEntering,\n            onEntered: onEntered\n          },\n          child\n        );\n      }\n\n      // This goes after everything else because it adds a wrapping div.\n      if (rootClose) {\n        child = _react2.default.createElement(\n          _RootCloseWrapper2.default,\n          { onRootClose: props.onHide },\n          child\n        );\n      }\n\n      return _react2.default.createElement(\n        _Portal2.default,\n        { container: container },\n        child\n      );\n    }\n  }, {\n    key: 'handleHidden',\n    value: function handleHidden() {\n      this.setState({ exited: true });\n\n      if (this.props.onExited) {\n        var _props2;\n\n        (_props2 = this.props).onExited.apply(_props2, arguments);\n      }\n    }\n  }]);\n\n  return Overlay;\n}(_react2.default.Component);\n\nOverlay.propTypes = _extends({}, _Portal2.default.propTypes, _Position2.default.propTypes, {\n\n  /**\n   * Set the visibility of the Overlay\n   */\n  show: _react2.default.PropTypes.bool,\n\n  /**\n   * Specify whether the overlay should trigger `onHide` when the user clicks outside the overlay\n   */\n  rootClose: _react2.default.PropTypes.bool,\n\n  /**\n   * A Callback fired by the Overlay when it wishes to be hidden.\n   *\n   * __required__ when `rootClose` is `true`.\n   *\n   * @type func\n   */\n  onHide: function onHide(props, name, cname) {\n    var pt = _react2.default.PropTypes.func;\n\n    if (props.rootClose) pt = pt.isRequired;\n    return pt(props, name, cname);\n  },\n\n\n  /**\n   * A `<Transition/>` component used to animate the overlay changes visibility.\n   */\n  transition: _elementType2.default,\n\n  /**\n   * Callback fired before the Overlay transitions in\n   */\n  onEnter: _react2.default.PropTypes.func,\n\n  /**\n   * Callback fired as the Overlay begins to transition in\n   */\n  onEntering: _react2.default.PropTypes.func,\n\n  /**\n   * Callback fired after the Overlay finishes transitioning in\n   */\n  onEntered: _react2.default.PropTypes.func,\n\n  /**\n   * Callback fired right before the Overlay transitions out\n   */\n  onExit: _react2.default.PropTypes.func,\n\n  /**\n   * Callback fired as the Overlay begins to transition out\n   */\n  onExiting: _react2.default.PropTypes.func,\n\n  /**\n   * Callback fired after the Overlay finishes transitioning out\n   */\n  onExited: _react2.default.PropTypes.func\n});\n\nexports.default = Overlay;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Overlay.js\n ** module id = 891\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _mountable = require('react-prop-types/lib/mountable');\n\nvar _mountable2 = _interopRequireDefault(_mountable);\n\nvar _calculatePosition = require('./utils/calculatePosition');\n\nvar _calculatePosition2 = _interopRequireDefault(_calculatePosition);\n\nvar _getContainer = require('./utils/getContainer');\n\nvar _getContainer2 = _interopRequireDefault(_getContainer);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The Position component calculates the coordinates for its child, to position\n * it relative to a `target` component or node. Useful for creating callouts\n * and tooltips, the Position component injects a `style` props with `left` and\n * `top` values for positioning your component.\n *\n * It also injects \"arrow\" `left`, and `top` values for styling callout arrows\n * for giving your components a sense of directionality.\n */\n\nvar Position = function (_React$Component) {\n  _inherits(Position, _React$Component);\n\n  function Position(props, context) {\n    _classCallCheck(this, Position);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Position).call(this, props, context));\n\n    _this.state = {\n      positionLeft: 0,\n      positionTop: 0,\n      arrowOffsetLeft: null,\n      arrowOffsetTop: null\n    };\n\n    _this._needsFlush = false;\n    _this._lastTarget = null;\n    return _this;\n  }\n\n  _createClass(Position, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.updatePosition(this.getTarget());\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      this._needsFlush = true;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this._needsFlush) {\n        this._needsFlush = false;\n        this.maybeUpdatePosition(this.props.placement !== prevProps.placement);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var children = _props.children;\n      var className = _props.className;\n\n      var props = _objectWithoutProperties(_props, ['children', 'className']);\n\n      var _state = this.state;\n      var positionLeft = _state.positionLeft;\n      var positionTop = _state.positionTop;\n\n      var arrowPosition = _objectWithoutProperties(_state, ['positionLeft', 'positionTop']);\n\n      // These should not be forwarded to the child.\n\n\n      delete props.target;\n      delete props.container;\n      delete props.containerPadding;\n      delete props.shouldUpdatePosition;\n\n      var child = _react2.default.Children.only(children);\n      return (0, _react.cloneElement)(child, _extends({}, props, arrowPosition, {\n        // FIXME: Don't forward `positionLeft` and `positionTop` via both props\n        // and `props.style`.\n        positionLeft: positionLeft,\n        positionTop: positionTop,\n        className: (0, _classnames2.default)(className, child.props.className),\n        style: _extends({}, child.props.style, {\n          left: positionLeft,\n          top: positionTop\n        })\n      }));\n    }\n  }, {\n    key: 'getTarget',\n    value: function getTarget() {\n      var target = this.props.target;\n\n      var targetElement = typeof target === 'function' ? target() : target;\n      return targetElement && _reactDom2.default.findDOMNode(targetElement) || null;\n    }\n  }, {\n    key: 'maybeUpdatePosition',\n    value: function maybeUpdatePosition(placementChanged) {\n      var target = this.getTarget();\n\n      if (!this.props.shouldUpdatePosition && target === this._lastTarget && !placementChanged) {\n        return;\n      }\n\n      this.updatePosition(target);\n    }\n  }, {\n    key: 'updatePosition',\n    value: function updatePosition(target) {\n      this._lastTarget = target;\n\n      if (!target) {\n        this.setState({\n          positionLeft: 0,\n          positionTop: 0,\n          arrowOffsetLeft: null,\n          arrowOffsetTop: null\n        });\n\n        return;\n      }\n\n      var overlay = _reactDom2.default.findDOMNode(this);\n      var container = (0, _getContainer2.default)(this.props.container, (0, _ownerDocument2.default)(this).body);\n\n      this.setState((0, _calculatePosition2.default)(this.props.placement, overlay, target, container, this.props.containerPadding));\n    }\n  }]);\n\n  return Position;\n}(_react2.default.Component);\n\nPosition.propTypes = {\n  /**\n   * A node, element, or function that returns either. The child will be\n   * be positioned next to the `target` specified.\n   */\n  target: _react2.default.PropTypes.oneOfType([_mountable2.default, _react2.default.PropTypes.func]),\n\n  /**\n   * \"offsetParent\" of the component\n   */\n  container: _react2.default.PropTypes.oneOfType([_mountable2.default, _react2.default.PropTypes.func]),\n  /**\n   * Minimum spacing in pixels between container border and component border\n   */\n  containerPadding: _react2.default.PropTypes.number,\n  /**\n   * How to position the component relative to the target\n   */\n  placement: _react2.default.PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\n  /**\n   * Whether the position should be changed on each update\n   */\n  shouldUpdatePosition: _react2.default.PropTypes.bool\n};\n\nPosition.displayName = 'Position';\n\nPosition.defaultProps = {\n  containerPadding: 0,\n  placement: 'right',\n  shouldUpdatePosition: false\n};\n\nexports.default = Position;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/Position.js\n ** module id = 892\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = calculatePosition;\n\nvar _offset = require('dom-helpers/query/offset');\n\nvar _offset2 = _interopRequireDefault(_offset);\n\nvar _position = require('dom-helpers/query/position');\n\nvar _position2 = _interopRequireDefault(_position);\n\nvar _scrollTop = require('dom-helpers/query/scrollTop');\n\nvar _scrollTop2 = _interopRequireDefault(_scrollTop);\n\nvar _ownerDocument = require('./ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getContainerDimensions(containerNode) {\n  var width = void 0,\n      height = void 0,\n      scroll = void 0;\n\n  if (containerNode.tagName === 'BODY') {\n    width = window.innerWidth;\n    height = window.innerHeight;\n\n    scroll = (0, _scrollTop2.default)((0, _ownerDocument2.default)(containerNode).documentElement) || (0, _scrollTop2.default)(containerNode);\n  } else {\n    var _getOffset = (0, _offset2.default)(containerNode);\n\n    width = _getOffset.width;\n    height = _getOffset.height;\n\n    scroll = (0, _scrollTop2.default)(containerNode);\n  }\n\n  return { width: width, height: height, scroll: scroll };\n}\n\nfunction getTopDelta(top, overlayHeight, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerScroll = containerDimensions.scroll;\n  var containerHeight = containerDimensions.height;\n\n  var topEdgeOffset = top - padding - containerScroll;\n  var bottomEdgeOffset = top + padding - containerScroll + overlayHeight;\n\n  if (topEdgeOffset < 0) {\n    return -topEdgeOffset;\n  } else if (bottomEdgeOffset > containerHeight) {\n    return containerHeight - bottomEdgeOffset;\n  } else {\n    return 0;\n  }\n}\n\nfunction getLeftDelta(left, overlayWidth, container, padding) {\n  var containerDimensions = getContainerDimensions(container);\n  var containerWidth = containerDimensions.width;\n\n  var leftEdgeOffset = left - padding;\n  var rightEdgeOffset = left + padding + overlayWidth;\n\n  if (leftEdgeOffset < 0) {\n    return -leftEdgeOffset;\n  } else if (rightEdgeOffset > containerWidth) {\n    return containerWidth - rightEdgeOffset;\n  }\n\n  return 0;\n}\n\nfunction calculatePosition(placement, overlayNode, target, container, padding) {\n  var childOffset = container.tagName === 'BODY' ? (0, _offset2.default)(target) : (0, _position2.default)(target, container);\n\n  var _getOffset2 = (0, _offset2.default)(overlayNode);\n\n  var overlayHeight = _getOffset2.height;\n  var overlayWidth = _getOffset2.width;\n\n\n  var positionLeft = void 0,\n      positionTop = void 0,\n      arrowOffsetLeft = void 0,\n      arrowOffsetTop = void 0;\n\n  if (placement === 'left' || placement === 'right') {\n    positionTop = childOffset.top + (childOffset.height - overlayHeight) / 2;\n\n    if (placement === 'left') {\n      positionLeft = childOffset.left - overlayWidth;\n    } else {\n      positionLeft = childOffset.left + childOffset.width;\n    }\n\n    var topDelta = getTopDelta(positionTop, overlayHeight, container, padding);\n\n    positionTop += topDelta;\n    arrowOffsetTop = 50 * (1 - 2 * topDelta / overlayHeight) + '%';\n    arrowOffsetLeft = void 0;\n  } else if (placement === 'top' || placement === 'bottom') {\n    positionLeft = childOffset.left + (childOffset.width - overlayWidth) / 2;\n\n    if (placement === 'top') {\n      positionTop = childOffset.top - overlayHeight;\n    } else {\n      positionTop = childOffset.top + childOffset.height;\n    }\n\n    var leftDelta = getLeftDelta(positionLeft, overlayWidth, container, padding);\n\n    positionLeft += leftDelta;\n    arrowOffsetLeft = 50 * (1 - 2 * leftDelta / overlayWidth) + '%';\n    arrowOffsetTop = void 0;\n  } else {\n    throw new Error('calcOverlayPosition(): No such placement of \"' + placement + '\" found.');\n  }\n\n  return { positionLeft: positionLeft, positionTop: positionTop, arrowOffsetLeft: arrowOffsetLeft, arrowOffsetTop: arrowOffsetTop };\n}\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/calculatePosition.js\n ** module id = 893\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _addEventListener = require('./utils/addEventListener');\n\nvar _addEventListener2 = _interopRequireDefault(_addEventListener);\n\nvar _createChainedFunction = require('./utils/createChainedFunction');\n\nvar _createChainedFunction2 = _interopRequireDefault(_createChainedFunction);\n\nvar _ownerDocument = require('./utils/ownerDocument');\n\nvar _ownerDocument2 = _interopRequireDefault(_ownerDocument);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// TODO: Consider using an ES6 symbol here, once we use babel-runtime.\nvar CLICK_WAS_INSIDE = '__click_was_inside';\n\nvar counter = 0;\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nfunction getSuppressRootClose() {\n  var id = CLICK_WAS_INSIDE + '_' + counter++;\n  return {\n    id: id,\n    suppressRootClose: function suppressRootClose(event) {\n      // Tag the native event to prevent the root close logic on document click.\n      // This seems safer than using event.nativeEvent.stopImmediatePropagation(),\n      // which is only supported in IE >= 9.\n      event.nativeEvent[id] = true;\n    }\n  };\n}\n\nvar RootCloseWrapper = function (_React$Component) {\n  _inherits(RootCloseWrapper, _React$Component);\n\n  function RootCloseWrapper(props) {\n    _classCallCheck(this, RootCloseWrapper);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(RootCloseWrapper).call(this, props));\n\n    _this.handleDocumentMouse = _this.handleDocumentMouse.bind(_this);\n    _this.handleDocumentKeyUp = _this.handleDocumentKeyUp.bind(_this);\n\n    var _getSuppressRootClose = getSuppressRootClose();\n\n    var id = _getSuppressRootClose.id;\n    var suppressRootClose = _getSuppressRootClose.suppressRootClose;\n\n\n    _this._suppressRootId = id;\n\n    _this._suppressRootCloseHandler = suppressRootClose;\n    return _this;\n  }\n\n  _createClass(RootCloseWrapper, [{\n    key: 'bindRootCloseHandlers',\n    value: function bindRootCloseHandlers() {\n      var doc = (0, _ownerDocument2.default)(this);\n\n      this._onDocumentMouseListener = (0, _addEventListener2.default)(doc, this.props.event, this.handleDocumentMouse);\n\n      this._onDocumentKeyupListener = (0, _addEventListener2.default)(doc, 'keyup', this.handleDocumentKeyUp);\n    }\n  }, {\n    key: 'handleDocumentMouse',\n    value: function handleDocumentMouse(e) {\n      // This is now the native event.\n      if (e[this._suppressRootId]) {\n        return;\n      }\n\n      if (this.props.disabled || isModifiedEvent(e) || !isLeftClickEvent(e)) {\n        return;\n      }\n\n      this.props.onRootClose && this.props.onRootClose();\n    }\n  }, {\n    key: 'handleDocumentKeyUp',\n    value: function handleDocumentKeyUp(e) {\n      if (e.keyCode === 27 && this.props.onRootClose) {\n        this.props.onRootClose();\n      }\n    }\n  }, {\n    key: 'unbindRootCloseHandlers',\n    value: function unbindRootCloseHandlers() {\n      if (this._onDocumentMouseListener) {\n        this._onDocumentMouseListener.remove();\n      }\n\n      if (this._onDocumentKeyupListener) {\n        this._onDocumentKeyupListener.remove();\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.bindRootCloseHandlers();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props;\n      var event = _props.event;\n      var noWrap = _props.noWrap;\n      var children = _props.children;\n\n      var child = _react2.default.Children.only(children);\n\n      var handlerName = event == 'click' ? 'onClick' : 'onMouseDown';\n\n      if (noWrap) {\n        return _react2.default.cloneElement(child, _defineProperty({}, handlerName, (0, _createChainedFunction2.default)(this._suppressRootCloseHandler, child.props[handlerName])));\n      }\n\n      // Wrap the child in a new element, so the child won't have to handle\n      // potentially combining multiple onClick listeners.\n      return _react2.default.createElement(\n        'div',\n        _defineProperty({}, handlerName, this._suppressRootCloseHandler),\n        child\n      );\n    }\n  }, {\n    key: 'getWrappedDOMNode',\n    value: function getWrappedDOMNode() {\n      // We can't use a ref to identify the wrapped child, since we might be\n      // stealing the ref from the owner, but we know exactly the DOM structure\n      // that will be rendered, so we can just do this to get the child's DOM\n      // node for doing size calculations in OverlayMixin.\n      var node = _reactDom2.default.findDOMNode(this);\n      return this.props.noWrap ? node : node.firstChild;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.unbindRootCloseHandlers();\n    }\n  }]);\n\n  return RootCloseWrapper;\n}(_react2.default.Component);\n\nexports.default = RootCloseWrapper;\n\n\nRootCloseWrapper.displayName = 'RootCloseWrapper';\n\nRootCloseWrapper.propTypes = {\n  onRootClose: _react2.default.PropTypes.func,\n\n  /**\n   * Disable the the RootCloseWrapper, preventing it from triggering\n   * `onRootClose`.\n   */\n  disabled: _react2.default.PropTypes.bool,\n  /**\n   * Passes the suppress click handler directly to the child component instead\n   * of placing it on a wrapping div. Only use when you can be sure the child\n   * properly handle the click event.\n   */\n  noWrap: _react2.default.PropTypes.bool,\n  /**\n   * Choose which document mouse event to bind to\n   */\n  event: _react2.default.PropTypes.oneOf(['click', 'mousedown'])\n};\n\nRootCloseWrapper.defaultProps = {\n  event: 'click'\n};\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/RootCloseWrapper.js\n ** module id = 899\n ** module chunks = 1 3\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Safe chained function\n *\n * Will only create a new function if needed,\n * otherwise will pass back existing functions or null.\n *\n * @param {function} functions to chain\n * @returns {function|null}\n */\nfunction createChainedFunction() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  return funcs.filter(function (f) {\n    return f != null;\n  }).reduce(function (acc, f) {\n    if (typeof f !== 'function') {\n      throw new Error('Invalid Argument Type, must only provide functions, undefined, or null.');\n    }\n\n    if (acc === null) {\n      return f;\n    }\n\n    return function chainedFunction() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      acc.apply(this, args);\n      f.apply(this, args);\n    };\n  }, null);\n}\n\nexports.default = createChainedFunction;\nmodule.exports = exports['default'];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/download-profiles-button/~/react-bootstrap/~/react-overlays/lib/utils/createChainedFunction.js\n ** module id = 900\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\nvar BlueprintText = React.createClass({\n    render: function() {\n        return (\n            <div>\n                <meta charSet=\"UTF-8\" />\n                <title>The Blueprint project Data Reuse statement</title>\n                <h3>The Blueprint project Data Reuse statement</h3>\n                <br />\n                <p>This document refers to the reuse of data generated by the EC funded FP7 High Impact Project, Blueprint.</p>\n                <p>Blueprint regularly released analysis results via its ftp site and makes the raw sequence data available through the sequence archives at the EMBL-EBI. Much Blueprint data is generated from samples whose data must be released through a managed access process. For these data sets external users must apply for permission to access the data from the European Genome-phenome Archive (EGA) through the Blueprint Data Access Committee.\n                    <br />\n                    The Blueprint consortium expects this data to be valuable to other researchers and in keeping with Fort Lauderdale principles data users may use the data for many studies, but are expected to allow the data producers to make the first presentations and to publish the first paper with global analyses of the data.\n                </p>\n                <h5>Global analyses of Project data</h5>\n                <p>\n                    Blueprint plans to publish global analyses of the sequencing data, epigenetic marks, expression levels and variation both in the context of normal hematopoietic cells and of those neoplastic and non-neoplastic diseases studied within th econsortium. Talks, posters, and papers on all such analyses are to be published first by the Blueprint project, by approved presenters on behalf of the Project, with the Project as author. When the first major Project paper on these analyses is published, then researchers inside and outside the Project are free to present and publish using the Project data for these and other analyses.\n                </p>\n                <h5>Large-scale analyses of Project data</h5>\n                <p>\n                    Groups within the Project may make presentations and publish papers on more extensive analyses of topics to be included in the main analysis presentations and papers, coincident with the main project analysis presentations and papers. The major points would be included in the main Project presentations and papers, but these additional presentations and papers allow more focused discussion of methods and results. The author list would include the Consortium.\n                </p>\n                <h5>Methods development using Project data</h5>\n                <p>\n                    Researchers who have used small amounts of Project data (&lt;= one chromosome) may present methods development posters, talks, and papers that include these data prior to the first major Project paper, without needing Project approval or authorship, although the Project should be acknowledged. Methods presentations or papers on global analyses or analyses using large amounts of Project data, on topics that the Consortium plans to examine, would be similar to large-scale analyses of Project data: researchers within the Project may make presentations or submit papers at the same time as the main Project presentations and papers, and others could do so after the Project publishes the first major analysis paper.\n                </p>\n                <h5>Disease studies using Project data</h5>\n                <p>\n                    Researchers may present and publish on use of Project data in specific chromosome regions (that are not of general interest) or as summaries (such as number of differentially expressed genes in cell types assayed by Blueprint) for studies on diseases not studied by BLUEPRINT without Project approval, prior to the first major Project paper being published. The Project should not be listed as an author.\n                </p>\n                <h5>Authors who use data from the project must acknowledge Blueprint using the following wording</h5>\n                <p>\n                    This study makes use of data generated by the Blueprint Consortium. A full list of the investigators who contributed to the generation of the data is available from www.blueprint-epigenome.eu. Funding for the project was provided by the European Union's Seventh Framework Programme (FP7/2007-2013) under grant agreement no 282510 BLUEPRINT.\n                </p>\n            </div>\n        );\n    }\n});\n\nmodule.exports = BlueprintText;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/download-profiles-button/src/BlueprintText.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/HeatmapBaselineCellVariance.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/heatmap-baseline-cell-variance/index.js\n ** module id = 915\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar Highcharts = require('react-highcharts');\nrequire('highcharts-more')(Highcharts.Highcharts);\n\n//*------------------------------------------------------------------*\n\nvar HeatmapBaselineCellVariance = React.createClass({\n\n    propTypes: {\n        quartiles: React.PropTypes.shape({\n            min: React.PropTypes.number,\n            lower: React.PropTypes.number,\n            median: React.PropTypes.number,\n            upper: React.PropTypes.number,\n            max: React.PropTypes.number\n        }).isRequired\n    },\n\n    render: function () {\n\n        var chartWidth = 115;\n        var chartHeight = 105;\n        var chartMargin = 0;\n\n        var highchartsOptions = {\n            credits: { enabled: false },\n            chart:   { type: \"boxplot\", width: chartWidth, height: chartHeight, margin: chartMargin},\n            title:   { text: \"\" },\n            legend:  { enabled: false },\n            xAxis:   { title: { text: \"Variance\" } },\n            yAxis:   {\n                title: { text: \"Expression level\" },\n                labels: {\n                    align: \"left\",\n                    x: 0,\n                    y: -2\n                }\n            },\n            plotOptions: {\n                boxplot: {\n                    fillColor: \"#F0F0E0\",\n                    lineWidth: 2,\n                    medianColor: \"#0C5DA5\",\n                    medianWidth: 3,\n                    stemColor: \"#A63400\",\n                    stemDashStyle: \"dot\",\n                    stemWidth: 1,\n                    whiskerColor: \"#3D9200\",\n                    whiskerLength: \"20%\",\n                    whiskerWidth: 3\n                }\n            },\n            series: [{\n                name: \"Expression\",\n                data: [\n                    [this.props.quartiles.min, this.props.quartiles.lower, this.props.quartiles.median, this.props.quartiles.upper, this.props.quartiles.max]\n                ]\n            }],\n            tooltip: {\n                headerFormat: \"\",\n                style:{\n                    fontSize: \"10px\",\n                    padding: 5\n                }\n            }\n        };\n\n        var boxPlotStyle = {width: chartWidth, height: chartHeight, margin: chartMargin};\n        return (\n            <td>\n                <div id=\"container\" ref=\"container\" style={boxPlotStyle}>\n                    <Highcharts config={highchartsOptions}/>\n                </div>\n            </td>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = HeatmapBaselineCellVariance;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/heatmap-baseline-cell-variance/src/HeatmapBaselineCellVariance.jsx\n **/","!function(r,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\"),require(\"highcharts\")):\"function\"==typeof define&&define.amd?define([\"react\",\"highcharts\"],t):\"object\"==typeof exports?exports.ReactHighcharts=t(require(\"react\"),require(\"highcharts\")):r.ReactHighcharts=t(r.React,r.Highcharts)}(this,function(r,t){return function(r){function t(o){if(e[o])return e[o].exports;var n=e[o]={exports:{},id:o,loaded:!1};return r[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var e={};return t.m=r,t.c=e,t.p=\"\",t(0)}([function(r,t,e){r.exports=e(3)},function(t,e){t.exports=r},function(r,t,e){(function(t){\"use strict\";function o(r,t){var e={};for(var o in r)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}var n=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},i=e(1),c=\"undefined\"==typeof t?window:t;r.exports=function(t,e){var a=\"Highcharts\"+t,s=i.createClass({displayName:a,propTypes:{config:i.PropTypes.object.isRequired,isPureConfig:i.PropTypes.bool,neverReflow:i.PropTypes.bool,callback:i.PropTypes.func},defaultProps:{callback:function(){}},renderChart:function(r){var o=this;if(!r)throw new Error(\"Config must be specified for the \"+a+\" component\");var i=r.chart;this.chart=new e[t](n({},r,{chart:n({},i,{renderTo:this.refs.chart})}),this.props.callback),this.props.neverReflow||c.requestAnimationFrame&&requestAnimationFrame(function(){o.chart&&o.chart.options&&o.chart.reflow()})},shouldComponentUpdate:function(r){return r.neverReflow||r.isPureConfig&&this.props.config===r.config?!0:(this.renderChart(r.config),!1)},getChart:function(){if(!this.chart)throw new Error(\"getChart() should not be called before the component is mounted\");return this.chart},componentDidMount:function(){this.renderChart(this.props.config)},componentWillUnmount:function(){this.chart.destroy()},render:function(){var r=this.props,t=(r.callback,r.config,r.isPureConfig,r.neverReflow,o(r,[\"callback\",\"config\",\"isPureConfig\",\"neverReflow\"]));return t=n({},t,{ref:\"chart\"}),i.createElement(\"div\",t)}});return s.Highcharts=e,s.withHighcharts=function(e){return r.exports(t,e)},s}}).call(t,function(){return this}())},function(r,t,e){\"use strict\";r.exports=e(2)(\"Chart\",e(4))},function(r,e){r.exports=t}])});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/heatmap-baseline-cell-variance/~/react-highcharts/dist/ReactHighcharts.js\n ** module id = 917\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nexports.LegendDifferential = require('./src/LegendDifferential.jsx');\nexports.LegendBaseline = require('./src/LegendBaseline.jsx');\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/legend/index.js\n ** module id = 920\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar HelpTooltips = require('help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendDifferential = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minDownLevel: React.PropTypes.string.isRequired,\n        maxDownLevel: React.PropTypes.string.isRequired,\n        minUpLevel: React.PropTypes.string.isRequired,\n        maxUpLevel: React.PropTypes.string.isRequired\n    },\n\n    render: function () {\n        return (\n            <div className=\"gxaLegend\">\n                <div style={{display: \"inline-table\"}}>\n                    {isNaN(this.props.minDownLevel) && isNaN(this.props.maxDownLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={this.props.minDownLevel}\n                                   highExpressionLevel={this.props.maxDownLevel}\n                                   lowValueColour=\"#C0C0C0\"\n                                   highValueColour=\"#0000FF\"/>\n                    }\n                    {isNaN(this.props.minUpLevel) && isNaN(this.props.maxUpLevel) ?\n                        null :\n                        <LegendRow lowExpressionLevel={this.props.minUpLevel}\n                                   highExpressionLevel={this.props.maxUpLevel}\n                                   lowValueColour=\"#FFAFAF\"\n                                   highValueColour=\"#FF0000\"/>\n                    }\n                </div>\n                <div ref=\"legendHelp\" data-help-loc=\"#gradient-differential\" className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendDifferential;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/legend/src/LegendDifferential.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaGradient.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = React.createClass({\n\n    propTypes: {\n        lowValueColour: React.PropTypes.string.isRequired,\n        highValueColour: React.PropTypes.string.isRequired,\n        lowExpressionLevel: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]).isRequired,    // Baseline legend rows can be a React <span> element returned by NumberFormat\n        highExpressionLevel: React.PropTypes.oneOfType([React.PropTypes.string, React.PropTypes.element]).isRequired\n    },\n\n    render: function () {\n        var BACKGROUND_IMAGE_TEMPLATE = \"-webkit-gradient(linear, left top, right top,color-stop(0, ${lowValueColour}), color-stop(1, ${highValueColour}));background-image: -moz-linear-gradient(left, ${lowValueColour}, ${highValueColour});background-image: -ms-linear-gradient(left, ${lowValueColour}, ${highValueColour}); background-image: -o-linear-gradient(left, ${lowValueColour}, ${highValueColour})\";\n        var backgroundImage = BACKGROUND_IMAGE_TEMPLATE.replace(/\\${lowValueColour}/g, this.props.lowValueColour).replace(/\\${highValueColour}/g, this.props.highValueColour);\n\n        // for IE9\n        var LT_IE10_FILTER_TEMPLATE = \"progid:DXImageTransform.Microsoft.Gradient(GradientType =1,startColorstr=${lowValueColour},endColorstr=${highValueColour})\";\n        var lt_ie10_filter = LT_IE10_FILTER_TEMPLATE.replace(/\\${lowValueColour}/, this.props.lowValueColour).replace(/\\${highValueColour}/, this.props.highValueColour);\n\n        return (\n            <div style={{display: \"table-row\"}}>\n                <div className=\"gxaGradientLevel gxaGradientLevelMin\">{this.props.lowExpressionLevel}</div>\n                <div style={{display: \"table-cell\"}}>\n                    <span className=\"gxaGradientColour\" style={{backgroundImage: backgroundImage, filter: lt_ie10_filter}} />\n                </div>\n                <div className=\"gxaGradientLevel gxaGradientLevelMax\">{this.props.highExpressionLevel}</div>\n            </div>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendRow;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/legend/src/LegendRow.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaGradient.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaGradient.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/legend/src/gxaGradient.css\n ** module id = 923\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGradientColour {\\n    overflow: auto;\\n    vertical-align: middle;\\n    width: 200px;\\n    height: 15px;\\n    margin: 2px 6px 2px 6px;\\n    display: inline-block;\\n}\\n\\n.gxaGradientLevel {\\n    white-space: nowrap;\\n    font-size: 10px;\\n    vertical-align: middle;\\n    display: table-cell;\\n}\\n\\n.gxaGradientLevelMin {\\n    text-align: right;\\n}\\n\\n.gxaGradientLevelMax {\\n    text-align: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/legend/src/gxaGradient.css\n ** module id = 924\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/helpTooltipsModule.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/help-tooltips/index.js\n ** module id = 925\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\nrequire('jQuery-ajaxTransport-XDomainRequest');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaHelpTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction buildHelpAnchor() {\n    return $(\"<a/>\", {\n        class: \"help-icon\",\n        href: \"#\",\n        title: \"\",\n        text: \"?\"\n    });\n}\n\nfunction getHelpFileName(pageName){\n    return \"help-tooltips.\" + pageName + \"-page.html\";\n}\n\nfunction initTooltips(atlasBaseURL, pageName, parentElementId) {\n\n    var anchor = buildHelpAnchor();\n\n    var helpSelector = (typeof parentElementId === \"object\") ? parentElementId : (parentElementId == \"\") ? \"[data-help-loc]\" : \"#\" + parentElementId + \" [data-help-loc]\";\n\n    $(helpSelector)\n        .append(anchor)\n        .click(function (e) {\n            e.preventDefault();\n        })\n        .tooltip(\n        {\n            tooltipClass: \"gxaHelpTooltip\",\n            content: function (callback) {\n                var tooltipHelpHtmlId = $(this).parent().attr(\"data-help-loc\");\n\n                $.get(atlasBaseURL + \"/resources/html/\" + getHelpFileName(pageName),\n                    function (response, status, xhr) {\n                        var tooltipContent;\n\n                        if (status === \"error\") {\n                            tooltipContent = \"Sorry but there was an error: \" + xhr.status + \" \" + xhr.statusText;\n                            callback(tooltipContent);\n                            return;\n                        }\n\n                        tooltipContent = $(response).filter(tooltipHelpHtmlId).text();\n                        if (!tooltipContent) {\n                            tooltipContent = \"Missing help section for id = \" + tooltipHelpHtmlId + \" in html file \" + getHelpFileName(pageName);\n                        }\n\n                        callback(tooltipContent);\n                    }\n                );\n            }\n        }\n    );\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (atlasBaseURL, pageName, parentElementId) {\n    initTooltips(atlasBaseURL, pageName, parentElementId);\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/help-tooltips/src/helpTooltipsModule.js\n ** module id = 926\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaHelpTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/help-tooltips/src/gxaHelpTooltip.css\n ** module id = 928\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHelpTooltip {\\n    background: white;\\n    border-width: 1px !important;\\n    border: solid cornflowerblue;\\n    padding: 4px;\\n    color: cornflowerblue;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\na.help-icon {\\n    color: darkorange;\\n    vertical-align: top;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    font-weight: bold;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/help-tooltips/src/gxaHelpTooltip.css\n ** module id = 929\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaLegend.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaLegend.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/legend/src/gxaLegend.css\n ** module id = 930\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaLegendHelp {\\n    display: inline-block;\\n    vertical-align: top;\\n    padding-left: 2px;\\n}\\n\\n.gxaLegend {\\n    display: inline-block;\\n    padding-left: 20px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/legend/src/gxaLegend.css\n ** module id = 931\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\n//*------------------------------------------------------------------*\n\nvar LegendRow = require('./LegendRow.jsx');\nvar NumberFormat = require('number-format');\nvar HelpTooltips = require('help-tooltips');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaLegend.css');\n\n//*------------------------------------------------------------------*\n\nvar LegendBaseline = React.createClass({\n\n    propTypes: {\n        atlasBaseURL: React.PropTypes.string.isRequired,\n        minExpressionLevel: React.PropTypes.string.isRequired,\n        maxExpressionLevel: React.PropTypes.string.isRequired,\n        isMultiExperiment: React.PropTypes.bool.isRequired\n    },\n\n    render: function () {\n        var dataHelpLoc = this.props.isMultiExperiment ? \"#gradient-base-crossexp\" : \"#gradient-base\";\n\n        // The class gxaHeatmapLegendGradient is used for Selenium tests but isn’t styled\n        return (\n            <div className=\"gxaHeatmapLegendGradient\">\n                <div style={{display: \"inline-table\"}}>\n                    <LegendRow lowExpressionLevel={NumberFormat.baselineExpression(this.props.minExpressionLevel)}\n                               highExpressionLevel={NumberFormat.baselineExpression(this.props.maxExpressionLevel)}\n                               lowValueColour=\"#C0C0C0\"\n                               highValueColour=\"#0000FF\"/>\n                </div>\n                <div ref=\"legendHelp\" data-help-loc={dataHelpLoc} className=\"gxaLegendHelp\"></div>\n            </div>\n        );\n    },\n\n    componentDidMount: function () {\n        HelpTooltips(this.props.atlasBaseURL, \"experiment\", ReactDOM.findDOMNode(this.refs.legendHelp));\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = LegendBaseline;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/legend/src/LegendBaseline.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/NumberFormat.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/number-format/index.js\n ** module id = 933\n ** module chunks = 1 3\n **/","\"use strict\";\n\nvar React = require('react');   // React is called in the transpiled JS files in the return statements\n\n//*------------------------------------------------------------------*\n\nfunction formatBaselineExpression(expressionLevel) {\n    var numberExpressionLevel = +expressionLevel;\n    return (numberExpressionLevel >= 100000 || numberExpressionLevel < 0.1) ? formatScientificNotation(numberExpressionLevel.toExponential(1).replace('+','')) : '' + numberExpressionLevel;\n}\n\n// expects number in the format #E# and displays exponent in superscript\nfunction formatScientificNotation(scientificNotationString) {\n\n    var formatParts = scientificNotationString.split(/[Ee]/);\n\n    if (formatParts.length == 1) {\n        return (\n            <span>{scientificNotationString}</span>\n        );\n    }\n\n    var mantissa = formatParts[0];\n    var exponent = formatParts[1];\n\n    return (\n        <span>\n            {(mantissa !== \"1\") ? mantissa + \" \\u00D7 \" : ''}10<span style={{'verticalAlign': 'super'}}>{exponent}</span>\n        </span>\n    );\n}\n\n//*------------------------------------------------------------------*\n\nexports.baselineExpression = formatBaselineExpression;\nexports.scientificNotation = formatScientificNotation;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/number-format/src/NumberFormat.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/CellDifferential.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/cell-differential/index.js\n ** module id = 935\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\nvar ReactDOMServer = require('react-dom/server');\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar NumberFormat = require('number-format');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaShowHideCell.css');\nrequire('./gxaDifferentialCellTooltip.css');\n\n//*------------------------------------------------------------------*\n\nvar CellDifferential = React.createClass({\n\n    propTypes: {\n        fontSize: React.PropTypes.number,\n        colour: React.PropTypes.string,\n        foldChange: React.PropTypes.string,\n        pValue: React.PropTypes.string,\n        tStat: React.PropTypes.string,\n        displayLevels: React.PropTypes.bool.isRequired\n    },\n\n    _hasValue: function () {\n        return (this.props.foldChange !== undefined);\n    },\n\n    _getStyle: function() {\n        var style = {};\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize + \"px\";\n        }\n\n        return style;\n    },\n\n    render: function () {\n        if (!this._hasValue()) {\n            return (<td/>);\n        }\n\n        return (\n            <td style={{backgroundColor: this.props.colour, verticalAlign: \"middle\"}}>\n                <div style={this._getStyle()} className={this.props.displayLevels ? \"gxaShowCell\" : \"gxaHideCell\"}>\n                    {this.props.foldChange}\n                </div>\n            </td>\n        );\n    },\n\n    componentDidMount: function () {\n        if (this._hasValue()) {\n            this._initTooltip(ReactDOM.findDOMNode(this));\n        }\n    },\n\n    _initTooltip: function(element) {\n\n        //TODO - build this from a React component, like we do for FactorTooltip\n        function buildHeatmapCellTooltip (pValue, tStatistic, foldChange) {\n\n            return \"<table>\" +\n                       \"<thead>\" +\n                           (pValue !== undefined ?\n                               \"<th>Adjusted <em>p</em>-value</th>\" : \"\") +\n                           (tStatistic !== undefined ?\n                               \"<th><em>t</em>-statistic</th>\" : \"\") +\n                           \"<th class='gxaHeaderCell'>Log<sub>2</sub>-fold change</th>\" +\n                       \"</thead>\" +\n                       \"<tbody>\" +\n                           \"<tr>\" +\n                               (pValue !== undefined ?\n                                   \"<td>\" + ReactDOMServer.renderToStaticMarkup(NumberFormat.scientificNotation(pValue)) + \"</td>\" : \"\") +\n                               (tStatistic !== undefined ?\n                                   \"<td>\" + tStatistic + \"</td>\" : \"\") +\n                               \"<td>\" + foldChange + \"</td>\" +\n                           \"</tr>\" +\n                       \"</tbody>\" +\n                   \"</table>\";\n\n        }\n\n        // Don’t use bind, tooltip uses this internally\n        var thisProps = this.props;\n\n        $(element).attr(\"title\", \"\").tooltip({\n            open: function (event, ui) {\n                ui.tooltip.css(\"background\", thisProps.colour);\n            },\n\n            tooltipClass: \"gxaDifferentialCellTooltip\",\n\n            content:function () {\n                return buildHeatmapCellTooltip(thisProps.pValue, thisProps.tStat, thisProps.foldChange);\n            }\n        });\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = CellDifferential;\n\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/cell-differential/src/CellDifferential.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaShowHideCell.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/cell-differential/src/gxaShowHideCell.css\n ** module id = 937\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaShowCell {\\n    background-color: white;\\n    white-space: nowrap;\\n    text-align: center;\\n    margin: 4px;\\n    padding: 2px;\\n}\\n\\n.gxaHideCell {\\n    display: none;\\n    visibility: hidden;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/cell-differential/src/gxaShowHideCell.css\n ** module id = 938\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaDifferentialCellTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/cell-differential/src/gxaDifferentialCellTooltip.css\n ** module id = 939\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaDifferentialCellTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n}\\n\\n.gxaDifferentialCellTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaDifferentialCellTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaDifferentialCellTooltip td, .gxaDifferentialCellTooltip th {\\n    text-align: center;\\n    white-space: nowrap;\\n    vertical-align: middle;\\n    padding: 8px;\\n    width: 25px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/cell-differential/src/gxaDifferentialCellTooltip.css\n ** module id = 940\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/DisplayLevelsButton.jsx');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/display-levels-button/index.js\n ** module id = 941\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\n\n\n//*------------------------------------------------------------------*\n\nvar DisplayLevelsButton = React.createClass({\n\n    propTypes: {\n        hideText: React.PropTypes.string.isRequired,\n        showText: React.PropTypes.string.isRequired,\n        onClickCallback: React.PropTypes.func.isRequired,\n        displayLevels: React.PropTypes.bool.isRequired,\n        width: React.PropTypes.string,\n        fontSize: React.PropTypes.string\n    },\n\n    _buttonText: function () {\n        return this.props.displayLevels ? this.props.hideText : this.props.showText;\n    },\n\n    _updateButtonText: function () {\n        $(ReactDOM.findDOMNode(this)).button({ label: this._buttonText() });\n    },\n\n    render: function () {\n        var style = {\n        };\n        if (this.props.width) {\n            style.width = this.props.width;\n        }\n        if (this.props.fontSize) {\n            style.fontSize = this.props.fontSize;\n        }\n\n        return (\n            <button style={style} onClick={this.props.onClickCallback}/>\n        );\n    },\n\n    componentDidMount: function () {\n        this._updateButtonText();\n    },\n\n    componentDidUpdate: function () {\n        this._updateButtonText();\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = DisplayLevelsButton;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/display-levels-button/src/DisplayLevelsButton.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = require('./src/contrastTooltipModule.js');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/contrast-tooltips/index.js\n ** module id = 943\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\nrequire('jQuery-ajaxTransport-XDomainRequest');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = require('./ContrastTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./gxaContrastTooltip.css');\n\n//*------------------------------------------------------------------*\n\nfunction initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId) {\n\n    $(element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaContrastTooltip\",\n\n        close: function() {\n            $(\".gxaContrastTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url:contextRoot + \"/rest/contrast-summary\",\n                data:{\n                    experimentAccession: experimentAccession,\n                    contrastId: contrastId,\n                    accessKey: accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                ContrastTooltip,\n                                {\n                                    experimentDescription: data.experimentDescription,\n                                    contrastDescription: data.contrastDescription,\n                                    testReplicates: data.testReplicates,\n                                    referenceReplicates: data.referenceReplicates,\n                                    properties: data.properties\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                console.log(\"ERROR:  \" + data);\n                callback(\"ERROR: \" + data);\n            });\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = function (contextRoot, accessKey, element, experimentAccession, contrastId) {\n    initTooltip(contextRoot, accessKey, element, experimentAccession, contrastId);\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/contrast-tooltips/src/contrastTooltipModule.js\n ** module id = 944\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar ContrastTooltip = React.createClass({\n    propTypes: {\n        experimentDescription: React.PropTypes.string.isRequired,\n        contrastDescription: React.PropTypes.string.isRequired,\n        testReplicates: React.PropTypes.number.isRequired,\n        referenceReplicates: React.PropTypes.number.isRequired,\n        properties: React.PropTypes.arrayOf(\n            React.PropTypes.shape({\n                contrastPropertyType: React.PropTypes.string,\n                propertyName: React.PropTypes.string.isRequired,\n                referenceValue: React.PropTypes.string.isRequired,\n                testValue: React.PropTypes.string.isRequired\n            })\n        )\n    },\n\n\n    propertyRow: function (property) {\n        if (!property.testValue && !property.referenceValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === \"FACTOR\";\n        }\n\n        var style = {whiteSpace: \"normal\"};\n\n        if (isFactor(property)) {\n            style.fontWeight = \"bold\";\n        } else {\n            style.color = \"gray\";\n        }\n\n        return (\n            <tr key={property.contrastPropertyType + \"-\" + property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n                <td style={style}>{property.referenceValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <div id=\"contrastExperimentDescription\" style={{fontWeight: \"bold\", color: \"blue\", textAlign: \"center\"}}>{this.props.experimentDescription}</div>\n                <div id=\"contrastDescription\" style={{textAlign: \"center\"}}>{this.props.contrastDescription}</div>\n                <table style={{padding: \"0px\", margin: \"0px\", width: \"100%\"}}>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Test value (N={this.props.testReplicates})</th>\n                            <th>Reference value (N={this.props.referenceReplicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = ContrastTooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/~/contrast-tooltips/src/ContrastTooltip.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../css-loader/index.js!./gxaContrastTooltip.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/contrast-tooltips/src/gxaContrastTooltip.css\n ** module id = 947\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../../css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaContrastTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 500px;\\n}\\n\\n.gxaContrastTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaContrastTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaContrastTooltip td {\\n    border: 1px solid lightgrey;\\n}\\n\\n.gxaContrastTooltip td, .gxaContrastTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/~/contrast-tooltips/src/gxaContrastTooltip.css\n ** module id = 948\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nrequire('./genePropertiesTooltipModule.css');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.contextRoot\n * @param {string} options.geneName\n * @param {string} options.identifier\n * @param {Object} options.element\n */\nfunction initTooltip(options){\n\n    $(options.element).attr(\"title\", \"\").tooltip({\n\n        hide: false,\n\n        show: false,\n\n        tooltipClass: \"gxaGeneNameTooltip\",\n\n        close: function() {\n            $(\".gxaGeneNameTooltip\").remove();\n        },\n\n        position: { my: \"left+10 top\", at: \"right\"},\n\n        content: function (callback) {\n            if (options.identifier)  {\n                $.ajax({\n                    url: options.contextRoot + \"/rest/genename-tooltip\",\n                    data: {\n                        geneName: options.geneName,\n                        identifier: options.identifier\n                    },\n                    type:\"GET\",\n                    success: function (response) {\n                        if (!response) {\n                            callback(\"Missing properties for id = \" + options.identifier + \" in Solr.\");\n                        }\n\n                        callback(response);\n                    }\n                }).fail(function (data) {\n                    console.log(\"ERROR:  \" + data);\n                    callback(\"ERROR: \" + data);\n                });\n            }\n        }\n\n    });\n\n}\n\n//*------------------------------------------------------------------*\n\nexports.init = function(contextRoot, element, identifier, geneName) {\n    initTooltip({contextRoot: contextRoot, element: element, identifier: identifier, geneName: geneName});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/genePropertiesTooltipModule.js\n ** module id = 949\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./genePropertiesTooltipModule.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./genePropertiesTooltipModule.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./genePropertiesTooltipModule.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/genePropertiesTooltipModule.css\n ** module id = 950\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaGeneNameTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    background: floralwhite;\\n}\\n\\nspan.gxaGenePropertyLabel {\\n    color: brown;\\n    font-weight: bold;\\n    display: inline-block;\\n    text-align: left;\\n}\\n\\n.gxaPropertyValueMarkup {\\n    text-align: center;\\n    background-color: rgb(223, 213, 213);\\n\\n}\\n\\n.gxaGeneNameTooltip {\\n    text-align: justify;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/src/genePropertiesTooltipModule.css\n ** module id = 951\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOMServer = require('react-dom/server');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar FactorTooltip = require('./FactorTooltip.jsx');\n\n//*------------------------------------------------------------------*\n\nrequire('./factorTooltipModule.css');\n\n//*------------------------------------------------------------------*\n\n/**\n * @param {Object} options\n * @param {string} options.contextRoot\n * @param {string} options.accessKey\n * @param {string} options.experimentAccession\n * @param {string} options.assayGroupId\n * @param {Object} options.element\n */\nfunction initTooltip(options) {\n\n    $(options.element).attr(\"title\", \"\").tooltip({\n\n        hide:false,\n\n        show:false,\n\n        tooltipClass: \"gxaFactorTooltip\",\n\n        close: function() {\n            $(\".gxaFactorTooltip\").remove();\n        },\n\n        content: function (callback) {\n            $.ajax({\n                url: options.contextRoot + \"/rest/assayGroup-summary\",\n                data:{\n                    experimentAccession: options.experimentAccession,\n                    assayGroupId: options.assayGroupId,\n                    accessKey: options.accessKey\n                },\n                type:\"GET\",\n                success:function (data) {\n                    var html =\n                        ReactDOMServer.renderToString(\n                            React.createElement(\n                                FactorTooltip,\n                                {\n                                    properties: data.properties,\n                                    replicates: data.replicates\n                                }\n                            )\n                        );\n                    callback(html);\n                }\n            }).fail(function (data) {\n                    console.log(\"ERROR:  \" + data);\n                    callback(\"ERROR: \" + data);\n            });\n        }\n    });\n}\n\n//*------------------------------------------------------------------*\n\nexports.init = function (contextRoot, accessKey, element, experimentAccession, assayGroupId) {\n    initTooltip({contextRoot: contextRoot, accessKey: accessKey, element: element, experimentAccession: experimentAccession, assayGroupId: assayGroupId});\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/factorTooltipModule.js\n ** module id = 952\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\n\n//*------------------------------------------------------------------*\n\nvar FactorTooltip = React.createClass({\n\n    propertyRow: function (property) {\n        if (!property.testValue) {\n            return null;\n        }\n\n        function isFactor(property) {\n            return property.contrastPropertyType === 'FACTOR';\n        }\n\n        var style = {'whiteSpace': 'normal'};\n\n        if (isFactor(property)) {\n            style['fontWeight'] = 'bold';\n        } else {\n            style['color'] = 'gray';\n        }\n\n        return (\n            <tr key={property.propertyName}>\n                <td style={style}>{property.propertyName}</td>\n                <td style={style}>{property.testValue}</td>\n            </tr>\n        );\n    },\n\n    render: function () {\n        return (\n            <div>\n                <table>\n                    <thead>\n                        <tr>\n                            <th>Property</th>\n                            <th>Value (N={this.props.replicates})</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.properties.map(this.propertyRow)}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = FactorTooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/src/FactorTooltip.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./factorTooltipModule.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./factorTooltipModule.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./factorTooltipModule.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/factorTooltipModule.css\n ** module id = 954\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaFactorTooltip {\\n    border: solid transparent;\\n    color: darkslategray;\\n    padding: 2px;\\n    font: 10px Verdana, Helvetica, Arial, sans-serif;\\n    max-width: 600px;\\n}\\n\\n.gxaFactorTooltip table {\\n    margin: 0; /* overrides ebi-visual.css:134 */\\n    background-color: white;\\n    border: 1px solid lightgrey;\\n    border-collapse: collapse;\\n}\\n\\n.gxaFactorTooltip th {\\n    border-bottom: 1px solid lightgrey;\\n    background-color: floralwhite;\\n}\\n\\n.gxaFactorTooltip td {\\n    border: 1px solid lightgrey;\\n    white-space: nowrap;\\n}\\n\\n.gxaFactorTooltip td, .gxaFactorTooltip th {\\n    vertical-align: middle;\\n    padding: 8px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/src/factorTooltipModule.css\n ** module id = 955\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar $ = require('jquery');\n\n//*------------------------------------------------------------------*\n\nfunction StickyHeaderModule(table, stickyIntersect, stickyColumn, stickyHeadRow, stickyWrap, tableHeader) {\n    var $t\t             = $(table),\n        $stickyIntersect = $(stickyIntersect),\n        $stickyColumn    = $(stickyColumn),\n        $stickyHeadRow   = $(stickyHeadRow),\n        $stickyWrap      = $(stickyWrap),\n        $tableHeader     = $(tableHeader);\n\n    var calculateAllowance = createStickyAllowanceCallback($t, $stickyHeadRow);\n    var stickyReposition = createStickyRepositionCallback($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap, $tableHeader, calculateAllowance);\n    var setWidthAndHeight = createSetStickyWidthHeight($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap);\n    var setWidthsAndReposition = createSetStickyWidthHeightAndRepositionCallback(setWidthAndHeight, stickyReposition);\n\n    return {\n        calculateAllowance: calculateAllowance,\n        stickyReposition: stickyReposition,\n        setWidthAndHeight: setWidthAndHeight,\n        setWidthsAndReposition: setWidthsAndReposition\n    };\n\n    function createSetStickyWidthHeight($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap) {\n        return function () {\n            $t.find(\"thead th\").each(\n                function (i) {\n                    $stickyHeadRow.find(\"th\").eq(i).width($(this).width());\n                }\n            ).end().find(\"tr\").each(\n                function (i) {\n                    $stickyColumn.find(\"tr\").eq(i).height($(this).height());\n                    $stickyIntersect.find(\"tr\").eq(i).height($(this).height());\n                }\n            );\n\n            $stickyHeadRow.width($stickyWrap.width()).find(\"table\").width($t.width());\n            $stickyIntersect.find(\"table\").outerWidth($t.find(\"thead th\").eq(0).outerWidth());\n            $stickyColumn.find(\"table\").outerWidth($t.find(\"thead th\").eq(0).outerWidth());\n\n            // Set width of sticky table col\n            $stickyIntersect.find(\"tr:nth-child(2) th\").each(function (i) {\n                $(this).width($t.find(\"tr:nth-child(2) th\").eq(i).width());\n            });\n        }\n    }\n\n    function createStickyRepositionCallback($t, $stickyIntersect, $stickyColumn, $stickyHeadRow, $stickyWrap, $tableHeader, stickyAllowanceCallback) {\n        return function() {\n            var $w = $(window);\n\n            // Set position sticky col\n            $stickyHeadRow.add($stickyIntersect).add($stickyColumn).css({\n                left: $stickyWrap.offset().left,\n                top: $stickyWrap.offset().top\n            });\n\n            var allowance = stickyAllowanceCallback();\n\n            $stickyHeadRow.find(\"table\").css({\n                left: -$stickyWrap.scrollLeft()\n            });\n            $stickyColumn.css({\n                top: $stickyWrap.offset().top - $w.scrollTop(),\n                left: $stickyWrap.offset().left\n            });\n\n            // 1. Position sticky header based on viewport scrollTop\n            if ($w.scrollTop() + $tableHeader.outerHeight() > $t.offset().top &&\n                $w.scrollTop() + $tableHeader.outerHeight() < $t.offset().top + $t.outerHeight() - allowance) {\n                // When top of viewport is in the table itself\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"visible\",\n                    top: $tableHeader.outerHeight()\n                });\n            } else if ($w.scrollTop() + $tableHeader.outerHeight() > $t.offset().top + $t.outerHeight() - allowance) {\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"visible\",\n                    top: $t.offset().top + $t.outerHeight() - allowance - $w.scrollTop()\n                });\n            } else {\n                // When top of viewport is above or below table\n                $stickyHeadRow.add($stickyIntersect).css({\n                    visibility: \"hidden\",\n                    top: $stickyWrap.offset().top - $w.scrollTop()\n                });\n            }\n\n            // 2. Now deal with positioning of sticky column\n            if($stickyWrap.scrollLeft() > 0) {\n                // When left of wrapping parent is out of view\n                $stickyColumn.css({\n                    visibility: \"visible\",\n                    \"z-index\": 40\n                });\n            } else {\n                $stickyColumn.css({\n                    visibility: \"hidden\",\n                    \"z-index\": -5\n                });\n            }\n        }\n    }\n\n    function createSetStickyWidthHeightAndRepositionCallback(setWidthAndHeightCallback, stickyRepositionCallback) {\n        return function () {\n            setWidthAndHeightCallback();\n            stickyRepositionCallback();\n        }\n    }\n\n    function createStickyAllowanceCallback($t, $stickyHeadRow) {\n        return function() {\n            var rowHeight = 0;\n            // Calculate allowance\n            $t.find(\"tbody tr:lt(1)\").each(function () {\n                rowHeight += $(this).height();\n            });\n            return rowHeight + $stickyHeadRow.height();\n        }\n    }\n}\n\n//*------------------------------------------------------------------*\n\nmodule.exports = StickyHeaderModule;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/stickyHeaderModule.js\n ** module id = 956\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./stickyHeaderModule.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./stickyHeaderModule.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./stickyHeaderModule.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/stickyHeaderModule.css\n ** module id = 957\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaStickyTableWrap {\\n    overflow-x: auto;\\n    overflow-y: hidden;\\n    position: relative;\\n    width: 100%;\\n}\\n\\n.gxaStickyTableWrap div[class^='gxaSticky'] {\\n    overflow: hidden;\\n}\\n.gxaStickyTableWrap tfoot {\\n    display: none;\\n}\\n.gxaStickyTableWrap div table {\\n    margin: 0;\\n    position: relative;\\n    width: auto; /* Prevent table from stretching to full size */\\n    border-collapse: collapse;\\n}\\n.gxaStickyTableWrap .gxaStickyTableHeader,\\n.gxaStickyTableWrap .gxaStickyTableColumn,\\n.gxaStickyTableWrap .gxaStickyTableIntersect {\\n    visibility: hidden;\\n    position: fixed;\\n    z-index: 40;\\n}\\n.gxaStickyTableWrap .gxaStickyTableHeader {\\n    z-index: 50;\\n    width: 100%; /* Force stretch */\\n}\\n.gxaStickyTableWrap .gxaStickyTableIntersect {\\n    z-index: 60;\\n}\\n.gxaStickyTableWrap td,\\n.gxaStickyTableWrap th {\\n    box-sizing: border-box;\\n}\\n.gxaStickyTableWrap thead th {\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    -ms-user-select: none;\\n}\\n.gxaStickyEnabled {\\n    margin: 0;\\n    width: auto;\\n}\\n\\n.wrapper-sticky {\\n    z-index: 45;\\n}\\n\\n/* To hide sticky column and intersect when screen gets too narrow */\\n@media only screen and (max-width: 768px) {\\n    .gxaStickyTableColumn, .gxaStickyTableIntersect {\\n        display: none;\\n    }\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/src/stickyHeaderModule.css\n ** module id = 958\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./Heatmap.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./Heatmap.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./Heatmap.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/Heatmap.css\n ** module id = 959\n ** module chunks = 1 3\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHeatmapMatrixTopLeftCorner {\\n    position: relative;\\n    display: table;\\n    height: 110px;\\n    width: 100%;\\n    min-width: 160px;\\n}\\n\\n.gxaTableGrid {\\n    color: #404040;\\n    background-color: white;\\n    border: 1px solid #cdcdcd !important;\\n    border-spacing: 0;\\n    empty-cells: show;\\n    height: 100%;\\n    text-align: left;\\n    width: auto;\\n    border-collapse: collapse;\\n}\\n\\n.gxaTableGrid>tbody>tr>td, .gxaTableGrid>thead>tr>td {\\n    color: #3D3D3D;\\n    vertical-align: middle;\\n    border: 1px solid #cdcdcd !important;\\n    height: 25px;\\n    width: 25px;\\n    white-space: nowrap;\\n}\\n\\nth.gxaVerticalHeaderCell, .gxaHorizontalHeaderCell {\\n    font-weight: normal;\\n    background-color: rgb(237, 246, 246) !important;\\n}\\n\\nth.gxaHoverableHeader:hover, th.gxaHeaderHover {\\n    background-color: #deebeb !important;\\n}\\n\\nth.gxaSelectableHeader:hover {\\n    cursor: pointer;\\n}\\n\\nth.gxaVerticalHeaderCell-selected, th.gxaVerticalHeaderCell-selected:hover, th.gxaHorizontalHeaderCell-selected, th.gxaHorizontalHeaderCell-selected:hover {\\n    background-color: rgb(181, 234, 234) !important;\\n    border: 1px solid #cdcdcd;\\n    padding:5px;\\n}\\n\\nth.gxaHorizontalHeaderCell {\\n    border: 1px solid #cdcdcd;\\n    white-space: nowrap;\\n    padding:5px;\\n    text-align: left !important;\\n}\\n\\ntr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell {\\n    background-color: rgb(210, 233, 233) !important;\\n}\\n\\ntr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell-selected, tr.gxaProteomicsExperiment td.gxaHorizontalHeaderCell:hover {\\n    background-color: rgb(200, 220, 220) !important;\\n}\\n\\n.gxaHeatmapCell {\\n    font-size: 9px;\\n    background-color: white;\\n    margin: 4px;\\n    padding: 2px;\\n    white-space: nowrap;\\n    text-align: center;\\n}\\n\\nth.gxaHeatmapTableDesignElement {\\n    font-weight: normal;\\n    text-align: left;\\n    border: 1px solid #CDCDCD;\\n}\\n\\n.gxaHeatmapCountAndLegend {\\n    background: white;\\n}\\n\\n.csstransforms .rotated_cell {\\n    height: 130px;\\n    border: 1px solid #cdcdcd;\\n    vertical-align: bottom;\\n    padding-bottom: 10px\\n}\\n\\n.csstransforms .rotate_text {\\n    position: relative;\\n    top: 27px;\\n    width: 25px;\\n    padding-top: 5px;\\n    white-space: nowrap;\\n    -moz-transform: rotate(-90deg);\\n    -moz-transform-origin: top left;\\n    -ms-transform: rotate(-90deg);\\n    -ms-transform-origin: top left;\\n    -webkit-transform: rotate(-90deg);\\n    -webkit-transform-origin: top left;\\n    -o-transform: rotate(-90deg);\\n    -o-transform-origin: top left;\\n}\\n\\n.csstransforms .rotate_tick {\\n    -moz-transform: rotate(-270deg);\\n    -webkit-transform: rotate(-270deg);\\n    -ms-transform: rotate(-270deg);\\n    -o-transform: rotate(-270deg);\\n}\\n\\n.gxaNoTextButton {\\n    border: 1px solid #ccc !important; /* overrides ebi-visual.css */\\n}\\n\\n.gxaNoTextButton .ui-button-text {\\n    padding: 2px;\\n}\\n\\n.gxaFeedbackBoxWrapper {\\n  margin-top: 15px;\\n}\\n\\n.gxaDisplayCoexpressionOffer {\\n  margin-top: 30px;\\n}\\n\\n.gxaDisplayCoexpressionOffer .gxaSlider {\\n  width: 250px;\\n  margin: 15px;\\n  padding-bottom: 20px;\\n}\\n\\n.gxaDisplayCoexpressionOffer p {\\n  font-size: 93%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/src/Heatmap.css\n ** module id = 960\n ** module chunks = 1 3\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nvar React = require('react');\nvar ReactDOM = require('react-dom');\n\nvar $ = require('jquery');\nrequire('jquery-ui-bundle');\n\n//*------------------------------------------------------------------*\n\nvar ensemblUtils = require('./ensemblUtils.js');\n\n//*------------------------------------------------------------------*\n\nrequire('./EnsemblLauncher.css');\n\n//*------------------------------------------------------------------*\n\nvar EnsemblLauncher = React.createClass({\n    propTypes: {\n        isBaseline: React.PropTypes.bool.isRequired,\n        experimentAccession: React.PropTypes.string.isRequired,\n        species: React.PropTypes.string.isRequired,\n        ensemblDB: React.PropTypes.string.isRequired,\n        columnType: React.PropTypes.string.isRequired,\n        eventEmitter: React.PropTypes.object.isRequired,\n        atlasBaseURL: React.PropTypes.string.isRequired\n    },\n\n    _noSelectedColumnMessageArticle: function () {\n        var isVowel = (function () {\n            var re = /^[aeiou]$/i;\n            return function (char) {\n                return re.test(char);\n            }\n        })();\n\n        var beginsWithVowel = function (string) {\n            return isVowel(string.charAt(0));\n        };\n\n        return beginsWithVowel(this.props.columnType) ? \"an \" : \"a \";\n    },\n\n    _ensemblTrackURL: function (baseURL, selectedColumnId, selectedGeneId) {\n        var ensemblSpecies = ensemblUtils.toEnsemblSpecies(this.props.species);\n        var atlasTrackBaseURLWithTrackFileHeader =\n            this.props.atlasBaseURL\n            + \"/experiments/\" + this.props.experimentAccession\n            + \"/tracks/\" + this.props.experimentAccession + \".\" + selectedColumnId;\n        var contigViewBottom =\n            \"contigviewbottom=url:\" + atlasTrackBaseURLWithTrackFileHeader\n            + (this.props.isBaseline ? \".genes.expressions.bedGraph\" : \".genes.log2foldchange.bedGraph\");\n        var tiling =\n            this.props.isBaseline\n            ? \"\"\n            : \"=tiling,url:\" + atlasTrackBaseURLWithTrackFileHeader + \".genes.pval.bedGraph=pvalue;\";\n        return baseURL + ensemblSpecies +\n            \"/Location/View?g=\" + selectedGeneId\n            + \";db=core;\"\n            + contigViewBottom + tiling\n            + \";format=BEDGRAPH\";\n    },\n\n    _openEnsemblWindow: function (baseURL) {\n        if (!this.state.selectedColumnId || !this.state.selectedGeneId) {\n            return;\n        }\n        console.log(this._ensemblTrackURL(baseURL,this.state.selectedColumnId,this.state.selectedGeneId));\n        window.open(this._ensemblTrackURL(baseURL,this.state.selectedColumnId,this.state.selectedGeneId), '_blank');\n    },\n\n    _onColumnSelectionChange: function (selectedColumnId) {\n        this.setState({selectedColumnId: selectedColumnId});\n    },\n\n    _onGeneSelectionChange: function (selectedGeneId) {\n        this.setState({selectedGeneId: selectedGeneId});\n    },\n\n    _updateButton: function() {\n        var buttonEnabled = this.state.selectedColumnId && this.state.selectedGeneId ? true : false;\n        $(ReactDOM.findDOMNode(this.refs.ensemblButton)).button(\"option\", \"disabled\", !buttonEnabled);\n        if (this.props.ensemblDB == \"plants\") {\n            $(ReactDOM.findDOMNode(this.refs.grameneButton)).button(\"option\", \"disabled\", !buttonEnabled);\n        }\n    },\n\n    componentDidUpdate: function () {\n        this._updateButton();\n    },\n\n    componentDidMount: function () {\n        $(ReactDOM.findDOMNode(this.refs.ensemblButton)).button({icons: {primary: \"ui-icon-newwin\"}});\n        if (this.props.ensemblDB == \"plants\") {\n            $(ReactDOM.findDOMNode(this.refs.grameneButton)).button({icons: {primary: \"ui-icon-newwin\"}});\n        }\n        this._updateButton();\n        this.props.eventEmitter.addListener('onColumnSelectionChange', this._onColumnSelectionChange);\n        this.props.eventEmitter.addListener('onGeneSelectionChange', this._onGeneSelectionChange);\n    },\n\n    getInitialState: function () {\n        return {selectedColumnId: null, selectedGeneId: null, buttonText: \"\"};\n    },\n\n    render: function () {\n        var ensemblHost = ensemblUtils.getEnsemblHost(this.props.ensemblDB);\n        var grameneHost = ensemblUtils.getGrameneHost();\n\n        return (\n            <div id=\"ensembl-launcher-box\" style={{width: \"245px\"}}>\n                <div id=\"ensembl-launcher-box-ensembl\">\n                    <div className=\"gxaEnsemblGrameneLauncherHeader\">\n                        <label>Ensembl Genome Browser</label>\n                        <img src={this.props.atlasBaseURL + \"/resources/images/ensembl.png\"} style={{padding: \"0px 5px\", verticalAlign: \"text-bottom\"}}/>\n                    </div>\n                    <button ref=\"ensemblButton\" onClick={this._openEnsemblWindow.bind(this, ensemblHost)}>Open</button>\n                </div>\n                { this.props.ensemblDB == \"plants\" ?\n                    <div id=\"ensembl-launcher-box-gramene\" >\n                        <div className=\"gxaEnsemblGrameneLauncherHeader\">\n                            <label>Gramene Genome Browser</label>\n                            <img src={this.props.atlasBaseURL + \"/resources/images/gramene.png\"} style={{padding: \"0px 5px\", verticalAlign: \"text-bottom\"}}/>\n                        </div>\n                        <button ref=\"grameneButton\" onClick={this._openEnsemblWindow.bind(this, grameneHost)}>Open</button>\n                    </div>\n                    : null\n                }\n                <div style={{\"fontSize\": \"x-small\", padding: \"9px 9px\"}}>{this._helpMessage(this.state.selectedColumnId, this.state.selectedGeneId)}</div>\n            </div>\n        );\n    },\n\n    _helpMessage: function (selectedColumnId, selectedGeneId) {\n        if (selectedColumnId && selectedGeneId) {\n            return \"\";\n        }\n\n        var noSelectedColumnMessage = selectedColumnId ? \"\" : this.props.columnType;\n        var noSelectedGeneMessage = selectedGeneId ? \"\" : \"gene\";\n\n        return \"Please select \" + this._noSelectedColumnMessageArticle() + noSelectedColumnMessage + (!(selectedColumnId || selectedGeneId) ? \" and a \" : \"\") + noSelectedGeneMessage + \" from the table\";\n    }\n});\n\n//*------------------------------------------------------------------*\n\nmodule.exports = EnsemblLauncher;\n\n\n/** WEBPACK FOOTER **\n ** ./expression-atlas-heatmap/src/EnsemblLauncher.jsx\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\n// ensemblSpecies is the first two words only, with underscores instead of spaces, and all lower case except for the first character\n// used to launch the ensembl genome browser for tracks\n/**\n * @param {string} species\n */\nfunction toEnsemblSpecies(species) {\n    /**\n     * @param {string} str\n     */\n    function capitaliseFirstLetter(str)\n    {\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n\n    /**\n     * @param {string} str\n     */\n    function firstTwoWords(str) {\n        var words = str.split(\" \");\n        return (words.length <= 2) ? str : words[0] + \" \" + words[1];\n    }\n\n    return capitaliseFirstLetter(firstTwoWords(species).replace(\" \", \"_\").toLowerCase());\n}\n\nfunction getEnsemblHost(ensemblDB) {\n    var ensemblHost = \"\";\n\n    if (ensemblDB === \"plants\") {\n        ensemblHost = \"http://plants.ensembl.org/\";\n    } else if (ensemblDB === \"fungi\") {\n        ensemblHost = \"http://fungi.ensembl.org/\";\n    } else if (ensemblDB === \"metazoa\") {\n        ensemblHost = \"http://metazoa.ensembl.org/\";\n    } else if (ensemblDB === \"ensembl\") {\n        ensemblHost = \"http://www.ensembl.org/\";\n    }\n\n    return ensemblHost;\n}\n\nfunction getGrameneHost() {\n    return \"http://ensembl.gramene.org/\";\n}\n\n//*------------------------------------------------------------------*\n\nexports.toEnsemblSpecies = toEnsemblSpecies;\nexports.getEnsemblHost = getEnsemblHost;\nexports.getGrameneHost = getGrameneHost;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/ensemblUtils.js\n ** module id = 962\n ** module chunks = 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./EnsemblLauncher.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./EnsemblLauncher.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./EnsemblLauncher.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/EnsemblLauncher.css\n ** module id = 963\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#ensembl-launcher-box {\\n    border: 1px solid #cdcdcd;\\n    text-align: center;\\n}\\n\\n#ensembl-launcher-box-ensembl, #ensembl-launcher-box-gramene {\\n    padding: 4px 9px;\\n}\\n\\n#ensembl-launcher-box-ensembl label, #ensembl-launcher-box-gramene label {\\n    font-weight: 400;\\n    /*font-family: Helvetica, sans-serif;*/\\n    font-size: 14px;\\n}\\n\\n#ensembl-launcher-box-ensembl button, #ensembl-launcher-box-gramene button {\\n    display: table;\\n    margin: 0 auto;\\n    font-size: 14px;\\n}\\n\\n.gxaEnsemblGrameneLauncherHeader {\\n    text-align: center;\\n    padding-bottom: 6px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/src/EnsemblLauncher.css\n ** module id = 964\n ** module chunks = 1\n **/","\"use strict\";\n\n//*------------------------------------------------------------------*\n\nmodule.exports = {\n    BASELINE: { isBaseline: true, heatmapTooltip: \"#heatMapTableCellInfo-baseline\" },\n    PROTEOMICS_BASELINE: { isBaseline: true, isProteomics: true, heatmapTooltip: \"#heatMapTableCellInfo-proteomics\" },\n    DIFFERENTIAL: { isDifferential: true, heatmapTooltip: \"#heatMapTableCellInfo-differential\" },\n    MULTIEXPERIMENT: { isMultiExperiment: true, heatmapTooltip: \"#heatMapTableCellInfo-multiexperiment\" }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/experimentTypes.js\n ** module id = 965\n ** module chunks = 1 3\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js!./ExperimentPageHeatmapAnatomogramContainer.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js!./ExperimentPageHeatmapAnatomogramContainer.css\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js!./ExperimentPageHeatmapAnatomogramContainer.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/src/ExperimentPageHeatmapAnatomogramContainer.css\n ** module id = 966\n ** module chunks = 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".gxaHeatmapPosition {\\n    position: relative;\\n    margin-left: 270px;\\n    overflow: hidden;\\n}\\n\\n.gxaAside {\\n    float: left;\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./expression-atlas-heatmap/~/css-loader!./expression-atlas-heatmap/src/ExperimentPageHeatmapAnatomogramContainer.css\n ** module id = 967\n ** module chunks = 1\n **/"],"sourceRoot":""}