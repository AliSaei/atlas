<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE urlrewrite PUBLIC "-//tuckey.org//DTD UrlRewrite 3.1//EN" "http://www.tuckey.org/res/dtds/urlrewrite4.0.dtd">
<urlrewrite>
    <rule>
        <note>Remove trailing slash from all experiments</note>
        <from>/experiments/(.*)/$</from>
        <to type="permanent-redirect">/gxa/experiments/$1</to>
    </rule>
    <rule>
        <note>Redirect all HTTPS to HTTP. In particular, this is for curators following https://www.ebi.ac.uk/gxa/* links from ArrayExpress</note>
        <condition type="scheme" operator="equal">https</condition>
        <from>^/(.*)</from>
        <to type="permanent-redirect" last="true">http://%{server-name}%{context-path}/$1</to>
    </rule>
    <rule>
        <from>/das/s4(/)?$</from>
        <to>/resources/das/s4.xml</to>
    </rule>
    <rule>
        <from>/das/s4/types(/)?$</from>
        <to>/resources/das/types.xml</to>
    </rule>
    <rule>
        <note>For development and testing of condition autocomplete, which is served by arrayexpress</note>
        <from>/arrayexpress/(.*)</from>
        <to type="proxy">http://www.ebi.ac.uk/arrayexpress/$1?%{query-string}</to>
    </rule>
</urlrewrite>